!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",function(){if("undefined"!=typeof document){var t=document.getElementById("dist/playground.css");t||((t=document.createElement("style")).id="dist/playground.css",document.head.appendChild(t)),t.textContent='.playground1951724333--root {\n    -st-states: fullscreen;\n    /* display: flex;\n    width: 100%;\n    height: 400px; */\n    position:relative;\n    font-family: HelveticaNeueW01-45Ligh, HelveticaNeueW02-45Ligh, HelveticaNeueW10-45Ligh, Helvetica Neue, Helvetica, Arial, メイリオ, meiryo, ヒラギノ角ゴ pro w3, hiragino kaku gothic pro, sans-serif;\n}\n\n.playground1951724333--root[data-playground1951724333-fullscreen] .playground1951724333--golden{\n    position: fixed;\n    top:0px;\n    left:0px;\n    z-index: 20;\n}\n\n.playground1951724333--root .playground1951724333--golden {\n    width:100%;\n    height:calc(100% - 26px);\n}\n\n.playground1951724333--root .playground1951724333--toolbar {\n    height:26px;\n    background: black;\n}\n\n.playground1951724333--root[data-playground1951724333-fullscreen] .playground1951724333--toolbar{\n    position: fixed;\n    bottom:0px;\n    left:0px;\n    width:100%;\n    z-index: 100;\n}\n\n.playground1951724333--root .playground1951724333--toggle-fullscreen{\n    background:transparent;\n    border: none;\n    float: right;\n    margin-right: 5px;\n    margin-top: 5px;\n    width:16px;\n    height:16px;\n    outline:none;\n    background-image: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="lightBlue" strokeWidth="4"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3" /></svg>\');\n}\n.playground1951724333--root .playground1951724333--toggle-fullscreen:hover{\n    margin-right:2px;\n    margin-top:2px;\n    width:24px;\n    height:24px;\n}\n.playground1951724333--root[data-playground1951724333-fullscreen] .playground1951724333--toggle-fullscreen{\n    background-image: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="lightBlue" strokeWidth="4" strokeLinecap="round" strokeLinejoin="round">                            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/></svg>\');\n}\n.previewpanel3502187295--root {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    background-color: #191A28;\n}\n\n.previewpanel3502187295--root .previewpanel3502187295--title {\n    padding: 9px;\n    background-color: #F0F4F7;\n    font-size: 12px;\n    font-weight: bold;\n    color: #596A9E;\n    line-height: 17px;\n}\n\n.previewpanel3502187295--root .previewpanel3502187295--frame {\n    flex: 1;\n    width: 100%;\n    border: none;\n}\n.previewpanel3502187295--root .previewpanel3502187295--floating-controls-wrapper{\n    height:0px;\n    position: relative;\n    width: 100%;\n}\n\n.previewpanel3502187295--root .previewpanel3502187295--status-bar {\n    padding: 3px 11px 4px;\n    color: white;\n    font-size: 14px;\n    background-color: #2A2B41;\n}\n\n.previewpanel3502187295--root .previewpanel3502187295--highlightCodeHover{\n    position: absolute;\n    box-shadow:  0 0 0 1px white ;\n    outline:1px dashed black;\n}\n\n.previewpanel3502187295--root .previewpanel3502187295--highlightCodeSelection{\n    position: absolute;\n    box-shadow:  0 0 0 1px white ;\n    outline:1px dashed black;\n    background-color: rgba(89, 106, 158, 0.56);\n}\n\n\n\n.previewpanel3502187295--root .previewpanel3502187295--exports-wrapper{\n    position: absolute;\n    top:0px;\n    left:0px;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n\n}\n\n.previewpanel3502187295--root .previewpanel3502187295--exports{\n\n}\n\n.previewpanel3502187295--root .previewpanel3502187295--sim-selector{\n    \n}\n\n.previewpanel3502187295--root .previewpanel3502187295--export-box{\n    box-sizing: border-box;\n    height:250px;\n    width:200px;\n    border:1px solid white;\n    margin: 10px;\n}\n\n.previewpanel3502187295--root .previewpanel3502187295--export-header{\n    padding: 10px;\n    background: white;\n    height:30px;\n}\n\n\n.previewpanel3502187295--root .previewpanel3502187295--exports-header{\n    color:white\n}\n\n.previewpanel3502187295--root .previewpanel3502187295--export{\n    background: white;\n}\n\n.previewpanel3502187295--root .previewpanel3502187295--back-btn{\n    \n}\n.monaco-editor-background {\n    background-color: #2A2B41 !important;\n}\n\n.monaco-editor .margin {\n    background-color: #2A2B41 !important;\n}\n\n.monaco-editor .line-numbers {\n    color: #6679B3 !important;\n}\n\n\n.codepanel2998173777--root {\n    height: 100%;\n    padding: 10px 0;\n}\n\n.codepanel2998173777--root .codepanel2998173777--monacoContainer {\n    height: 100%;\n}\n\n\n.filepanel2830433321--root {\n    height: 100%;\n    width: 100%;\n    padding: 10px 0; \n    display: flex;\n    flex-direction: column;\n    color: white;\n    background-color: #191A28;\n    font-size: 12px;\n    overflow-y: auto;\n}\n\n.filepanel2830433321--root .filepanel2830433321--tree {\n    -st-states: expanded, dir;\n}\n\n.filepanel2830433321--root .filepanel2830433321--expandArrow {\n    margin-right: 8px;\n    padding: 0;\n    transform: rotate(-90deg);\n    border: none;\n    background-color: transparent;\n    color: #6679B3;\n    font-size: 10px;\n    outline: none;\n    user-select: none;\n    cursor: pointer;\n}\n\n.filepanel2830433321--root .filepanel2830433321--tree[data-filepanel2830433321-expanded] > .filepanel2830433321--file > .filepanel2830433321--expandArrow {\n    transform: none;\n}\n\n.filepanel2830433321--root .filepanel2830433321--file {\n    display: inline-block;\n    width: 100%;\n    color: white;\n    line-height: 24px;\n    cursor: pointer;\n}\n\n.filepanel2830433321--root .filepanel2830433321--tree[data-filepanel2830433321-dir] > .filepanel2830433321--file {\n    color: white;\n}\n\n.filepanel2830433321--root .filepanel2830433321--file:hover,.filepanel2830433321--root .filepanel2830433321--tree[data-filepanel2830433321-dir] > .filepanel2830433321--file:hover {\n    background-color: #368FDA;\n    color: white;\n}\n\n.filepanel2830433321--root .filepanel2830433321--icon {\n    display: inline-block;\n    position: relative;\n    top: 2px;\n    width: 12px;\n    height: 12px;\n    margin-right: 8px;\n    background-size: 12px;\n}\n\n.filepanel2830433321--root .filepanel2830433321--previewIcon {\n    display: inline-block;\n    position: relative;\n    top: 2px;\n    width: 12px;\n    height: 12px;\n    padding-right: 3px;\n    background-repeat: no-repeat;\n    background-size: 12px;\n}\n'}}(),n(n.s=487)}([function(t,e,n){var r;r=function(){var t=t||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){e=e;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var a=i(4294967296*(n||t.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,e)}}),a=r.enc={},c=a.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(n,e/2)}},l=a.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(n,e)}},u=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o),c=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,l=t.min(4*c,i);if(c){for(var u=0;u<c;u+=o)this._doProcessBlock(r,u);var h=r.splice(0,c);n.sigBytes-=l}return new s.init(h,l)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),f=(i.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new f.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math);return t},t.exports=r()},function(t,e,n){"use strict";(function(t){var r=n(185),i=n(60),o=n(31);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(u(e),t=a(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,f=0;f<c;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function v(t,e,n,r){return z(F(e,t.length-n),t,n,r)}function b(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return b(t,e,n,r)}function E(t,e,n,r){return z(H(e),t,n,r)}function A(t,e,n,r){return z(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function x(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,l=t[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return x(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,s=n-e,a=Math.min(o,s),l=this.slice(r,i),u=t.slice(e,n),h=0;h<a;++h)if(l[h]!==u[h]){o=l[h],s=u[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=L(t[o]);return i}function D(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function k(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function R(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,r,o){return o||R(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return o||R(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||B(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||B(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);B(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);B(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=c.isBuffer(t)?t:F(new c(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(e,n(4))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r;r=function(t){t.lib.Cipher||function(e){var n=t,r=n.lib,i=r.Base,o=r.WordArray,s=r.BufferedBlockAlgorithm,a=n.enc,c=(a.Utf8,a.Base64),l=n.algo.EvpKDF,u=r.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?v:y}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),h=(r.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),n.mode={}),f=r.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),p=h.CBC=function(){var t=f.extend();function n(t,n,r){var i=this._iv;if(i){var o=i;this._iv=e}else o=this._prevBlock;for(var s=0;s<r;s++)t[n+s]^=o[s]}return t.Encryptor=t.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize;n.call(this,t,e,i),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),t.Decryptor=t.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,o=t.slice(e,e+i);r.decryptBlock(t,e),n.call(this,t,e,i),this._prevBlock=o}}),t}(),d=(n.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,i=r<<24|r<<16|r<<8|r,s=[],a=0;a<r;a+=4)s.push(i);var c=o.create(s,r);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},g=(r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:p,padding:d}),reset:function(){u.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else{r=n.createDecryptor;this._minBufferSize=1}this._mode=r.call(n,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{e=this._process(!0);t.unpad(e)}return e},blockSize:4}),r.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),m=(n.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var r=o.create([1398893684,1701076831]).concat(n).concat(e);else r=e;return r.toString(c)},parse:function(t){var e=c.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var r=o.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return g.create({ciphertext:e,salt:r})}},y=r.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),s=i.cfg;return g.create({ciphertext:o,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),_=(n.kdf={}).OpenSSL={execute:function(t,e,n,r){r||(r=o.random(8));var i=l.create({keySize:e+n}).compute(t,r),s=o.create(i.words.slice(e),4*n);return i.sigBytes=4*e,g.create({key:i,iv:s,salt:r})}},v=r.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:_}),encrypt:function(t,e,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=y.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=i.iv,y.decrypt.call(this,t,e,i.key,r)}})}()},t.exports=r(n(0))},function(t,e,n){var r=n(1),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";if(!r)var r={cwd:function(){return"/"}};function i(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+t)}function o(t,e){for(var n,r="",i=-1,o=0,s=0;s<=t.length;++s){if(s<t.length)n=t.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(i===s-1||1===o);else if(i!==s-1&&2===o){if(r.length<2||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){for(var a=r.length-1,c=a;c>=0&&47!==r.charCodeAt(c);--c);if(c!==a){r=-1===c?"":r.slice(0,c),i=s,o=0;continue}}else if(2===r.length||1===r.length){r="",i=s,o=0;continue}e&&(r.length>0?r+="/..":r="..")}else r.length>0?r+="/"+t.slice(i+1,s):r=t.slice(i+1,s);i=s,o=0}else 46===n&&-1!==o?++o:o=-1}return r}var s={resolve:function(){for(var t,e="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var a;s>=0?a=arguments[s]:(void 0===t&&(t=r.cwd()),a=t),i(a),0!==a.length&&(e=a+"/"+e,n=47===a.charCodeAt(0))}return e=o(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(t){if(i(t),0===t.length)return".";var e=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=o(t,!e)).length||e||(t="."),t.length>0&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return i(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];i(n),n.length>0&&(void 0===t?t=n:t+="/"+n)}return void 0===t?".":s.normalize(t)},relative:function(t,e){if(i(t),i(e),t===e)return"";if((t=s.resolve(t))===(e=s.resolve(e)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var r=t.length,o=r-n,a=1;a<e.length&&47===e.charCodeAt(a);++a);for(var c=e.length-a,l=o<c?o:c,u=-1,h=0;h<=l;++h){if(h===l){if(c>l){if(47===e.charCodeAt(a+h))return e.slice(a+h+1);if(0===h)return e.slice(a+h)}else o>l&&(47===t.charCodeAt(n+h)?u=h:0===h&&(u=0));break}var f=t.charCodeAt(n+h);if(f!==e.charCodeAt(a+h))break;47===f&&(u=h)}var p="";for(h=n+u+1;h<=r;++h)h!==r&&47!==t.charCodeAt(h)||(0===p.length?p+="..":p+="/..");return p.length>0?p+e.slice(a+u):(a+=u,47===e.charCodeAt(a)&&++a,e.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(i(t),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(e=t.charCodeAt(s))){if(!o){r=s;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"//":t.slice(0,r)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');i(t);var n,r=0,o=-1,s=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var a=e.length-1,c=-1;for(n=t.length-1;n>=0;--n){var l=t.charCodeAt(n);if(47===l){if(!s){r=n+1;break}}else-1===c&&(s=!1,c=n+1),a>=0&&(l===e.charCodeAt(a)?-1==--a&&(o=n):(a=-1,o=c))}return r===o?o=c:-1===o&&(o=t.length),t.slice(r,o)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!s){r=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?"":t.slice(r,o)},extname:function(t){i(t);for(var e=-1,n=0,r=-1,o=!0,s=0,a=t.length-1;a>=0;--a){var c=t.charCodeAt(a);if(47!==c)-1===r&&(o=!1,r=a+1),46===c?-1===e?e=a:1!==s&&(s=1):-1!==e&&(s=-1);else if(!o){n=a+1;break}}return-1===e||-1===r||0===s||1===s&&e===r-1&&e===n+1?"":t.slice(e,r)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('Parameter "pathObject" must be an object, not '+typeof t);return function(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}("/",t)},parse:function(t){i(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var n,r=t.charCodeAt(0),o=47===r;o?(e.root="/",n=1):n=0;for(var s=-1,a=0,c=-1,l=!0,u=t.length-1,h=0;u>=n;--u)if(47!==(r=t.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===r?-1===s?s=u:1!==h&&(h=1):-1!==s&&(h=-1);else if(!l){a=u+1;break}return-1===s||-1===c||0===h||1===h&&s===c-1&&s===a+1?-1!==c&&(e.base=e.name=0===a&&o?t.slice(1,c):t.slice(a,c)):(0===a&&o?(e.name=t.slice(1,s),e.base=t.slice(1,c)):(e.name=t.slice(a,s),e.base=t.slice(a,c)),e.ext=t.slice(s,c)),a>0?e.dir=t.slice(0,a-1):o&&(e.dir="/"),e},sep:"/",delimiter:":",posix:null};t.exports=s},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,l=[],u=!1,h=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!u){var t=a(f);u=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||u||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var r=e.global=n(184),i=e.hasBuffer=r&&!!r.isBuffer,o=e.hasArrayBuffer="undefined"!=typeof ArrayBuffer,s=e.isArray=n(31);e.isArrayBuffer=o?function(t){return t instanceof ArrayBuffer||d(t)}:m;var a=e.isBuffer=i?r.isBuffer:m,c=e.isView=o?ArrayBuffer.isView||y("ArrayBuffer","buffer"):m;e.alloc=p,e.concat=function(t,n){n||(n=0,Array.prototype.forEach.call(t,function(t){n+=t.length}));var r=this!==e&&this||t[0],i=p.call(r,n),o=0;return Array.prototype.forEach.call(t,function(t){o+=f.copy.call(t,i,o)}),i},e.from=function(t){return"string"==typeof t?function(t){var e=3*t.length,n=p.call(this,e),r=f.write.call(n,t);e!==r&&(n=f.slice.call(n,0,r));return n}.call(this,t):g(this).from(t)};var l=e.Array=n(186),u=e.Buffer=n(187),h=e.Uint8Array=n(188),f=e.prototype=n(61);function p(t){return g(this).alloc(t)}var d=y("ArrayBuffer");function g(t){return a(t)?u:c(t)?h:s(t)?l:i?u:o?h:l}function m(){return!1}function y(t,e){return t="[object "+t+"]",function(n){return null!=n&&{}.toString.call(e?n[e]:n)===t}}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return i}),e.__rest=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]]);return n},e.__decorate=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},e.__param=function(t,e){return function(n,r){e(n,r,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=o,e.__read=s,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},e.__await=a,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||c(t,e)})})}function c(t,e){try{(n=i[t](e)).value instanceof a?Promise.resolve(n.value.v).then(l,u):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function l(t){c("next",t)}function u(t){c("throw",t)}function h(t,e){t(e),o.shift(),o.length&&c(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:a(t[r](e)),done:"return"===r}:i?i(e):e})}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):o(t)},e.__makeTemplateObject=function(t,e){Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e;return t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};var i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(t){return this instanceof a?(this.v=t,this):new a(t)}},function(t,e,n){t.exports=i;var r=n(51).EventEmitter;function i(){r.call(this)}n(3)(i,r),i.Readable=n(63),i.Writable=n(206),i.Duplex=n(207),i.Transform=n(208),i.PassThrough=n(209),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",c));var s=!1;function a(){s||(s=!0,t.end())}function c(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function l(t){if(u(),0===r.listenerCount(this,"error"))throw t}function u(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",c),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",u),n.removeListener("close",u),t.removeListener("close",u)}return n.on("error",l),t.on("error",l),n.on("end",u),n.on("close",u),t.on("close",u),t.emit("pipe",n),t}},function(t,e,n){(function(t){var n=function(){};"AUTOBAHN_DEBUG"in t&&AUTOBAHN_DEBUG&&"console"in t&&(n=function(){console.log.apply(console,arguments)});var r=console.warn;e.debug=n,e.warn=r}).call(e,n(4))},,,function(t,e,n){(function(t,r){var i=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),c=r[n];n<o;c=r[++n])g(c)||!b(c)?s+=" "+c:s+=" "+a(c);return s},e.deprecate=function(n,i){if(_(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,s={};function a(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),u(r,t,r.depth)}function c(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function l(t,e){return t}function u(t,n,r){if(t.customInspect&&n&&A(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return y(i)||(i=u(t,i,r)),i}var o=function(t,e){if(_(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(m(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),E(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(A(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(v(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return h(n)}var l,b="",S=!1,x=["{","}"];(p(n)&&(S=!0,x=["[","]"]),A(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),E(n)&&(b=" "+h(n)),0!==s.length||S&&0!=n.length?r<0?v(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=S?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)I(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))}),o}(t,n,r,a,s):s.map(function(e){return f(t,n,r,a,e,S)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(l,b,x)):x[0]+b+x[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),I(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=g(n)?u(t,c.value,null):u(t,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return"number"==typeof t}function y(t){return"string"==typeof t}function _(t){return void 0===t}function v(t){return b(t)&&"[object RegExp]"===S(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===S(t)}function E(t){return b(t)&&("[object Error]"===S(t)||t instanceof Error)}function A(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(_(o)&&(o=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=r.pid;s[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else s[t]=function(){};return s[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=_,e.isRegExp=v,e.isObject=b,e.isDate=w,e.isError=E,e.isFunction=A,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(153);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":"),[t.getDate(),C[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(154),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(4),n(8))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(36),i=n(39);e.getPathNodes=function(t){return t.split(i.pathSeparator).filter(function(t){return t.length})},e.normalizePathNodes=function(t){return t.filter(function(t){return t.length}).join(i.pathSeparator)},e.splitPathToDirAndFile=function(t){var e=t.lastIndexOf(i.pathSeparator);return{parentPath:t.substr(0,e),name:t.substr(e+1)}},e.checkExistsInDir=function(t,e,n){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.type===t&&o.name===n)return!0}return!1},e.makeEventsEmitter=function(){return new r.EventEmitter},e.makeCorrelationId=function(){return(Math.random().toString(36)+"0000").substr(2,4)},e.endsWith=function(t,e){return t.lastIndexOf(e)===t.length-e.length}},function(t,e,n){"use strict";var r=n(44),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var o=n(32);o.inherits=n(3);var s=n(94),a=n(64);o.inherits(h,s);for(var c=i(a.prototype),l=0;l<c.length;l++){var u=c[l];h.prototype[u]||(h.prototype[u]=a.prototype[u])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},,,function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(t){var e=n(170),r=n(172),i=n(173),o=n(174),s=n(175),a=n(176),c=n(177),l=n(178),u=n(179),h=n(82),f=[r,i,o,a,c,s,l,e,u].reduce(function(t,e){return e(t)},n(181)),p=n(57)(f);function d(t,e,n,r){var i=f.resolve(t);return arguments.length<2?i:i.then(e,n,r)}function g(t){return function(){for(var e=0,n=arguments.length,r=new Array(n);e<n;++e)r[e]=arguments[e];return p(t,this,r)}}function m(t){for(var e=0,n=arguments.length-1,r=new Array(n);e<n;++e)r[e]=arguments[e+1];return p(t,this,r)}return d.promise=function(t){return new f(t)},d.resolve=f.resolve,d.reject=f.reject,d.lift=g,d.try=m,d.attempt=m,d.iterate=f.iterate,d.unfold=f.unfold,d.join=function(){return f.all(arguments)},d.all=function(t){return d(t,f.all)},d.settle=function(t){return d(t,f.settle)},d.any=g(f.any),d.some=g(f.some),d.race=g(f.race),d.map=function(t,e){return d(t,function(t){return f.map(t,e)})},d.filter=function(t,e){return d(t,function(t){return f.filter(t,e)})},d.reduce=g(f.reduce),d.reduceRight=g(f.reduceRight),d.isPromiseLike=function(t){return t&&"function"==typeof t.then},d.Promise=f,d.defer=function(){return new function(){var t=f._defer();function e(e){t._handler.resolve(e)}function n(e){t._handler.reject(e)}function r(e){t._handler.notify(e)}this.promise=t,this.resolve=e,this.reject=n,this.notify=r,this.resolver={resolve:e,reject:n,notify:r}}},d.TimeoutError=h,d}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";var o,s=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=Math.ceil,c=Math.floor,l=" not a boolean or binary digit",u="rounding mode",h="number type has more than 15 significant digits",f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",p=1e14,d=14,g=9007199254740991,m=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,_=1e9;function v(t){var e=0|t;return t>0||t===e?e:e-1}function b(t){for(var e,n,r=1,i=t.length,o=t[0]+"";r<i;){for(e=t[r++]+"",n=d-e.length;n--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function w(t,e){var n,r,i=t.c,o=e.c,s=t.s,a=e.s,c=t.e,l=e.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==l,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>l^n?1:-1;for(a=(c=i.length)<(l=o.length)?c:l,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return c==l?0:c>l^n?1:-1}function E(t,e,n){return(t=I(t))>=e&&t<=n}function A(t){return"[object Array]"==Object.prototype.toString.call(t)}function S(t,e,n){for(var r,i,o=[0],s=0,a=t.length;s<a;){for(i=o.length;i--;o[i]*=e);for(o[r=0]+=f.indexOf(t.charAt(s++));r<o.length;r++)o[r]>n-1&&(null==o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function x(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function C(t,e){var n,r;if(e<0){for(r="0.";++e;r+="0");t=r+t}else if(++e>(n=t.length)){for(r="0",e-=n;--e;r+="0");t+=r}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}function I(t){return(t=parseFloat(t))<0?a(t):c(t)}(o=function t(e){var n,r,i,o,P,T,D,O,B=0,k=Q.prototype,M=new Q(1),R=20,j=4,U=-7,N=21,L=-1e7,F=1e7,H=!0,z=V,Y=!1,G=1,W=0,q={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};function Q(t,e){var n,i,o,a,l,u,p=this;if(!(p instanceof Q))return H&&$(26,"constructor call without new",t),new Q(t,e);if(null!=e&&z(e,2,64,B,"base")){if(u=t+"",10==(e|=0))return tt(p=new Q(t instanceof Q?t:u),R+p.e+1,j);if((a="number"==typeof t)&&0*t!=0||!new RegExp("^-?"+(n="["+f.slice(0,e)+"]+")+"(?:\\."+n+")?$",e<37?"i":"").test(u))return r(p,u,a,e);a?(p.s=1/t<0?(u=u.slice(1),-1):1,H&&u.replace(/^0\.0*|\./,"").length>15&&$(B,h,t),a=!1):p.s=45===u.charCodeAt(0)?(u=u.slice(1),-1):1,u=K(u,10,e,p.s)}else{if(t instanceof Q)return p.s=t.s,p.e=t.e,p.c=(t=t.c)?t.slice():t,void(B=0);if((a="number"==typeof t)&&0*t==0){if(p.s=1/t<0?(t=-t,-1):1,t===~~t){for(i=0,o=t;o>=10;o/=10,i++);return p.e=i,p.c=[t],void(B=0)}u=t+""}else{if(!s.test(u=t+""))return r(p,u,a);p.s=45===u.charCodeAt(0)?(u=u.slice(1),-1):1}}for((i=u.indexOf("."))>-1&&(u=u.replace(".","")),(o=u.search(/e/i))>0?(i<0&&(i=o),i+=+u.slice(o+1),u=u.substring(0,o)):i<0&&(i=u.length),o=0;48===u.charCodeAt(o);o++);for(l=u.length;48===u.charCodeAt(--l););if(u=u.slice(o,l+1))if(l=u.length,a&&H&&l>15&&(t>g||t!==c(t))&&$(B,h,p.s*t),(i=i-o-1)>F)p.c=p.e=null;else if(i<L)p.c=[p.e=0];else{if(p.e=i,p.c=[],o=(i+1)%d,i<0&&(o+=d),o<l){for(o&&p.c.push(+u.slice(0,o)),l-=d;o<l;)p.c.push(+u.slice(o,o+=d));u=u.slice(o),o=d-u.length}else o-=l;for(;o--;u+="0");p.c.push(+u)}else p.c=[p.e=0];B=0}function K(t,e,r,i){var o,s,a,c,l,u,h,p=t.indexOf("."),d=R,g=j;for(r<37&&(t=t.toLowerCase()),p>=0&&(a=W,W=0,t=t.replace(".",""),l=(h=new Q(r)).pow(t.length-p),W=a,h.c=S(C(b(l.c),l.e),10,e),h.e=h.c.length),s=a=(u=S(t,r,e)).length;0==u[--a];u.pop());if(!u[0])return"0";if(p<0?--s:(l.c=u,l.e=s,l.s=i,u=(l=n(l,h,d,g,e)).c,c=l.r,s=l.e),p=u[o=s+d+1],a=e/2,c=c||o<0||null!=u[o+1],c=g<4?(null!=p||c)&&(0==g||g==(l.s<0?3:2)):p>a||p==a&&(4==g||c||6==g&&1&u[o-1]||g==(l.s<0?8:7)),o<1||!u[0])t=c?C("1",-d):"0";else{if(u.length=o,c)for(--e;++u[--o]>e;)u[o]=0,o||(++s,u=[1].concat(u));for(a=u.length;!u[--a];);for(p=0,t="";p<=a;t+=f.charAt(u[p++]));t=C(t,s)}return t}function J(t,e,n,r){var i,o,s,a,c;if(n=null!=n&&z(n,0,8,r,u)?0|n:j,!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)c=b(t.c),c=19==r||24==r&&s<=U?x(c,s):C(c,s);else if(o=(t=tt(new Q(t),e,n)).e,a=(c=b(t.c)).length,19==r||24==r&&(e<=o||o<=U)){for(;a<e;c+="0",a++);c=x(c,o)}else if(e-=s,c=C(c,o),o+1>a){if(--e>0)for(c+=".";e--;c+="0");}else if((e+=o-a)>0)for(o+1==a&&(c+=".");e--;c+="0");return t.s<0&&i?"-"+c:c}function Z(t,e){var n,r,i=0;for(A(t[0])&&(t=t[0]),n=new Q(t[0]);++i<t.length;){if(!(r=new Q(t[i])).s){n=r;break}e.call(n,r)&&(n=r)}return n}function V(t,e,n,r,i){return(t<e||t>n||t!=I(t))&&$(r,(i||"decimal places")+(t<e||t>n?" out of range":" not an integer"),t),!0}function X(t,e,n){for(var r=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,r++);return(n=r+n*d-1)>F?t.c=t.e=null:n<L?t.c=[t.e=0]:(t.e=n,t.c=e),t}function $(t,e,n){var r=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][t]+"() "+e+": "+n);throw r.name="BigNumber Error",B=0,r}function tt(t,e,n,r){var i,o,s,l,u,h,f,g=t.c,y=m;if(g){t:{for(i=1,l=g[0];l>=10;l/=10,i++);if((o=e-i)<0)o+=d,s=e,f=(u=g[h=0])/y[i-s-1]%10|0;else if((h=a((o+1)/d))>=g.length){if(!r)break t;for(;g.length<=h;g.push(0));u=f=0,i=1,s=(o%=d)-d+1}else{for(u=l=g[h],i=1;l>=10;l/=10,i++);f=(s=(o%=d)-d+i)<0?0:u/y[i-s-1]%10|0}if(r=r||e<0||null!=g[h+1]||(s<0?u:u%y[i-s-1]),r=n<4?(f||r)&&(0==n||n==(t.s<0?3:2)):f>5||5==f&&(4==n||r||6==n&&(o>0?s>0?u/y[i-s]:0:g[h-1])%10&1||n==(t.s<0?8:7)),e<1||!g[0])return g.length=0,r?(e-=t.e+1,g[0]=y[(d-e%d)%d],t.e=-e||0):g[0]=t.e=0,t;if(0==o?(g.length=h,l=1,h--):(g.length=h+1,l=y[d-o],g[h]=s>0?c(u/y[i-s]%y[s])*l:0),r)for(;;){if(0==h){for(o=1,s=g[0];s>=10;s/=10,o++);for(s=g[0]+=l,l=1;s>=10;s/=10,l++);o!=l&&(t.e++,g[0]==p&&(g[0]=1));break}if(g[h]+=l,g[h]!=p)break;g[h--]=0,l=1}for(o=g.length;0===g[--o];g.pop());}t.e>F?t.c=t.e=null:t.e<L&&(t.c=[t.e=0])}return t}return Q.another=t,Q.ROUND_UP=0,Q.ROUND_DOWN=1,Q.ROUND_CEIL=2,Q.ROUND_FLOOR=3,Q.ROUND_HALF_UP=4,Q.ROUND_HALF_DOWN=5,Q.ROUND_HALF_EVEN=6,Q.ROUND_HALF_CEIL=7,Q.ROUND_HALF_FLOOR=8,Q.EUCLID=9,Q.config=Q.set=function(){var t,e,n=0,r={},i=arguments,o=i[0],s=o&&"object"==typeof o?function(){if(o.hasOwnProperty(e))return null!=(t=o[e])}:function(){if(i.length>n)return null!=(t=i[n++])};return s(e="DECIMAL_PLACES")&&z(t,0,_,2,e)&&(R=0|t),r[e]=R,s(e="ROUNDING_MODE")&&z(t,0,8,2,e)&&(j=0|t),r[e]=j,s(e="EXPONENTIAL_AT")&&(A(t)?z(t[0],-_,0,2,e)&&z(t[1],0,_,2,e)&&(U=0|t[0],N=0|t[1]):z(t,-_,_,2,e)&&(U=-(N=0|(t<0?-t:t)))),r[e]=[U,N],s(e="RANGE")&&(A(t)?z(t[0],-_,-1,2,e)&&z(t[1],1,_,2,e)&&(L=0|t[0],F=0|t[1]):z(t,-_,_,2,e)&&(0|t?L=-(F=0|(t<0?-t:t)):H&&$(2,e+" cannot be zero",t))),r[e]=[L,F],s(e="ERRORS")&&(t===!!t||1===t||0===t?(B=0,z=(H=!!t)?V:E):H&&$(2,e+l,t)),r[e]=H,s(e="CRYPTO")&&(!0===t||!1===t||1===t||0===t?t?!(t="undefined"==typeof crypto)&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?Y=!0:H?$(2,"crypto unavailable",t?void 0:crypto):Y=!1:Y=!1:H&&$(2,e+l,t)),r[e]=Y,s(e="MODULO_MODE")&&z(t,0,9,2,e)&&(G=0|t),r[e]=G,s(e="POW_PRECISION")&&z(t,0,_,2,e)&&(W=0|t),r[e]=W,s(e="FORMAT")&&("object"==typeof t?q=t:H&&$(2,e+" not an object",t)),r[e]=q,r},Q.max=function(){return Z(arguments,k.lt)},Q.min=function(){return Z(arguments,k.gt)},Q.random=(i=9007199254740992*Math.random()&2097151?function(){return c(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,r,o,s,l=0,u=[],h=new Q(M);if(t=null!=t&&z(t,0,_,14)?0|t:R,o=a(t/d),Y)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(o*=2));l<o;)(s=131072*e[l]+(e[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),e[l]=n[0],e[l+1]=n[1]):(u.push(s%1e14),l+=2);l=o/2}else if(crypto.randomBytes){for(e=crypto.randomBytes(o*=7);l<o;)(s=281474976710656*(31&e[l])+1099511627776*e[l+1]+4294967296*e[l+2]+16777216*e[l+3]+(e[l+4]<<16)+(e[l+5]<<8)+e[l+6])>=9e15?crypto.randomBytes(7).copy(e,l):(u.push(s%1e14),l+=7);l=o/7}else Y=!1,H&&$(14,"crypto unavailable",crypto);if(!Y)for(;l<o;)(s=i())<9e15&&(u[l++]=s%1e14);for(o=u[--l],t%=d,o&&t&&(s=m[d-t],u[l]=c(o/s)*s);0===u[l];u.pop(),l--);if(l<0)u=[r=0];else{for(r=-1;0===u[0];u.splice(0,1),r-=d);for(l=1,s=u[0];s>=10;s/=10,l++);l<d&&(r-=d-l)}return h.e=r,h.c=u,h}),n=function(){function t(t,e,n){var r,i,o,s,a=0,c=t.length,l=e%y,u=e/y|0;for(t=t.slice();c--;)a=((i=l*(o=t[c]%y)+(r=u*o+(s=t[c]/y|0)*l)%y*y+a)/n|0)+(r/y|0)+u*s,t[c]=i%n;return a&&(t=[a].concat(t)),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,i,o,s,a){var l,u,h,f,g,m,y,_,b,w,E,A,S,x,C,I,P,T=r.s==i.s?1:-1,D=r.c,O=i.c;if(!(D&&D[0]&&O&&O[0]))return new Q(r.s&&i.s&&(D?!O||D[0]!=O[0]:O)?D&&0==D[0]||!O?0*T:T/0:NaN);for(b=(_=new Q(T)).c=[],T=o+(u=r.e-i.e)+1,a||(a=p,u=v(r.e/d)-v(i.e/d),T=T/d|0),h=0;O[h]==(D[h]||0);h++);if(O[h]>(D[h]||0)&&u--,T<0)b.push(1),f=!0;else{for(x=D.length,I=O.length,h=0,T+=2,(g=c(a/(O[0]+1)))>1&&(O=t(O,g,a),D=t(D,g,a),I=O.length,x=D.length),S=I,E=(w=D.slice(0,I)).length;E<I;w[E++]=0);P=O.slice(),P=[0].concat(P),C=O[0],O[1]>=a/2&&C++;do{if(g=0,(l=e(O,w,I,E))<0){if(A=w[0],I!=E&&(A=A*a+(w[1]||0)),(g=c(A/C))>1)for(g>=a&&(g=a-1),y=(m=t(O,g,a)).length,E=w.length;1==e(m,w,y,E);)g--,n(m,I<y?P:O,y,a),y=m.length,l=1;else 0==g&&(l=g=1),y=(m=O.slice()).length;if(y<E&&(m=[0].concat(m)),n(w,m,E,a),E=w.length,-1==l)for(;e(O,w,I,E)<1;)g++,n(w,I<E?P:O,E,a),E=w.length}else 0===l&&(g++,w=[0]);b[h++]=g,w[0]?w[E++]=D[S]||0:(w=[D[S]],E=1)}while((S++<x||null!=w[0])&&T--);f=null!=w[0],b[0]||b.splice(0,1)}if(a==p){for(h=1,T=b[0];T>=10;T/=10,h++);tt(_,o+(_.e=h+u*d-1)+1,s,f)}else _.e=u,_.r=+f;return _}}(),o=/^(-?)0([xbo])(?=\w[\w.]*$)/i,P=/^([^.]+)\.$/,T=/^\.([^.]+)$/,D=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g,r=function(t,e,n,r){var i,s=n?e:e.replace(O,"");if(D.test(s))t.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(o,function(t,e,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?t:e}),r&&(i=r,s=s.replace(P,"$1").replace(T,"0.$1")),e!=s))return new Q(s,i);H&&$(B,"not a"+(r?" base "+r:"")+" number",e),t.s=null}t.c=t.e=null,B=0},k.absoluteValue=k.abs=function(){var t=new Q(this);return t.s<0&&(t.s=1),t},k.ceil=function(){return tt(new Q(this),this.e+1,2)},k.comparedTo=k.cmp=function(t,e){return B=1,w(this,new Q(t,e))},k.decimalPlaces=k.dp=function(){var t,e,n=this.c;if(!n)return null;if(t=((e=n.length-1)-v(this.e/d))*d,e=n[e])for(;e%10==0;e/=10,t--);return t<0&&(t=0),t},k.dividedBy=k.div=function(t,e){return B=3,n(this,new Q(t,e),R,j)},k.dividedToIntegerBy=k.divToInt=function(t,e){return B=4,n(this,new Q(t,e),0,1)},k.equals=k.eq=function(t,e){return B=5,0===w(this,new Q(t,e))},k.floor=function(){return tt(new Q(this),this.e+1,3)},k.greaterThan=k.gt=function(t,e){return B=6,w(this,new Q(t,e))>0},k.greaterThanOrEqualTo=k.gte=function(t,e){return B=7,1===(e=w(this,new Q(t,e)))||0===e},k.isFinite=function(){return!!this.c},k.isInteger=k.isInt=function(){return!!this.c&&v(this.e/d)>this.c.length-2},k.isNaN=function(){return!this.s},k.isNegative=k.isNeg=function(){return this.s<0},k.isZero=function(){return!!this.c&&0==this.c[0]},k.lessThan=k.lt=function(t,e){return B=8,w(this,new Q(t,e))<0},k.lessThanOrEqualTo=k.lte=function(t,e){return B=9,-1===(e=w(this,new Q(t,e)))||0===e},k.minus=k.sub=function(t,e){var n,r,i,o,s=this,a=s.s;if(B=10,e=(t=new Q(t,e)).s,!a||!e)return new Q(NaN);if(a!=e)return t.s=-e,s.plus(t);var c=s.e/d,l=t.e/d,u=s.c,h=t.c;if(!c||!l){if(!u||!h)return u?(t.s=-e,t):new Q(h?s:NaN);if(!u[0]||!h[0])return h[0]?(t.s=-e,t):new Q(u[0]?s:3==j?-0:0)}if(c=v(c),l=v(l),u=u.slice(),a=c-l){for((o=a<0)?(a=-a,i=u):(l=c,i=h),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(r=(o=(a=u.length)<(e=h.length))?a:e,a=e=0;e<r;e++)if(u[e]!=h[e]){o=u[e]<h[e];break}if(o&&(i=u,u=h,h=i,t.s=-t.s),(e=(r=h.length)-(n=u.length))>0)for(;e--;u[n++]=0);for(e=p-1;r>a;){if(u[--r]<h[r]){for(n=r;n&&!u[--n];u[n]=e);--u[n],u[r]+=p}u[r]-=h[r]}for(;0==u[0];u.splice(0,1),--l);return u[0]?X(t,u,l):(t.s=3==j?-1:1,t.c=[t.e=0],t)},k.modulo=k.mod=function(t,e){var r,i,o=this;return B=11,t=new Q(t,e),!o.c||!t.s||t.c&&!t.c[0]?new Q(NaN):!t.c||o.c&&!o.c[0]?new Q(o):(9==G?(i=t.s,t.s=1,r=n(o,t,0,3),t.s=i,r.s*=i):r=n(o,t,0,G),o.minus(r.times(t)))},k.negated=k.neg=function(){var t=new Q(this);return t.s=-t.s||null,t},k.plus=k.add=function(t,e){var n,r=this,i=r.s;if(B=12,e=(t=new Q(t,e)).s,!i||!e)return new Q(NaN);if(i!=e)return t.s=-e,r.minus(t);var o=r.e/d,s=t.e/d,a=r.c,c=t.c;if(!o||!s){if(!a||!c)return new Q(i/0);if(!a[0]||!c[0])return c[0]?t:new Q(a[0]?r:0*i)}if(o=v(o),s=v(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=c):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(e=c.length)<0&&(n=c,c=a,a=n,e=i),i=0;e;)i=(a[--e]=a[e]+c[e]+i)/p|0,a[e]=p===a[e]?0:a[e]%p;return i&&(a=[i].concat(a),++s),X(t,a,s)},k.precision=k.sd=function(t){var e,n,r=this,i=r.c;if(null!=t&&t!==!!t&&1!==t&&0!==t&&(H&&$(13,"argument"+l,t),t!=!!t&&(t=null)),!i)return null;if(e=(n=i.length-1)*d+1,n=i[n]){for(;n%10==0;n/=10,e--);for(n=i[0];n>=10;n/=10,e++);}return t&&r.e+1>e&&(e=r.e+1),e},k.round=function(t,e){var n=new Q(this);return(null==t||z(t,0,_,15))&&tt(n,~~t+this.e+1,null!=e&&z(e,0,8,15,u)?0|e:j),n},k.shift=function(t){var e=this;return z(t,-g,g,16,"argument")?e.times("1e"+I(t)):new Q(e.c&&e.c[0]&&(t<-g||t>g)?e.s*(t<0?0:1/0):e)},k.squareRoot=k.sqrt=function(){var t,e,r,i,o,s=this,a=s.c,c=s.s,l=s.e,u=R+4,h=new Q("0.5");if(1!==c||!a||!a[0])return new Q(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+s))||c==1/0?(((e=b(a)).length+l)%2==0&&(e+="0"),c=Math.sqrt(e),l=v((l+1)/2)-(l<0||l%2),r=new Q(e=c==1/0?"1e"+l:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+l)):r=new Q(c+""),r.c[0])for((c=(l=r.e)+u)<3&&(c=0);;)if(o=r,r=h.times(o.plus(n(s,o,u,1))),b(o.c).slice(0,c)===(e=b(r.c)).slice(0,c)){if(r.e<l&&--c,"9999"!=(e=e.slice(c-3,c+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(tt(r,r.e+R+2,1),t=!r.times(r).eq(s));break}if(!i&&(tt(o,o.e+R+2,0),o.times(o).eq(s))){r=o;break}u+=4,c+=4,i=1}return tt(r,r.e+R+1,j,t)},k.times=k.mul=function(t,e){var n,r,i,o,s,a,c,l,u,h,f,g,m,_,b,w=this,E=w.c,A=(B=17,t=new Q(t,e)).c;if(!(E&&A&&E[0]&&A[0]))return!w.s||!t.s||E&&!E[0]&&!A||A&&!A[0]&&!E?t.c=t.e=t.s=null:(t.s*=w.s,E&&A?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=v(w.e/d)+v(t.e/d),t.s*=w.s,(c=E.length)<(h=A.length)&&(m=E,E=A,A=m,i=c,c=h,h=i),i=c+h,m=[];i--;m.push(0));for(_=p,b=y,i=h;--i>=0;){for(n=0,f=A[i]%b,g=A[i]/b|0,o=i+(s=c);o>i;)n=((l=f*(l=E[--s]%b)+(a=g*l+(u=E[s]/b|0)*f)%b*b+m[o]+n)/_|0)+(a/b|0)+g*u,m[o--]=l%_;m[o]=n}return n?++r:m.splice(0,1),X(t,m,r)},k.toDigits=function(t,e){var n=new Q(this);return t=null!=t&&z(t,1,_,18,"precision")?0|t:null,e=null!=e&&z(e,0,8,18,u)?0|e:j,t?tt(n,t,e):n},k.toExponential=function(t,e){return J(this,null!=t&&z(t,0,_,19)?1+~~t:null,e,19)},k.toFixed=function(t,e){return J(this,null!=t&&z(t,0,_,20)?~~t+this.e+1:null,e,20)},k.toFormat=function(t,e){var n=J(this,null!=t&&z(t,0,_,21)?~~t+this.e+1:null,e,21);if(this.c){var r,i=n.split("."),o=+q.groupSize,s=+q.secondaryGroupSize,a=q.groupSeparator,c=i[0],l=i[1],u=this.s<0,h=u?c.slice(1):c,f=h.length;if(s&&(r=o,o=s,s=r,f-=r),o>0&&f>0){for(r=f%o||o,c=h.substr(0,r);r<f;r+=o)c+=a+h.substr(r,o);s>0&&(c+=a+h.slice(r)),u&&(c="-"+c)}n=l?c+q.decimalSeparator+((s=+q.fractionGroupSize)?l.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+q.fractionGroupSeparator):l):c}return n},k.toFraction=function(t){var e,r,i,o,s,a,c,l,u,h=H,f=this,p=f.c,g=new Q(M),y=r=new Q(M),_=c=new Q(M);if(null!=t&&(H=!1,a=new Q(t),H=h,(h=a.isInt())&&!a.lt(M)||(H&&$(22,"max denominator "+(h?"out of range":"not an integer"),t),t=!h&&a.c&&tt(a,a.e+1,1).gte(M)?a:null)),!p)return f.toString();for(u=b(p),o=g.e=u.length-f.e-1,g.c[0]=m[(s=o%d)<0?d+s:s],t=!t||a.cmp(g)>0?o>0?g:y:a,s=F,F=1/0,a=new Q(u),c.c[0]=0;l=n(a,g,0,1),1!=(i=r.plus(l.times(_))).cmp(t);)r=_,_=i,y=c.plus(l.times(i=y)),c=i,g=a.minus(l.times(i=g)),a=i;return i=n(t.minus(r),_,0,1),c=c.plus(i.times(y)),r=r.plus(i.times(_)),c.s=y.s=f.s,e=n(y,_,o*=2,j).minus(f).abs().cmp(n(c,r,o,j).minus(f).abs())<1?[y.toString(),_.toString()]:[c.toString(),r.toString()],F=s,e},k.toNumber=function(){return+this},k.toPower=k.pow=function(t,e){var n,r,i,o=c(t<0?-t:+t),s=this;if(null!=e&&(B=23,e=new Q(e)),!z(t,-g,g,23,"exponent")&&(!isFinite(t)||o>g&&(t/=0)||parseFloat(t)!=t&&!(t=NaN))||0==t)return n=Math.pow(+s,t),new Q(e?n%e:n);for(e?t>1&&s.gt(M)&&s.isInt()&&e.gt(M)&&e.isInt()?s=s.mod(e):(i=e,e=null):W&&(n=a(W/d+2)),r=new Q(M);;){if(o%2){if(!(r=r.times(s)).c)break;n?r.c.length>n&&(r.c.length=n):e&&(r=r.mod(e))}if(!(o=c(o/2)))break;s=s.times(s),n?s.c&&s.c.length>n&&(s.c.length=n):e&&(s=s.mod(e))}return e?r:(t<0&&(r=M.div(r)),i?r.mod(i):n?tt(r,W,j):r)},k.toPrecision=function(t,e){return J(this,null!=t&&z(t,1,_,24,"precision")?0|t:null,e,24)},k.toString=function(t){var e,n=this,r=n.s,i=n.e;return null===i?r?(e="Infinity",r<0&&(e="-"+e)):e="NaN":(e=b(n.c),e=null!=t&&z(t,2,64,25,"base")?K(C(e,i),0|t,10,r):i<=U||i>=N?x(e,i):C(e,i),r<0&&n.c[0]&&(e="-"+e)),e},k.truncated=k.trunc=function(){return tt(new Q(this),this.e+1,1)},k.valueOf=k.toJSON=function(){var t,e=this,n=e.e;return null===n?e.toString():(t=b(e.c),t=n<=U||n>=N?x(t,n):C(t,n),e.s<0?"-"+t:t)},k.isBigNumber=!0,null!=e&&Q.config(e),Q}()).default=o.BigNumber=o,void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},e.SHIFT32=Math.pow(2,32)},function(t,e,n){(function(t){var r=n(13),i=n(21);e.atob=function(t){return t?new Uint8Array(atob(t).split("").map(function(t){return t.charCodeAt(0)})):null},e.btoa=function(t){return t?btoa(String.fromCharCode.apply(null,t)):null},e.btoh=function(t){if(t){for(var e="",n=0;n<t.length;++n)e+=("0"+(255&t[n]).toString(16)).slice(-2);return e}return null},e.htob=function(t){if(t){if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(t.length%2!=0)throw new RangeError("Expected string to be an even number of characters");for(var e=new Uint8Array(t.length/2),n=0;n<t.length;n+=2)e[n/2]=parseInt(t.substring(n,n+2),16);return e}return null};var o=function(e,n){if(!e)throw o.useDebugger||"AUTOBAHN_DEBUG"in t&&AUTOBAHN_DEBUG,new Error(n||"Assertion failed!")},s=function(){if(0===arguments.length)return{};var t=arguments[0],e=!1,n=arguments.length;"boolean"==typeof arguments[n-1]&&(e=arguments[n-1],n-=1);for(var r=function(n){var r=o[n];n in t?e&&"object"==typeof r&&"object"==typeof t[n]&&s(t[n],r):t[n]=r},i=1;i<n;i++){var o=arguments[i];if(o){if("object"!=typeof o)throw new Error("Expected argument at index "+i+" to be an object");Object.keys(o).forEach(r)}}return t};e.rand_normal=function(t,e){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(i>=1||0==i);var o=Math.sqrt(-2*Math.log(i)/i);return(t||0)+n*o*(e||1)},e.assert=o,e.http_post=function(t,e,n){r.debug("new http_post request",t,e,n);var o=i.defer(),s=new XMLHttpRequest;return s.withCredentials=!0,s.onreadystatechange=function(){if(4===s.readyState){var t=1223===s.status?204:s.status;if(200===t&&o.resolve(s.responseText),204===t)o.resolve();else{var e=null;try{e=s.statusText}catch(t){}o.reject({code:t,text:e})}}},s.open("POST",t,!0),s.setRequestHeader("Content-type","application/json; charset=utf-8"),n>0&&(s.timeout=n,s.ontimeout=function(){o.reject({code:501,text:"request timeout"})}),e?s.send(e):s.send(),o.promise.then?o.promise:o},e.defaults=s}).call(e,n(4))},function(t,e,n){var r;r=function(t){return function(){var e=t,n=e.lib.WordArray;e.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return function(t,e,r){for(var i=[],o=0,s=0;s<e;s++)if(s%4){var a=r[t.charCodeAt(s-1)]<<s%4*2,c=r[t.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|c)<<24-o%4*8,o++}return n.create(i,o)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64},t.exports=r(n(0))},function(t,e,n){var r;r=function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=t[e+0],c=t[e+1],p=t[e+2],d=t[e+3],g=t[e+4],m=t[e+5],y=t[e+6],_=t[e+7],v=t[e+8],b=t[e+9],w=t[e+10],E=t[e+11],A=t[e+12],S=t[e+13],x=t[e+14],C=t[e+15],I=o[0],P=o[1],T=o[2],D=o[3];P=f(P=f(P=f(P=f(P=h(P=h(P=h(P=h(P=u(P=u(P=u(P=u(P=l(P=l(P=l(P=l(P,T=l(T,D=l(D,I=l(I,P,T,D,s,7,a[0]),P,T,c,12,a[1]),I,P,p,17,a[2]),D,I,d,22,a[3]),T=l(T,D=l(D,I=l(I,P,T,D,g,7,a[4]),P,T,m,12,a[5]),I,P,y,17,a[6]),D,I,_,22,a[7]),T=l(T,D=l(D,I=l(I,P,T,D,v,7,a[8]),P,T,b,12,a[9]),I,P,w,17,a[10]),D,I,E,22,a[11]),T=l(T,D=l(D,I=l(I,P,T,D,A,7,a[12]),P,T,S,12,a[13]),I,P,x,17,a[14]),D,I,C,22,a[15]),T=u(T,D=u(D,I=u(I,P,T,D,c,5,a[16]),P,T,y,9,a[17]),I,P,E,14,a[18]),D,I,s,20,a[19]),T=u(T,D=u(D,I=u(I,P,T,D,m,5,a[20]),P,T,w,9,a[21]),I,P,C,14,a[22]),D,I,g,20,a[23]),T=u(T,D=u(D,I=u(I,P,T,D,b,5,a[24]),P,T,x,9,a[25]),I,P,d,14,a[26]),D,I,v,20,a[27]),T=u(T,D=u(D,I=u(I,P,T,D,S,5,a[28]),P,T,p,9,a[29]),I,P,_,14,a[30]),D,I,A,20,a[31]),T=h(T,D=h(D,I=h(I,P,T,D,m,4,a[32]),P,T,v,11,a[33]),I,P,E,16,a[34]),D,I,x,23,a[35]),T=h(T,D=h(D,I=h(I,P,T,D,c,4,a[36]),P,T,g,11,a[37]),I,P,_,16,a[38]),D,I,w,23,a[39]),T=h(T,D=h(D,I=h(I,P,T,D,S,4,a[40]),P,T,s,11,a[41]),I,P,d,16,a[42]),D,I,y,23,a[43]),T=h(T,D=h(D,I=h(I,P,T,D,b,4,a[44]),P,T,A,11,a[45]),I,P,C,16,a[46]),D,I,p,23,a[47]),T=f(T,D=f(D,I=f(I,P,T,D,s,6,a[48]),P,T,_,10,a[49]),I,P,x,15,a[50]),D,I,m,21,a[51]),T=f(T,D=f(D,I=f(I,P,T,D,A,6,a[52]),P,T,d,10,a[53]),I,P,w,15,a[54]),D,I,c,21,a[55]),T=f(T,D=f(D,I=f(I,P,T,D,v,6,a[56]),P,T,C,10,a[57]),I,P,y,15,a[58]),D,I,S,21,a[59]),T=f(T,D=f(D,I=f(I,P,T,D,g,6,a[60]),P,T,E,10,a[61]),I,P,p,15,a[62]),D,I,b,21,a[63]),o[0]=o[0]+I|0,o[1]=o[1]+P|0,o[2]=o[2]+T|0,o[3]=o[3]+D|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,c=a.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function l(t,e,n,r,i,o,s){var a=t+(e&n|~e&r)+i+s;return(a<<o|a>>>32-o)+e}function u(t,e,n,r,i,o,s){var a=t+(e&r|n&~r)+i+s;return(a<<o|a>>>32-o)+e}function h(t,e,n,r,i,o,s){var a=t+(e^n^r)+i+s;return(a<<o|a>>>32-o)+e}function f(t,e,n,r,i,o,s){var a=t+(n^(e|~r))+i+s;return(a<<o|a>>>32-o)+e}n.MD5=o._createHelper(c),n.HmacMD5=o._createHmacHelper(c)}(Math),t.MD5},t.exports=r(n(0))},function(t,e,n){var r;r=function(t){var e,n,r,i,o,s,a;return n=(e=t).lib,r=n.Base,i=n.WordArray,o=e.algo,s=o.MD5,a=o.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=n.hasher.create(),o=i.create(),s=o.words,a=n.keySize,c=n.iterations;s.length<a;){l&&r.update(l);var l=r.update(t).finalize(e);r.reset();for(var u=1;u<c;u++)l=r.finalize(l),r.reset();o.concat(l)}return o.sigBytes=4*a,o}}),e.EvpKDF=function(t,e,n){return a.create(n).compute(t,e)},t.EvpKDF},t.exports=r(n(0),n(68),n(69))},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDisposable=function(t){return!!t&&"function"==typeof t.dispose},e.fileSystemEventNames=["unexpectedError","fileCreated","fileChanged","fileDeleted","directoryCreated","directoryDeleted"],e.fileSystemAsyncMethods=["saveFile","deleteFile","deleteDirectory","loadTextFile","loadDirectoryTree","ensureDirectory","loadDirectoryChildren","stat"],e.isFileSystemReadSync=function(t){return"function"==typeof t.loadTextFileSync&&"function"==typeof t.loadDirectoryTreeSync&&"function"==typeof t.loadDirectoryContentSync&&"function"==typeof t.loadDirectoryChildrenSync&&"function"==typeof t.statSync}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(e,n(1).Buffer)},function(t,e,n){"use strict";(function(t,r){const i=n(210),o=n(12),s=n(22),a=n(23),c=a.NUMBYTES,l=a.SHIFT32;function u(t){if(null!=t)return console.log(t)}e.parseCBORint=function(t,e){switch(t){case c.ONE:return e.readUInt8(0,!0);case c.TWO:return e.readUInt16BE(0,!0);case c.FOUR:return e.readUInt32BE(0,!0);case c.EIGHT:const n=e.readUInt32BE(0),r=e.readUInt32BE(4);return n>2097151?new s(n).times(l).plus(r):n*l+r;default:throw new Error("Invalid additional info for int: "+t)}},e.writeHalf=function(e,n){const r=new t(4);r.writeFloatBE(n);const i=r.readUInt32BE();if(0!=(8191&i))return!1;let o=i>>16&32768;const s=i>>23&255,a=8388607&i;if(s>=113&&s<=142)o+=(s-112<<10)+(a>>13);else{if(!(s>=103&&s<113))return!1;if(a&(1<<126-s)-1)return!1;o+=a+8388608>>126-s}return e.writeUInt16BE(o),!0},e.parseHalf=function(t){const e=128&t[0]?-1:1,n=(124&t[0])>>2,r=(3&t[0])<<8|t[1];return n?31===n?e*(r?NaN:Infinity):e*Math.pow(2,n-25)*(1024+r):5.960464477539063e-8*e*r},e.parseCBORfloat=function(t){switch(t.length){case 2:return e.parseHalf(t);case 4:return t.readFloatBE(0,!0);case 8:return t.readDoubleBE(0,!0);default:throw new Error("Invalid float size: "+t.length)}},e.hex=function(e){return new t(e.replace(/^0x/,""),"hex")},e.bin=function(e){let n=0,r=(e=e.replace(/\s/g,"")).length%8||8;const i=[];for(;r<=e.length;)i.push(parseInt(e.slice(n,r),2)),n=r,r+=8;return new t(i)},e.extend=function(){let t=arguments[0];const e=2<=arguments.length?Array.prototype.slice.call(arguments,1):[],n=e.length;null==t&&(t={});for(let r=0;r<n;r++){const n=e[r];for(const e in n){const r=n[e];t[e]=r}}return t},e.arrayEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&(t.length===e.length&&t.every((t,n)=>t===e[n]))},e.bufferEqual=function(e,n){if(null==e&&null==n)return!0;if(null==e||null==n)return!1;if(!t.isBuffer(e)||!t.isBuffer(n)||e.length!==n.length)return!1;const r=e.length;let i,o,s=!0;for(i=o=0;o<r;i=++o){const t=e[i];s&=n[i]===t}return!!s},e.bufferToBignumber=function(t){return new s(t.toString("hex"),16)},e.DeHexStream=class extends o.Readable{constructor(e){super(),(e=e.replace(/^0x/,""))&&this.push(new t(e,"hex")),this.push(null)}},e.HexStream=class extends o.Transform{constructor(t){super(t)}_transform(t,e,n){return this.push(t.toString("hex")),n()}},e.streamFiles=function(t,n,s){null==s&&(s=u);const a=t.shift();if(!a)return s();const c=n();c.on("end",()=>e.streamFiles(t,n,s)),c.on("error",s);const l="-"===a?r.stdin:a instanceof o.Stream?a:i.createReadStream(a);return l.on("error",s),l.pipe(c)},e.guessEncoding=function(e){switch(!1){case"string"!=typeof e:return"hex";case!t.isBuffer(e):return;default:throw new Error("Unknown input type")}}}).call(e,n(1).Buffer,n(8))},function(t,e,n){"use strict";const r=n(23),i=r.MT,o=r.SIMPLE,s=r.SYMS;class a{constructor(t){if("number"!=typeof t)throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(0|t)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(t,e){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,i.SIMPLE_FLOAT)}static isSimple(t){return t instanceof a}static decode(t,e){switch(null==e&&(e=!0),t){case o.FALSE:return!1;case o.TRUE:return!0;case o.NULL:return e?null:s.NULL;case o.UNDEFINED:return e?void 0:s.UNDEFINED;case-1:if(!e)throw new Error("Invalid BREAK");return s.BREAK;default:return new a(t)}}}t.exports=a},function(t,e,n){(function(e){(function(){var r,i,o={}.hasOwnProperty;r=n(12),i=n(16),t.exports=function(t){var n,s;function a(t,n,r){var i,o,s,c,l;switch(null==r&&(r={}),i=void 0,o=void 0,typeof t){case"object":e.isBuffer(t)?(i=t,null!=n&&"object"==typeof n&&(r=n)):r=t;break;case"string":i=t,null!=n&&"object"==typeof n?r=n:o=n}null==r&&(r={}),null==i&&(i=r.input),null==o&&(o=r.inputEncoding),delete r.input,delete r.inputEncoding,c=null==(s=r.watchPipe)||s,delete r.watchPipe,a.__super__.constructor.call(this,r),c&&this.on("pipe",(l=this,function(t){var e;if(e=t._readableState.objectMode,l.length>0&&e!==l._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");return l._readableState.objectMode=e,l._writableState.objectMode=e})),null!=i&&this.end(i,o)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(a,r.Transform),a.isNoFilter=function(t){return t instanceof this},a.compare=function(t,e){if(!(t instanceof this))throw new TypeError("Arguments must be NoFilters");return t===e?0:t.compare(e)},a.concat=function(t,n){var r;if(!Array.isArray(t))throw new TypeError("list argument must be an Array of NoFilters");return 0===t.length||0===n?new e(0):(null==n&&(n=t.reduce(function(t,e){if(!(e instanceof a))throw new TypeError("list argument must be an Array of NoFilters");return t+e.length},0)),r=t.map(function(t){if(!(t instanceof a))throw new TypeError("list argument must be an Array of NoFilters");if(t._readableState.objectMode)throw new Error("NoFilter may not be in object mode for concat");return t.slice()}),e.concat(r,n))},a.prototype._transform=function(t,n,r){return this._readableState.objectMode||e.isBuffer(t)||(t=new e(t,n)),this.push(t),r()},a.prototype._bufArray=function(){var t,e;if(e=this._readableState.buffer,!Array.isArray(e))for(t=e.head,e=[];null!=t;)e.push(t.data),t=t.next;return e},a.prototype.read=function(t){var e;return null!=(e=a.__super__.read.call(this,t))&&this.emit("read",e),e},a.prototype.promise=function(t){var e,n;return e=!1,new Promise((n=this,function(r,i){return n.on("finish",function(){var i;return i=n.read(),null==t||e||(e=!0,t(null,i)),r(i)}),n.on("error",function(n){return null==t||e||(e=!0,t(n)),i(n)})}))},a.prototype.compare=function(t){if(!(t instanceof a))throw new TypeError("Arguments must be NoFilters");if(this._readableState.objectMode||t._readableState.objectMode)throw new Error("Must not be in object mode to compare");return this===t?0:this.slice().compare(t.slice())},a.prototype.equals=function(t){return 0===this.compare(t)},a.prototype.slice=function(t,n){var r;if(this._readableState.objectMode)return this._bufArray().slice(t,n);switch((r=this._bufArray()).length){case 0:return new e(0);case 1:return r[0].slice(t,n);default:return e.concat(r).slice(t,n)}},a.prototype.get=function(t){return this.slice()[t]},a.prototype.toJSON=function(){var t;return t=this.slice(),e.isBuffer(t)?t.toJSON():t},a.prototype.toString=function(t,e,n){return this.slice().toString(t,e,n)},a.prototype.inspect=function(t,n){var r;return r=this._bufArray().map(function(t){return e.isBuffer(t)?(null!=n?n.stylize:void 0)?n.stylize(t.toString("hex"),"string"):t.toString("hex"):i.inspect(t,n)}).join(", "),this.constructor.name+" ["+r+"]"},n=function(t,n){return function(r){var i;return i=this.read(n),e.isBuffer(i)?i[t].call(i,0,!0):null}},s=function(t,n){return function(r){var i;return(i=new e(n))[t].call(i,r,0,!0),this.push(i)}},a.prototype.writeUInt8=s("writeUInt8",1),a.prototype.writeUInt16LE=s("writeUInt16LE",2),a.prototype.writeUInt16BE=s("writeUInt16BE",2),a.prototype.writeUInt32LE=s("writeUInt32LE",4),a.prototype.writeUInt32BE=s("writeUInt32BE",4),a.prototype.writeInt8=s("writeInt8",1),a.prototype.writeInt16LE=s("writeInt16LE",2),a.prototype.writeInt16BE=s("writeInt16BE",2),a.prototype.writeInt32LE=s("writeInt32LE",4),a.prototype.writeInt32BE=s("writeInt32BE",4),a.prototype.writeFloatLE=s("writeFloatLE",4),a.prototype.writeFloatBE=s("writeFloatBE",4),a.prototype.writeDoubleLE=s("writeDoubleLE",8),a.prototype.writeDoubleBE=s("writeDoubleBE",8),a.prototype.readUInt8=n("readUInt8",1),a.prototype.readUInt16LE=n("readUInt16LE",2),a.prototype.readUInt16BE=n("readUInt16BE",2),a.prototype.readUInt32LE=n("readUInt32LE",4),a.prototype.readUInt32BE=n("readUInt32BE",4),a.prototype.readInt8=n("readInt8",1),a.prototype.readInt16LE=n("readInt16LE",2),a.prototype.readInt16BE=n("readInt16BE",2),a.prototype.readInt32LE=n("readInt32LE",4),a.prototype.readInt32BE=n("readInt32BE",4),a.prototype.readFloatLE=n("readFloatLE",4),a.prototype.readFloatBE=n("readFloatBE",4),a.prototype.readDoubleLE=n("readDoubleLE",8),a.prototype.readDoubleBE=n("readDoubleBE",8),function(t){var e,n,r;for(n in r=[],t)e=t[n],r.push(a.prototype.__defineGetter__(n,e));return r}({length:function(){return this._readableState.length}}),a}()}).call(this)}).call(e,n(1).Buffer)},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,a=new Array(s);o<s;o++)a[o]=r[o].fn;return a},a.prototype.emit=function(t,e,n,r,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var c,l,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,r),!0;case 5:return u.fn.call(u.context,e,n,r,o),!0;case 6:return u.fn.call(u.context,e,n,r,o,s),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var f,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,n);break;case 4:u[l].fn.call(u[l].context,e,n,r);break;default:if(!c)for(f=1,c=new Array(h-1);f<h;f++)c[f-1]=arguments[f];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(t,e,n){var r=new s(e,n||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},a.prototype.once=function(t,e,n){var r=new s(e,n||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,r){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==e||r&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,t.exports=a},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17);e.pathSeparator="/";var i=function(){return function(t,e){this.name=t,this.fullPath=e,this.type="dir"}}();e.ShallowDirectory=i;var o=function(){function t(t,e,n){void 0===n&&(n=[]),this.name=t,this.fullPath=e,this.children=n,this.type="dir"}return t.walk=function(t,e){for(var n="string"==typeof e?r.getPathNodes(e):e,i=function(){var e=n.shift();if(!e||!t.children)return{value:null};var r=t.children.find(function(t){return t.name===e});if(!c(r))return{value:null};t=r};n.length;){var o=i();if("object"==typeof o)return o.value}return t},t.getSubDir=function(t,e){for(var n="string"==typeof e?r.getPathNodes(e):e,i=function(){var e=n.shift();if(!e||!t.children)return{value:null};var r=t.children.find(function(t){return t.name===e});if(!c(r))return{value:null};t=r};n.length;){var o=i();if("object"==typeof o)return o.value}return t},t.clone=function(e,n){var i=this;void 0===n&&(n=[]);var o="string"==typeof n?r.getPathNodes(n):n;return!o.length&&e.name&&o.push(e.name),new t(o.length?o[o.length-1]:e.name,r.normalizePathNodes(o),e.children.map(function(t){var e=o.concat([t.name]);return c(t)?i.clone(t,e):new s(t.name,r.normalizePathNodes(e),t.content)}))},t.cloneStructure=function(e){var n=this;return new t(e.name,e.fullPath,e.children.map(function(t){return c(t)?n.cloneStructure(t):new s(t.name,t.fullPath)}))},t.fromContent=function(n,i,o){var a=this;void 0===i&&(i=""),void 0===o&&(o=""),o===e.pathSeparator?o="":o.length&&!r.endsWith(o,e.pathSeparator)&&(o+=e.pathSeparator);var c=o.length?o+i:i,l=c.length?c+e.pathSeparator:i;return new t(i,c,Object.keys(n).map(function(t){var e=n[t];return"string"==typeof e?new s(t,l+t,e):a.fromContent(e,t,l)}))},t.toContent=function(t){var e=this,n={};return t.children.forEach(function(t){if("file"===t.type){if(void 0===t.content)throw new Error("file not loaded : "+t.fullPath);n[t.name]=t.content}else"dir"===t.type&&(n[t.name]=e.toContent(t))}),n},t.mix=function(e,n){var i=this;return n.children.forEach(function(n){var o=e.children.find(function(t){return t.name===n.name});if(a(n)){if(void 0===n.content)throw new Error("file not loaded : "+n.fullPath);if(o){if(a(o))o.content=n.content;else if(c(o))throw new Error("can't override directory with file : "+n.fullPath+" , "+o.fullPath)}else e.children.push(new s(n.name,r.normalizePathNodes([e.fullPath,n.name]),n.content))}else if(c(n))if(o){if(a(o))throw new Error("can't file directory with directory : "+n.fullPath+" , "+o.fullPath);c(o)&&i.mix(o,n)}else e.children.push(t.clone(n,[e.fullPath,n.name]))}),e},t}();e.Directory=o;var s=function(){return function(t,e,n){this.name=t,this.fullPath=e,this.type="file",n&&(this.content=n)}}();function a(t){return!!t&&"file"===t.type}function c(t){return!!t&&"dir"===t.type}e.File=s,e.isFile=a,e.isDir=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(11).__exportStar(n(156),e)},function(t,e,n){(function(r){var i;!function(o){"use strict";void 0===(i=function(t){var e,i="undefined"!=typeof setTimeout&&setTimeout,o=function(t,e){return setTimeout(t,e)},s=function(t){return clearTimeout(t)},a=function(t){return i(t,0)};if(void 0!==r&&"[object process]"===Object.prototype.toString.call(r))a=function(t){return r.nextTick(t)};else if(e="undefined"!=typeof MutationObserver&&MutationObserver||"undefined"!=typeof WebKitMutationObserver&&WebKitMutationObserver)a=function(t){var e,n=document.createTextNode("");new t(function(){var t=e;e=void 0,t()}).observe(n,{characterData:!0});var r=0;return function(t){e=t,n.data=r^=1}}(e);else if(!i){var c=n(171);o=function(t,e){return c.setTimer(e,t)},s=c.cancelTimer,a=c.runOnLoop||c.runOnContext}return{setTimer:o,clearTimer:s,asap:a}}.call(e,n,e,t))||(t.exports=i)}(n(2))}).call(e,n(8))},function(t,e,n){(function(t){!function(e){var n,r="undefined",i=r!==typeof t&&t,o=r!==typeof Uint8Array&&Uint8Array,s=r!==typeof ArrayBuffer&&ArrayBuffer,a=[0,0,0,0,0,0,0,0],c=Array.isArray||function(t){return!!t&&"[object Array]"==Object.prototype.toString.call(t)},l=4294967296,u=16777216;function h(t,c,h){var E=c?0:4,A=c?4:0,S=c?0:3,x=c?1:2,C=c?2:1,I=c?3:0,P=c?_:b,T=c?v:w,D=k.prototype,O="is"+t,B="_"+O;return D.buffer=void 0,D.offset=0,D[B]=!0,D.toNumber=M,D.toString=function(t){var e=this.buffer,n=this.offset,r=j(e,n+E),i=j(e,n+A),o="",s=!h&&2147483648&r;s&&(r=~r,i=l-i);t=t||10;for(;;){var a=r%t*l+i;if(r=Math.floor(r/t),i=Math.floor(a/t),o=(a%t).toString(t)+o,!r&&!i)break}s&&(o="-"+o);return o},D.toJSON=M,D.toArray=f,i&&(D.toBuffer=p),o&&(D.toArrayBuffer=d),k[O]=function(t){return!(!t||!t[B])},e[t]=k,k;function k(t,e,i,c){return this instanceof k?function(t,e,i,c,u){o&&s&&(e instanceof s&&(e=new o(e)),c instanceof s&&(c=new o(c)));if(!(e||i||c||n))return void(t.buffer=y(a,0));if(!g(e,i)){var h=n||Array;u=i,c=e,i=0,e=new h(8)}if(t.buffer=e,t.offset=i|=0,r===typeof c)return;"string"==typeof c?function(t,e,n,r){var i=0,o=n.length,s=0,a=0;"-"===n[0]&&i++;var c=i;for(;i<o;){var u=parseInt(n[i++],r);if(!(u>=0))break;a=a*r+u,s=s*r+Math.floor(a/l),a%=l}c&&(s=~s,a?a=l-a:s++);R(t,e+E,s),R(t,e+A,a)}(e,i,c,u||10):g(c,u)?m(e,i,c,u):"number"==typeof u?(R(e,i+E,c),R(e,i+A,u)):c>0?P(e,i,c):c<0?T(e,i,c):m(e,i,a,0)}(this,t,e,i,c):new k(t,e,i,c)}function M(){var t=this.buffer,e=this.offset,n=j(t,e+E),r=j(t,e+A);return h||(n|=0),n?n*l+r:r}function R(t,e,n){t[e+I]=255&n,n>>=8,t[e+C]=255&n,n>>=8,t[e+x]=255&n,n>>=8,t[e+S]=255&n}function j(t,e){return t[e+S]*u+(t[e+x]<<16)+(t[e+C]<<8)+t[e+I]}}function f(t){var e=this.buffer,r=this.offset;return n=null,!1!==t&&0===r&&8===e.length&&c(e)?e:y(e,r)}function p(e){var r=this.buffer,o=this.offset;if(n=i,!1!==e&&0===o&&8===r.length&&t.isBuffer(r))return r;var s=new i(8);return m(s,0,r,o),s}function d(t){var e=this.buffer,r=this.offset,i=e.buffer;if(n=o,!1!==t&&0===r&&i instanceof s&&8===i.byteLength)return i;var a=new o(8);return m(a,0,e,r),a.buffer}function g(t,e){var n=t&&t.length;return e|=0,n&&e+8<=n&&"string"!=typeof t[e]}function m(t,e,n,r){e|=0,r|=0;for(var i=0;i<8;i++)t[e++]=255&n[r++]}function y(t,e){return Array.prototype.slice.call(t,e,e+8)}function _(t,e,n){for(var r=e+8;r>e;)t[--r]=255&n,n/=256}function v(t,e,n){var r=e+8;for(n++;r>e;)t[--r]=255&-n^255,n/=256}function b(t,e,n){for(var r=e+8;e<r;)t[e++]=255&n,n/=256}function w(t,e,n){var r=e+8;for(n++;e<r;)t[e++]=255&-n^255,n/=256}h("Uint64BE",!0,!0),h("Int64BE",!0,!1),h("Uint64LE",!1,!0),h("Int64LE",!1,!1)}("object"==typeof e&&"string"!=typeof e.nodeName?e:this||{})}).call(e,n(1).Buffer)},function(t,e,n){var r=n(31);e.createCodec=a,e.install=function(t){for(var e in t)o.prototype[e]=s(o.prototype[e],t[e])},e.filter=function(t){return r(t)?function(t){return t=t.slice(),function(n){return t.reduce(e,n)};function e(t,e){return e(t)}}(t):t};var i=n(9);function o(t){if(!(this instanceof o))return new o(t);this.options=t,this.init()}function s(t,e){return t&&e?function(){return t.apply(this,arguments),e.apply(this,arguments)}:t||e}function a(t){return new o(t)}o.prototype.init=function(){var t=this.options;return t&&t.uint8array&&(this.bufferish=i.Uint8Array),this},e.preset=a({preset:!0})},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(e,n(8))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r;r=function(t){var e,n,r,i,o;return n=(e=t).lib,r=n.Base,i=n.WordArray,(o=e.x64={}).Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),o.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var o=t[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;i<n;i++)e[i]=e[i].clone();return t}}),t},t.exports=r(n(0))},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.requiredHandlers=["initializeHandler","compileHandler","dependenciesHandler"],e.optionalHandlers=["completionHandler","getSelectionMap","didOpenHandler","didChangeHandler","definitionHandler","hoverHandler","signatureHandler","referencesHandler","documentColorHandler","colorPresentationHandler"],e.isResponseError=function(t){return!!t.code},e.ConnectionEvents={DIAGNOSTICS:"diagnostics",COMPILED_CHANGED:"compiled-changed"},e.EditorEvents={EDITED_FILE_CHANGED:"edited_file_changed",DIAGNOSTICS_CHANGED:"diagnostics_changed",CURSOR_POSITION_CHANGED:"position_changed",MOUSE_POSITION_CHANGED:"mouse_position_changed"}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,s,a,c,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(o(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),s=(l=n.slice()).length,c=0;c<s;c++)l[c].apply(this,a);return!0},n.prototype.addListener=function(t,e){var s;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var n,o,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(n=this._events[t]).length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";function r(t,e){return e.type===t}function i(t,e){return Object.keys(e).forEach(n=>{t[n]||(t[n]=((...t)=>e[n].apply(e,t)))}),t}Object.defineProperty(e,"__esModule",{value:!0});const o=[];function s(t,e){try{t.target.postMessage(e)}catch(n){console.log(t.thisSideId+"->"+t.otherSideId+":failed to execute PostMessage \n target:",t.target,"message:",e)}}e.connect=async function(t,e){var n;(function(t){return"MessagePort"===t.constructor.name})(n=t.target)&&n.start();const i=(a=e,Object.keys(a));var a;let c=[];const h={api:e};let f,p=!1;return f=await new Promise(e=>{t.target.addEventListener("message",n=>{const o=l(n);o.senderId===t.otherSideId&&(r("handshake",o)?(s(t,{type:"handshake-confirm",targets:i,senderId:t.thisSideId}),c=o.targets,p=!0,e(u(t,c,h))):r("handshake-confirm",o)&&(c=o.targets,p||e(u(t,c,h))))}),s(t,{type:"handshake",targets:i,senderId:t.thisSideId})}),o.push({config:t,localApi:h,remoteApi:f}),f.proxy};let a=0;function c(){return a++}function l(t){let e=t.data;return r("wrapped",e)&&(e=e.inner),e}function u(t,e,n){const i={},o={},a=[],u=(e=!1)=>{t.target.removeEventListener("message",p);const n=e=>{l(e).senderId===t.otherSideId&&(s(t,{type:"dispose",senderId:t.thisSideId}),t.target.removeEventListener("message",n))};t.target.addEventListener("message",n),Object.keys(i).forEach(t=>{i[t]=(()=>{throw new Error(e?"Connection has been disposed from the other side":"Connection has been disposed")})})},f={proxy:i,dispose:u,innerRemoteApi:o};e.forEach(e=>{o[e]=function(...n){const r=c(),i=new Promise((t,i)=>{a.push({id:r,reject:i,resolve:t,toString:()=>`${e}(${n.map(t=>JSON.stringify(t,null,4)).join()})`})}),o={type:"apply",target:e,id:r,arguments:n,senderId:t.thisSideId};return s(t,o),i},i[e]=function(...t){return f.innerRemoteApi[e].apply(f.innerRemoteApi,t)}});const p=async e=>{const i=l(e);if(i.senderId===t.otherSideId)if(r("dispose",i)&&(a.forEach(t=>{t.reject("Connection has been disposed from the other side")}),u(!0)),r("apply",i)){let e=n.api[i.target];if(!e)throw new Error(`has no target ${i.target}`);{let r;try{const o=await e.apply(n.api,i.arguments);r={type:"resolve",description:i.target,id:i.id,res:o,senderId:t.thisSideId}}catch(e){let n="unknown-error",o=void 0;"string"==typeof e?n=e:e instanceof Error&&(n=e.message,o=e.stack),r={type:"reject",description:i.target,id:i.id,reason:n,stack:o,senderId:t.thisSideId}}s(t,r)}}else if(r("resolve",i)){const n=a.findIndex(t=>t.id===i.id);if(-1===n)throw console.error("simple-link unexpected callback:"+i.id+t.thisSideId+"->"+t.otherSideId+":",i.type,i.target||i.description||""+JSON.stringify(e,null,4)),new Error("simple-link unexpected callback "+i.description);a.splice(n,1)[0].resolve(i.res)}else if(r("reject",i)){const n=a.findIndex(t=>t.id===i.id);if(-1===n)throw console.error("simple-link unexpected callback rejection:"+i.id+t.thisSideId+"->"+t.otherSideId+":",i.type,i.target||i.description||""+JSON.stringify(e,null,4)),new Error("simple-link unexpected callback rejection "+i.description);const r=a.splice(n,1)[0];r.reject(new h(r.toString(),i.senderId,i.reason,i.stack))}};return t.target.addEventListener("message",p),f}class h extends Error{constructor(t,e,n,r){super(n),this.name=`Rejection of ${t} by '${e}'`,this.message=n,Object.defineProperty(this,"stack",{value:r?this.stack+"\n---\nRemote stack:\n"+r:this.stack})}}function f(t){const e=o.findIndex(e=>e.remoteApi.proxy===t);if(-1===e)throw new Error("cannot clear unknown connection");o.splice(e,1)[0].remoteApi.dispose()}e.NoFeedbackEndpoint=class{constructor(t){this.ep=t,this.id=c()+"",this.listeners=[]}postMessage(t){this.ep.postMessage({type:"wrapped",senderId:this.id,inner:t})}addEventListener(t,e){const n=t=>{r("wrapped",t.data)&&t.data.senderId===this.id||e(t)};this.ep.addEventListener(t,n),this.listeners.push({orig:e,wrapped:n})}removeEventListener(t,e,n){const r=this.listeners.findIndex(t=>t.orig===e);if(-1===r)throw new Error("connect remove unexisting listener");const i=this.listeners.splice(r,1)[0];this.ep.removeEventListener(t,i.wrapped)}},e.windowEndpoint=function(t,e=self){const n=[];return{sourceWindow:e,targetWindow:t,addEventListener(r,i){const o=e=>{t===e.source&&i(e)};e.addEventListener(r,o),n.push({orig:i,wrapped:o})},removeEventListener(t,r,i){const o=n.findIndex(t=>t.orig===r);if(-1===o)throw new Error("connect remove unexisting listener");const s=n.splice(o,1)[0];e.removeEventListener(t,s.wrapped)},postMessage:e=>t.postMessage(e,"*")}},e.disposeConnection=f,e.disposeAllConnections=function(){for(;o.length;)f(o[0].remoteApi.proxy)},e.replaceRemoteApi=function(t,e,n){const r=o.find(n=>n.config.thisSideId===t&&n.config.otherSideId===e);if(!r)throw new Error("replaceRemoteApi failed "+t+"->"+e);r.remoteApi.innerRemoteApi=i(n(r.remoteApi.innerRemoteApi),r.remoteApi.innerRemoteApi)},e.replaceLocalApi=function(t,e,n){const r=o.find(n=>n.config.otherSideId===t&&n.config.thisSideId===e);if(!r)throw new Error("replaceLocalApi failed "+t+"->"+e);r.localApi.api=i(n(r.localApi.api),r.localApi.api)}},,,,function(t,e){t.exports=React},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){return t.tryCatchResolve=e,t;function t(t,n){return arguments.length<2&&(n=e),function(e,i,o){var s=t._defer(),a=o.length,c=new Array(a);return r({f:e,thisArg:i,args:o,params:c,i:a-1,call:n},s._handler),s};function r(e,r){if(e.i<0)return n(e.f,e.thisArg,e.params,r);t._handler(e.args[e.i]).fold(i,e,void 0,r)}function i(t,e,n){t.params[t.i]=e,t.i-=1,r(t,n)}}function e(t,e,n,r){try{r.resolve(t.apply(e,n))}catch(t){r.reject(t)}}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r=n(59).ExtBuffer,i=n(190),o=n(191),s=n(43);function a(){var t=this.options;return this.encode=function(t){var e=o.getWriteType(t);return function(t,n){var r=e[typeof n];if(!r)throw new Error('Unsupported type "'+typeof n+'": '+n);r(t,n)}}(t),t&&t.preset&&i.setExtPackers(this),this}s.install({addExtPacker:function(t,e,n){n=s.filter(n);var i=e.name;if(i&&"Object"!==i){var o=this.extPackers||(this.extPackers={});o[i]=c}else{var a=this.extEncoderList||(this.extEncoderList=[]);a.unshift([e,c])}function c(e){return n&&(e=n(e)),new r(e,t)}},getExtPacker:function(t){var e=this.extPackers||(this.extPackers={}),n=t.constructor,r=n&&n.name&&e[n.name];if(r)return r;for(var i=this.extEncoderList||(this.extEncoderList=[]),o=i.length,s=0;s<o;s++){var a=i[s];if(n===a[0])return a[1]}},init:a}),e.preset=a.call(s.preset)},function(t,e,n){e.ExtBuffer=function t(e,n){if(!(this instanceof t))return new t(e,n);this.buffer=r.from(e);this.type=n};var r=n(9)},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+h],h+=f,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+p]=255&s,p+=d,s/=256,l-=8);t[n+p-d]|=128*g}},function(t,e,n){var r=n(189);e.copy=c,e.slice=l,e.toString=function(t,e,n){return(!s&&i.isBuffer(this)?this.toString:r.toString).apply(this,arguments)},e.write=function(t){return function(){return(this[t]||r[t]).apply(this,arguments)}}("write");var i=n(9),o=i.global,s=i.hasBuffer&&"TYPED_ARRAY_SUPPORT"in o,a=s&&!o.TYPED_ARRAY_SUPPORT;function c(t,e,n,o){var s=i.isBuffer(this),c=i.isBuffer(t);if(s&&c)return this.copy(t,e,n,o);if(a||s||c||!i.isView(this)||!i.isView(t))return r.copy.call(this,t,e,n,o);var u=n||null!=o?l.call(this,n,o):this;return t.set(u,e),u.length}function l(t,e){var n=this.slice||!a&&this.subarray;if(n)return n.call(this,t,e);var r=i.alloc.call(this,e-t);return c.call(this,r,0,t,e),r}},function(t,e,n){var r=n(59).ExtBuffer,i=n(193),o=n(91).readUint8,s=n(194),a=n(43);function c(){var t=this.options;return this.decode=function(t){var e=s.getReadToken(t);return function(t){var n=o(t),r=e[n];if(!r)throw new Error("Invalid type: "+(n?"0x"+n.toString(16):n));return r(t)}}(t),t&&t.preset&&i.setExtUnpackers(this),this}a.install({addExtUnpacker:function(t,e){(this.extUnpackers||(this.extUnpackers=[]))[t]=a.filter(e)},getExtUnpacker:function(t){return(this.extUnpackers||(this.extUnpackers=[]))[t]||function(e){return new r(e,t)}},init:c}),e.preset=c.call(a.preset)},function(t,e,n){(e=t.exports=n(94)).Stream=e,e.Readable=e,e.Writable=n(64),e.Duplex=n(18),e.Transform=n(97),e.PassThrough=n(205)},function(t,e,n){"use strict";(function(e,r,i){var o=n(44);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=_;var a,c=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;_.WritableState=y;var l=n(32);l.inherits=n(3);var u={deprecate:n(204)},h=n(95),f=n(6).Buffer,p=i.Uint8Array||function(){};var d,g=n(96);function m(){}function y(t,e){a=a||n(18),t=t||{};var r=e instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,l=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(S,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),S(t,e))}(t,n,r,e,i);else{var s=E(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?c(b,t,n,s,i):b(t,n,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function _(t){if(a=a||n(18),!(d.call(_,this)||this instanceof a))return new _(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function v(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function b(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),S(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,v(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,h=n.callback;if(v(t,e,!1,e.objectMode?1:l.length,l,u,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function E(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function A(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),S(t,e)})}function S(t,e){var n=E(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(A,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}l.inherits(_,h),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===_&&(t&&t._writableState instanceof y)}})):d=function(t){return t instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(t,e,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=t,f.isBuffer(r)||r instanceof p);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(r,s),i=!1),i}(this,i,t,n))&&(i.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n));return e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,a,r,i,o);return c}(this,i,a,t,e,n)),s},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,S(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=g.destroy,_.prototype._undestroy=g.undestroy,_.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,n(8),n(129).setImmediate,n(4))},function(t,e,n){"use strict";(function(e){const r=n(211),i=n(66),o=n(34),s=n(33),a=n(22),c=n(35),l=n(23),u=l.MT,h=l.NUMBYTES,f=(l.SIMPLE,l.SYMS),p=new a(-1),d=p.sub(new a(Number.MAX_SAFE_INTEGER.toString(16),16)),g=Symbol("count"),m=(Symbol("pending_key"),Symbol("major type")),y=Symbol("error"),_=Symbol("not found");function v(t,e,n){const r=[];return r[g]=n,r[f.PARENT]=t,r[m]=e,r}function b(t,e){const n=new c;return n[f.PARENT]=t,n[m]=e,n}class w extends r{constructor(t){const e=(t=t||{}).tags;delete t.tags;const n=null!=t.max_depth?t.max_depth:-1;delete t.max_depth,super(t),this.running=!0,this.max_depth=n,this.tags=e}static nullcheck(t){switch(t){case f.NULL:return null;case f.UNDEFINED:return;case _:throw new Error("Value not found");default:return t}}static decodeFirstSync(t,e){let n,r={};switch(typeof(e=e||{encoding:"hex"})){case"string":n=e;break;case"object":n=(r=s.extend({},e)).encoding,delete r.encoding}const i=new w(r),o=new c(t,null!=n?n:s.guessEncoding(t)),a=i._parse();let l=a.next();for(;!l.done;){const t=o.read(l.value);if(null==t||t.length!==l.value)throw new Error("Insufficient data");l=a.next(t)}return w.nullcheck(l.value)}static decodeAllSync(t,e){let n,r={};switch(typeof(e=e||{encoding:"hex"})){case"string":n=e;break;case"object":n=(r=s.extend({},e)).encoding,delete r.encoding}const i=new w(r),o=new c(t,null!=n?n:s.guessEncoding(t)),a=[];for(;o.length>0;){const t=i._parse();let e=t.next();for(;!e.done;){const n=o.read(e.value);if(null==n||n.length!==e.value)throw new Error("Insufficient data");e=t.next(n)}a.push(w.nullcheck(e.value))}return a}static decodeFirst(t,e,n){let r={},i=!1,o="hex";switch(typeof e){case"function":n=e,o=s.guessEncoding(t);break;case"string":o=e;break;case"object":o=null!=(r=s.extend({},e)).encoding?r.encoding:s.guessEncoding(t),delete r.encoding,i=null!=r.required&&r.required,delete r.required}const a=new w(r);let c,l=_;return a.on("data",t=>{l=w.nullcheck(t),a.close()}),"function"==typeof n?(a.once("error",t=>{const e=l;return l=y,a.close(),n(t,e)}),a.once("end",()=>{switch(l){case _:return i?n(new Error("No CBOR found")):n(null,l);case y:return;default:return n(null,l)}})):c=new Promise((t,e)=>(a.once("error",t=>(l=y,a.close(),e(t))),a.once("end",()=>{switch(l){case _:return i?e(new Error("No CBOR found")):t(l);case y:return;default:return t(l)}}))),a.end(t,o),c}static decodeAll(t,e,n){let r={},i="hex";switch(typeof e){case"function":n=e,i=s.guessEncoding(t);break;case"string":i=e;break;case"object":i=null!=(r=s.extend({},e)).encoding?r.encoding:s.guessEncoding(t),delete r.encoding}const o=new w(r);let a;const c=[];return o.on("data",t=>c.push(w.nullcheck(t))),"function"==typeof n?(o.on("error",n),o.on("end",()=>n(null,c))):a=new Promise((t,e)=>{o.on("error",e),o.on("end",()=>t(c))}),o.end(t,i),a}close(){this.running=!1,this.__fresh=!0}*_parse(){let t=null,n=0,r=null;for(;;){if(this.max_depth>=0&&n>this.max_depth)throw new Error("Maximum depth "+this.max_depth+" exceeded");const l=(yield 1)[0];if(!this.running)throw new Error("Unexpected data: 0x"+l.toString(16));const y=l>>5,_=31&l,w=null!=t?t[m]:void 0,E=null!=t?t.length:void 0;switch(_){case h.ONE:this.emit("more-bytes",y,1,w,E),r=(yield 1)[0];break;case h.TWO:case h.FOUR:case h.EIGHT:const t=1<<_-24;this.emit("more-bytes",y,t,w,E);const e=yield t;r=y===u.SIMPLE_FLOAT?e:s.parseCBORint(_,e);break;case 28:case 29:case 30:throw this.running=!1,new Error("Additional info not implemented: "+_);case h.INDEFINITE:r=-1;break;default:r=_}switch(y){case u.POS_INT:break;case u.NEG_INT:r=r===Number.MAX_SAFE_INTEGER?d:r instanceof a?p.sub(r):-1-r;break;case u.BYTE_STRING:case u.UTF8_STRING:switch(r){case 0:this.emit("start-string",y,r,w,E),r=y===u.BYTE_STRING?new e(0):"";break;case-1:this.emit("start",y,f.STREAM,w,E),t=b(t,y),n++;continue;default:this.emit("start-string",y,r,w,E),r=yield r,y===u.UTF8_STRING&&(r=r.toString("utf-8"))}break;case u.ARRAY:case u.MAP:switch(r){case 0:r=y===u.MAP?{}:[];break;case-1:this.emit("start",y,f.STREAM,w,E),t=v(t,y,-1),n++;continue;default:this.emit("start",y,r,w,E),t=v(t,y,r*(y-3)),n++;continue}break;case u.TAG:this.emit("start",y,r,w,E),(t=v(t,y,1)).push(r),n++;continue;case u.SIMPLE_FLOAT:r="number"==typeof r?o.decode(r,null!=t):s.parseCBORfloat(r)}this.emit("value",r,w,E,_);let A=!1;for(;null!=t;){switch(!1){case r!==f.BREAK:t[g]=1;break;case!Array.isArray(t):t.push(r);break;case!(t instanceof c):const e=t[m];if(null!=e&&e!==y)throw this.running=!1,new Error("Invalid major type in indefinite encoding");t.write(r)}if(0!=--t[g]){A=!0;break}if(--n,delete t[g],this.emit("stop",t[m]),Array.isArray(t))switch(t[m]){case u.ARRAY:r=t;break;case u.MAP:let e=!0;if(t.length%2!=0)throw new Error("Invalid map length: "+t.length);for(let n=0,r=t.length;n<r;n+=2)if("string"!=typeof t[n]){e=!1;break}if(e){r={};for(let e=0,n=t.length;e<n;e+=2)r[t[e]]=t[e+1]}else{r=new Map;for(let e=0,n=t.length;e<n;e+=2)r.set(t[e],t[e+1])}break;case u.TAG:r=new i(t[0],t[1]).convert(this.tags)}else if(t instanceof c)switch(t[m]){case u.BYTE_STRING:r=t.slice();break;case u.UTF8_STRING:r=t.toString("utf-8")}const e=t;t=t[f.PARENT],delete e[f.PARENT],delete e[m]}if(!A)return r}}}w.NOT_FOUND=_,t.exports=w}).call(e,n(1).Buffer)},function(t,e,n){"use strict";const r=n(22),i=n(33),o=n(98),s=new r(-1),a=new r(10),c=new r(2);class l{constructor(t,e,n){if(this.tag=t,this.value=e,this.err=n,"number"!=typeof this.tag)throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var e,n;if("function"!=typeof(n=null!=t?t[this.tag]:void 0)&&"function"!=typeof(n=l["_tag_"+this.tag]))return this;try{return n.call(l,this.value)}catch(t){return e=t,this.err=e,this}}static _tag_0(t){return new Date(t)}static _tag_1(t){return new Date(1e3*t)}static _tag_2(t){return i.bufferToBignumber(t)}static _tag_3(t){return s.minus(i.bufferToBignumber(t))}static _tag_4(t){return a.pow(t[0]).times(t[1])}static _tag_5(t){return c.pow(t[0]).times(t[1])}static _tag_32(t){return o.parse(t)}static _tag_35(t){return new RegExp(t)}}t.exports=l},function(t,e,n){var r=n(13);function i(){return Math.floor(9007199254740992*Math.random())}function o(t,e){this.replacer=t,this.reviver=e,this.SERIALIZER_ID="json",this.BINARY=!1,this.newid=i}o.prototype.serialize=function(t){try{return JSON.stringify(t,this.replacer)}catch(t){throw r.warn("JSON encoding error",t),t}},o.prototype.unserialize=function(t){try{return JSON.parse(t,this.reviver)}catch(t){throw r.warn("JSON decoding error",t),t}},e.JSONSerializer=o;var s=n(84),a=n(42).Uint64BE;function c(){this.SERIALIZER_ID="msgpack",this.BINARY=!0,this.codec=s.createCodec(),this.newid=function(){return new a(i())}}c.prototype.serialize=function(t){try{return s.encode(t,{codec:this.codec})}catch(t){throw r.warn("MessagePack encoding error",t),t}},c.prototype.unserialize=function(t){try{return s.decode(new Uint8Array(t),{codec:this.codec})}catch(t){throw r.warn("MessagePack decoding error",t),t}},c.prototype.registerExtType=function(t,e,n,r){n&&e&&this.codec.addExtPacker(t,e,n),r&&this.codec.addExtUnpacker(t,r)},e.MsgpackSerializer=c;var l=n(93);function u(){this.SERIALIZER_ID="cbor",this.BINARY=!0,this.newid=i}u.prototype.serialize=function(t){try{return l.encode(t)}catch(t){throw r.warn("CBOR encoding error",t),t}},u.prototype.unserialize=function(t){try{return l.decodeFirstSync(t)}catch(t){throw r.warn("CBOR decoding error",t),t}},e.CBORSerializer=u},function(t,e,n){var r;r=function(t){var e,n,r,i,o,s;return n=(e=t).lib,r=n.WordArray,i=n.Hasher,o=[],s=e.algo.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],a=n[3],c=n[4],l=0;l<80;l++){if(l<16)o[l]=0|t[e+l];else{var u=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=u<<1|u>>>31}var h=(r<<5|r>>>27)+c+o[l];h+=l<20?1518500249+(i&s|~i&a):l<40?1859775393+(i^s^a):l<60?(i&s|i&a|s&a)-1894007588:(i^s^a)-899497514,c=a,a=s,s=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s),t.SHA1},t.exports=r(n(0))},function(t,e,n){var r;r=function(t){var e,n,r;n=(e=t).lib.Base,r=e.enc.Utf8,e.algo.HMAC=n.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=r.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),s=this._iKey=e.clone(),a=o.words,c=s.words,l=0;l<n;l++)a[l]^=1549556828,c[l]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})},t.exports=r(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11);function i(t){return new Promise(function(e){return setTimeout(e,t)})}e.delayedPromise=i,e.timeoutPromise=function(t,e,n){return void 0===n&&(n="timed out after "+e+"ms"),new Promise(function(r,i){setTimeout(function(){return i(new Error(n))},e),t.then(r,i)})};var o=new Promise(function(){});e.retryPromise=function(t,e){var n=e.interval,s=e.retries,a=e.timeout,c=e.timeoutMessage,l=void 0===c?"timed out after "+a+"ms":c;return r.__awaiter(this,void 0,void 0,function(){var e,c,u,h;return r.__generator(this,function(r){switch(r.label){case 0:return a||s?[3,2]:[4,t()];case 1:return[2,r.sent()];case 2:if(a&&a<=s*n)return[2,Promise.reject(new Error("timeout ("+a+"ms) must be greater than retries ("+s+") times interval ("+n+"ms)"))];e=[o,o],a&&(e[1]=i(a).then(function(){return Promise.reject(new Error(l))})),c=s?s+1:Number.MAX_SAFE_INTEGER,u=null,r.label=3;case 3:if(!(c-- >0))return[3,9];r.label=4;case 4:return r.trys.push([4,6,,7]),e[0]=t(),[4,Promise.race(e)];case 5:return[2,r.sent()];case 6:if((h=r.sent()).message===l)throw u||h;return u=h,[3,7];case 7:return[4,new Promise(function(t){return setTimeout(t,n)})];case 8:return r.sent(),[3,3];case 9:throw u||new Error(l)}})})}},,,,function(t,e,n){"use strict";var r=n(6).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=u,this.end=h,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�".repeat(n);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�".repeat(n+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�".repeat(n+2)}}(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�".repeat(this.lastTotal-this.lastNeed):e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n)return 0;if((i=s(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n)return 0;if((i=s(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=n(39),o=n(17),s=0,a=function(){function t(t,e){if(void 0===t&&(t="memory-"+s++),this.baseUrl=t,this.events=o.makeEventsEmitter(),this.baseUrl+="/",e){if(e.model&&e.content)throw new Error("MemoryFileSystem can't accept both model and content options");this.root=e.model||i.Directory.fromContent(e.content||{})}else this.root=i.Directory.fromContent({})}return t.addContent=function(t,e,n){var r=t.root,s=n&&o.getPathNodes(n);if(n&&s&&s.length){t.ensureDirectorySync(n);var a=i.Directory.fromContent(e,s[s.length-1],o.normalizePathNodes(s.slice(0,s.length-1)));i.Directory.mix(i.Directory.getSubDir(r,s),a)}else i.Directory.mix(r,i.Directory.fromContent(e))},t.prototype.emit=function(t,e){this.events.emit(t,e)},t.prototype.saveFile=function(t,e,n){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(r){return[2,this.saveFileSync(t,e,n)]})})},t.prototype.deleteFile=function(t,e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(n){return[2,this.deleteFileSync(t,e)]})})},t.prototype.deleteDirectory=function(t,e,n){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(r){return[2,this.deleteDirectorySync(t,e,n)]})})},t.prototype.ensureDirectory=function(t,e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(n){return[2,this.ensureDirectorySync(t,e)]})})},t.prototype.loadTextFile=function(t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return[2,this.loadTextFileSync(t)]})})},t.prototype.loadDirectoryTree=function(t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return[2,this.loadDirectoryTreeSync(t)]})})},t.prototype.loadDirectoryChildren=function(t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return[2,this.loadDirectoryChildrenSync(t)]})})},t.prototype.stat=function(t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return[2,this.statSync(t)]})})},t.prototype.saveFileSync=function(t,e,n){void 0===n&&(n=o.makeCorrelationId());var r=o.getPathNodes(t),s=r.pop();if(!s)throw new Error("root is not a legal file name");this._ensureDirectorySync(r.join(i.pathSeparator),n);var a=i.Directory.getSubDir(this.root,r);if(!a)throw new Error("unexpected error: not a legal file name? '"+t+"'");var c=a.children.find(function(t){return t.name===s});if(i.isDir(c))throw new Error("file save error for path '"+t+"'");if(i.isFile(c)){if(c.content!==e){c.content=e;var l="fileChanged";this.emit(l,{type:l,fullPath:t,newContent:e,correlation:n})}}else{l="fileCreated";a.children.push(new i.File(s,t,e)),this.emit(l,{type:l,fullPath:t,newContent:e,correlation:n})}return n},t.prototype.deleteFileSync=function(t,e){void 0===e&&(e=o.makeCorrelationId());var n=o.getPathNodes(t),r=n.length?i.Directory.getSubDir(this.root,n.slice(0,n.length-1)):null;if(i.isDir(r)){var s=r.children.find(function(t){return t.name===n[n.length-1]});if(i.isFile(s))r.children=r.children.filter(function(t){return t.name!==s.name}),this.emit("fileDeleted",{type:"fileDeleted",fullPath:t,correlation:e});else if(i.isDir(s))throw new Error("Directory is not a file '"+t+"'")}return e},t.prototype.deleteDirectorySync=function(t,e,n){void 0===n&&(n=o.makeCorrelationId());var r=o.getPathNodes(t);if(0===r.length)throw new Error("Can't delete root directory");var s=i.Directory.getSubDir(this.root,r.slice(0,r.length-1));if(i.isDir(s)){var a=s.children.find(function(t){return t.name===r[r.length-1]});if(i.isFile(a))throw new Error("File is not a directory '"+t+"'");if(i.isDir(a)){if(!e&&a.children.length)throw new Error("Directory is not empty '"+t+"'");s.children=s.children.filter(function(t){return t.name!==a.name}),this.recursiveEmitDeletion(a,n)}}return n},t.prototype.ensureDirectorySync=function(t,e){return void 0===e&&(e=o.makeCorrelationId()),this._ensureDirectorySync(t,e)},t.prototype.findNode=function(t){var e=o.getPathNodes(t),n=e.length?i.Directory.getSubDir(this.root,e.slice(0,e.length-1)):null;if(i.isDir(n)){var r=n.children.find(function(t){return t.name===e[e.length-1]});if(r)return r}throw new Error("Cannot find "+t)},t.prototype.getDir=function(t){var e=i.Directory.getSubDir(this.root,t);if(!e)throw new Error("Unable to read folder in path: '"+t+"'");return e},t.prototype.loadTextFileSync=function(t){var e=this.findNode(t);if(i.isFile(e))return e.content||"";throw new Error("File is a directory "+t)},t.prototype.loadDirectoryContentSync=function(t){return void 0===t&&(t=""),i.Directory.toContent(this.getDir(t))},t.prototype.loadDirectoryTreeSync=function(t){return void 0===t&&(t=""),i.Directory.cloneStructure(this.getDir(t))},t.prototype.loadDirectoryChildrenSync=function(t){return this.getDir(t).children.map(function(t){return i.isDir(t)?new i.ShallowDirectory(t.name,t.fullPath):new i.File(t.name,t.fullPath)})},t.prototype.statSync=function(t){var e=this.findNode(t);return i.isFile(e)?{type:"file"}:{type:"dir"}},t.prototype._ensureDirectorySync=function(t,e){var n=this;return o.getPathNodes(t).reduce(function(t,r){var o=t.children.find(function(t){return t.name===r});if(i.isDir(o))return o;if(i.isFile(o))throw new Error("File is not a directory "+o.fullPath);var s=new i.Directory(r,t.fullPath?[t.fullPath,r].join(i.pathSeparator):r);return t.children.push(s),n.emit("directoryCreated",{type:"directoryCreated",fullPath:s.fullPath,correlation:e}),s},this.root),e},t.prototype.recursiveEmitDeletion=function(t,e){var n=this;this.emit("directoryDeleted",{type:"directoryDeleted",fullPath:t.fullPath,correlation:e}),t.children.forEach(function(t){i.isDir(t)&&n.recursiveEmitDeletion(t,e),n.emit("fileDeleted",{type:"fileDeleted",fullPath:t.fullPath,correlation:e})})},t}();e.MemoryFileSystem=a},function(t,e,n){(function(t){n(161);var r=n(169),i=n(21),o=n(84),s=n(93),a=n(99);"AUTOBAHN_DEBUG"in t&&AUTOBAHN_DEBUG&&(n(220),"console"in t&&console.log("AutobahnJS debug enabled"));var c=n(24),l=n(13),u=n(102),h=n(104),f=n(225),p=n(67),d=n(230),g=n(231),m=n(256);e.version=r.version,e.transports=f.transports,e.Connection=h.Connection,e.Session=u.Session,e.Invocation=u.Invocation,e.Event=u.Event,e.Result=u.Result,e.Error=u.Error,e.Subscription=u.Subscription,e.Registration=u.Registration,e.Publication=u.Publication,e.serializer=p,e.auth_persona=d.auth,e.auth_cra=g,e.auth_cryptosign=m,e.when=i,e.msgpack=o,e.cbor=s,e.nacl=a,e.util=c,e.log=l}).call(e,n(4))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){function t(e){Error.call(this),this.message=e,this.name=t.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){return{pending:t,fulfilled:n,rejected:e,inspect:function(t){var r=t.state();return 0===r?{state:"pending"}:r>0?n(t.value):e(t.value)}};function t(){return{state:"pending"}}function e(t){return{state:"rejected",reason:t}}function n(t){return{state:"fulfilled",value:t}}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){e.encode=n(85).encode,e.decode=n(89).decode,e.Encoder=n(195).Encoder,e.Decoder=n(196).Decoder,e.createCodec=n(197).createCodec,e.codec=n(198).codec},function(t,e,n){e.encode=function(t,e){var n=new r(e);return n.write(t),n.read()};var r=n(86).EncodeBuffer},function(t,e,n){e.EncodeBuffer=i;var r=n(58).preset;function i(t){if(!(this instanceof i))return new i(t);if(t&&(this.options=t,t.codec)){var e=this.codec=t.codec;e.bufferish&&(this.bufferish=e.bufferish)}}n(88).FlexEncoder.mixin(i.prototype),i.prototype.codec=r,i.prototype.write=function(t){this.codec.encode(this,t)}},function(t,e){for(var n=e.uint8=new Array(256),r=0;r<=255;r++)n[r]=i(r);function i(t){return function(e){var n=e.reserve(1);e.buffer[n]=t}}},function(t,e,n){e.FlexDecoder=a,e.FlexEncoder=c;var r=n(9),i=2048,o=65536,s="BUFFER_SHORTAGE";function a(){if(!(this instanceof a))return new a}function c(){if(!(this instanceof c))return new c}function l(){throw new Error("method not implemented: write()")}function u(){throw new Error("method not implemented: fetch()")}function h(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function f(t){(this.buffers||(this.buffers=[])).push(t)}function p(){return(this.buffers||(this.buffers=[])).shift()}function d(t){return function(e){for(var n in t)e[n]=t[n];return e}}a.mixin=d(function(){return{bufferish:r,write:function(t){var e=this.offset?r.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=e?t?this.bufferish.concat([e,t]):e:t,this.offset=0},fetch:u,flush:function(){for(;this.offset<this.buffer.length;){var t,e=this.offset;try{t=this.fetch()}catch(t){if(t&&t.message!=s)throw t;this.offset=e;break}this.push(t)}},push:f,pull:p,read:h,reserve:function(t){var e=this.offset,n=e+t;if(n>this.buffer.length)throw new Error(s);return this.offset=n,e},offset:0}}()),a.mixin(a.prototype),c.mixin=d(function(){return{bufferish:r,write:l,fetch:function(){var t=this.start;if(t<this.offset){var e=this.start=this.offset;return r.prototype.slice.call(this.buffer,t,e)}},flush:function(){for(;this.start<this.offset;){var t=this.fetch();t&&this.push(t)}},push:f,pull:function(){var t=this.buffers||(this.buffers=[]),e=t.length>1?this.bufferish.concat(t):t[0];return t.length=0,e},read:h,reserve:function(t){var e=0|t;if(this.buffer){var n=this.buffer.length,r=0|this.offset,i=r+e;if(i<n)return this.offset=i,r;this.flush(),t=Math.max(t,Math.min(2*n,this.maxBufferSize))}return t=Math.max(t,this.minBufferSize),this.buffer=this.bufferish.alloc(t),this.start=0,this.offset=e,0},send:function(t){var e=t.length;if(e>this.minBufferSize)this.flush(),this.push(t);else{var n=this.reserve(e);r.prototype.copy.call(t,this.buffer,n)}},maxBufferSize:o,minBufferSize:i,offset:0,start:0}}()),c.mixin(c.prototype)},function(t,e,n){e.decode=function(t,e){var n=new r(e);return n.write(t),n.read()};var r=n(90).DecodeBuffer},function(t,e,n){e.DecodeBuffer=i;var r=n(62).preset;function i(t){if(!(this instanceof i))return new i(t);if(t&&(this.options=t,t.codec)){var e=this.codec=t.codec;e.bufferish&&(this.bufferish=e.bufferish)}}n(88).FlexDecoder.mixin(i.prototype),i.prototype.codec=r,i.prototype.fetch=function(){return this.codec.decode(this)}},function(t,e,n){var r=n(60),i=n(42),o=i.Uint64BE,s=i.Int64BE;e.getReadFormat=function(t){var e=a.hasArrayBuffer&&t&&t.binarraybuffer,n=t&&t.int64;return{map:l&&t&&t.usemap?f:h,array:p,str:d,bin:e?m:g,ext:y,uint8:_,uint16:b,uint32:E,uint64:S(8,n?I:x),int8:v,int16:w,int32:A,int64:S(8,n?P:C),float32:S(4,T),float64:S(8,D)}},e.readUint8=_;var a=n(9),c=n(61),l="undefined"!=typeof Map,u=!0;function h(t,e){var n,r={},i=new Array(e),o=new Array(e),s=t.codec.decode;for(n=0;n<e;n++)i[n]=s(t),o[n]=s(t);for(n=0;n<e;n++)r[i[n]]=o[n];return r}function f(t,e){var n,r=new Map,i=new Array(e),o=new Array(e),s=t.codec.decode;for(n=0;n<e;n++)i[n]=s(t),o[n]=s(t);for(n=0;n<e;n++)r.set(i[n],o[n]);return r}function p(t,e){for(var n=new Array(e),r=t.codec.decode,i=0;i<e;i++)n[i]=r(t);return n}function d(t,e){var n=t.reserve(e),r=n+e;return c.toString.call(t.buffer,"utf-8",n,r)}function g(t,e){var n=t.reserve(e),r=n+e,i=c.slice.call(t.buffer,n,r);return a.from(i)}function m(t,e){var n=t.reserve(e),r=n+e,i=c.slice.call(t.buffer,n,r);return a.Uint8Array.from(i).buffer}function y(t,e){var n=t.reserve(e+1),r=t.buffer[n++],i=n+e,o=t.codec.getExtUnpacker(r);if(!o)throw new Error("Invalid ext type: "+(r?"0x"+r.toString(16):r));return o(c.slice.call(t.buffer,n,i))}function _(t){var e=t.reserve(1);return t.buffer[e]}function v(t){var e=t.reserve(1),n=t.buffer[e];return 128&n?n-256:n}function b(t){var e=t.reserve(2),n=t.buffer;return n[e++]<<8|n[e]}function w(t){var e=t.reserve(2),n=t.buffer,r=n[e++]<<8|n[e];return 32768&r?r-65536:r}function E(t){var e=t.reserve(4),n=t.buffer;return 16777216*n[e++]+(n[e++]<<16)+(n[e++]<<8)+n[e]}function A(t){var e=t.reserve(4),n=t.buffer;return n[e++]<<24|n[e++]<<16|n[e++]<<8|n[e]}function S(t,e){return function(n){var r=n.reserve(t);return e.call(n.buffer,r,u)}}function x(t){return new o(this,t).toNumber()}function C(t){return new s(this,t).toNumber()}function I(t){return new o(this,t)}function P(t){return new s(this,t)}function T(t){return r.read(this,t,!1,23,4)}function D(t){return r.read(this,t,!1,52,8)}},function(t,e,n){!function(e){t.exports=e;var n="listeners",r={on:function(t,e){return s(this,t).push(e),this},once:function(t,e){var n=this;return r.originalListener=e,s(n,t).push(r),n;function r(){o.call(n,t,r),e.apply(this,arguments)}},off:o,emit:function(t,e){var n=this,r=s(n,t,!0);if(!r)return!1;var i=arguments.length;if(1===i)r.forEach(function(t){t.call(n)});else if(2===i)r.forEach(function(t){t.call(n,e)});else{var o=Array.prototype.slice.call(arguments,1);r.forEach(function(t){t.apply(n,o)})}return!!r.length}};function i(t){for(var e in r)t[e]=r[e];return t}function o(t,e){var r;if(arguments.length){if(e){if(r=s(this,t,!0)){if(!(r=r.filter(function(t){return t!==e&&t.originalListener!==e})).length)return o.call(this,t);this[n][t]=r}}else if((r=this[n])&&(delete r[t],!Object.keys(r).length))return o.call(this)}else delete this[n];return this}function s(t,e,r){if(!r||t[n]){var i=t[n]||(t[n]={});return i[e]||(i[e]=[])}}i(e.prototype),e.mixin=i}(function t(){if(!(this instanceof t))return new t})},function(t,e,n){"use strict";e.Commented=n(199),e.Diagnose=n(217),e.Decoder=n(65),e.Encoder=n(218),e.Simple=n(34),e.Tagged=n(66),e.comment=e.Commented.comment,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.decodeAllSync=e.Decoder.decodeAllSync,e.decodeFirstSync=e.Decoder.decodeFirstSync,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.encodeCanonical=e.Encoder.encodeCanonical,e.decode=e.Decoder.decodeFirstSync,e.leveldb={decode:e.Decoder.decodeAllSync,encode:e.Encoder.encode,buffer:!0,name:"cbor"}},function(t,e,n){"use strict";(function(e,r){var i=n(44);t.exports=v;var o,s=n(31);v.ReadableState=_;n(51).EventEmitter;var a=function(t,e){return t.listeners(e).length},c=n(95),l=n(6).Buffer,u=e.Uint8Array||function(){};var h=n(32);h.inherits=n(3);var f=n(200),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var d,g=n(201),m=n(96);h.inherits(v,c);var y=["error","close","destroy","pause","resume"];function _(t,e){o=o||n(18),t=t||{};var r=e instanceof o;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(74).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function v(t){if(o=o||n(18),!(this instanceof v))return new v(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function b(t,e,n,r,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,S(t)}(t,s)):(i||(o=function(t,e){var n;r=e,l.isBuffer(r)||r instanceof u||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):C(t,s)):w(t,s,e,!1))):r||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&S(t)),C(t,e)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(t,e){this.push(null),e(t)},v.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=l.from(t,e),e=""),n=!0),b(this,t,e,!1,n)},v.prototype.unshift=function(t){return b(this,t,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return d||(d=n(74).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var E=8388608;function A(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=E?t=E:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(x,t):x(t))}function x(t){p("emit readable"),t.emit("readable"),D(t)}function C(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(I,t,e))}function I(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function P(t){p("readable nexttick read 0"),t.read(0)}function T(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),D(t),e.flowing&&!e.reading&&t.read(0)}function D(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=l.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function B(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(k,e,t))}function k(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function M(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}v.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?B(this):S(this),null;if(0===(t=A(t,e))&&e.ended)return 0===e.length&&B(this),null;var r,i=e.needReadable;return p("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",i=!0),e.ended||e.reading?p("reading or ended",i=!1):i&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=A(n,e))),null===(r=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&B(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var c=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?u:v;function l(e,r){p("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),t.removeListener("close",y),t.removeListener("finish",_),t.removeListener("drain",h),t.removeListener("error",m),t.removeListener("unpipe",l),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",g),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function u(){p("onend"),t.end()}o.endEmitted?i.nextTick(c):n.once("end",c),t.on("unpipe",l);var h=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,D(t))}}(n);t.on("drain",h);var f=!1;var d=!1;function g(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==M(o.pipes,t))&&!f&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function m(e){p("onerror",e),v(),t.removeListener("error",m),0===a(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",_),v()}function _(){p("onfinish"),t.removeListener("close",y),v()}function v(){p("unpipe"),n.unpipe(t)}return n.on("data",g),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",m),t.once("close",y),t.once("finish",_),t.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),t},v.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=M(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},v.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(P,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(T,t,e))}(this,t)),this},v.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause())))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<y.length;o++)t.on(y[o],this.emit.bind(this,y[o]));return this._read=function(e){p("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=O}).call(e,n(4),n(8))},function(t,e,n){t.exports=n(51).EventEmitter},function(t,e,n){"use strict";var r=n(44);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";t.exports=o;var r=n(18),i=n(32);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(this,null,null)}function a(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(3),i.inherits(o,r),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";var r=n(212),i=n(213);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=v,e.resolve=function(t,e){return v(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?v(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=v(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),h=["%","/","?",";","#"].concat(u),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=n(214);function v(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(a);l[0]=l[0].replace(/\\/g,"/");var v=t=l.join(a);if(v=v.trim(),!n&&1===t.split("#").length){var b=c.exec(v);if(b)return this.path=v,this.href=v,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=s.exec(v);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,v=v.substr(w.length)}if(n||w||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===v.substr(0,2);!A||w&&m[w]||(v=v.substr(2),this.slashes=!0)}if(!m[w]&&(A||w&&!y[w])){for(var S,x,C=-1,I=0;I<f.length;I++){-1!==(P=v.indexOf(f[I]))&&(-1===C||P<C)&&(C=P)}-1!==(x=-1===C?v.lastIndexOf("@"):v.lastIndexOf("@",C))&&(S=v.slice(0,x),v=v.slice(x+1),this.auth=decodeURIComponent(S)),C=-1;for(I=0;I<h.length;I++){var P;-1!==(P=v.indexOf(h[I]))&&(-1===C||P<C)&&(C=P)}-1===C&&(C=v.length),this.host=v.slice(0,C),v=v.slice(C),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var D=this.hostname.split(/\./),O=(I=0,D.length);I<O;I++){var B=D[I];if(B&&!B.match(p)){for(var k="",M=0,R=B.length;M<R;M++)B.charCodeAt(M)>127?k+="x":k+=B[M];if(!k.match(p)){var j=D.slice(0,I),U=D.slice(I+1),N=B.match(d);N&&(j.push(N[1]),U.unshift(N[2])),U.length&&(v="/"+U.join(".")+v),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=r.toASCII(this.hostname));var L=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+L,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!g[E])for(I=0,O=u.length;I<O;I++){var H=u[I];if(-1!==v.indexOf(H)){var z=encodeURIComponent(H);z===H&&(z=escape(H)),v=v.split(H).join(z)}}var Y=v.indexOf("#");-1!==Y&&(this.hash=v.substr(Y),v=v.slice(0,Y));var G=v.indexOf("?");if(-1!==G?(this.search=v.substr(G),this.query=v.substr(G+1),e&&(this.query=_.parse(this.query)),v=v.slice(0,G)):e&&(this.search="",this.query={}),v&&(this.pathname=v),y[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){L=this.pathname||"";var W=this.search||"";this.path=L+W}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=_.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(v(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var c=Object.keys(t),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=t[u])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!y[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var g=n.pathname||"",_=n.search||"";n.path=g+_}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=b||v||n.host&&t.pathname,E=w,A=n.pathname&&n.pathname.split("/")||[],S=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===A[0]?A[0]=n.host:A.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===A[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,A=d;else if(d.length)A||(A=[]),A.pop(),A=A.concat(d),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(S)n.hostname=n.host=A.shift(),(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift());return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!A.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=A.slice(-1)[0],C=(n.host||t.host||A.length>1)&&("."===x||".."===x)||""===x,I=0,P=A.length;P>=0;P--)"."===(x=A[P])?A.splice(P,1):".."===x?(A.splice(P,1),I++):I&&(A.splice(P,1),I--);if(!w&&!E)for(;I--;I)A.unshift("..");!w||""===A[0]||A[0]&&"/"===A[0].charAt(0)||A.unshift(""),C&&"/"!==A.join("/").substr(-1)&&A.push("");var T,D=""===A[0]||A[0]&&"/"===A[0].charAt(0);S&&(n.hostname=n.host=D?"":A.length?A.shift():"",(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift()));return(w=w||n.host&&A.length)&&!D&&A.unshift(""),A.length?n.pathname=A.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){!function(t){"use strict";var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=e(),a=e([1]),c=e([56129,1]),l=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function g(t,e,n,r,i){var o,s=0;for(o=0;o<i;o++)s|=t[e+o]^n[r+o];return(1&s-1>>>8)-1}function m(t,e,n,r){return g(t,e,n,r,16)}function y(t,e,n,r){return g(t,e,n,r,32)}function _(t,e,n,r){!function(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,m=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,_=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,v=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=o,E=s,A=a,S=c,x=l,C=u,I=h,P=f,T=p,D=d,O=g,B=m,k=y,M=_,R=v,j=b,U=0;U<20;U+=2)w^=(i=(k^=(i=(T^=(i=(x^=(i=w+k|0)<<7|i>>>25)+w|0)<<9|i>>>23)+x|0)<<13|i>>>19)+T|0)<<18|i>>>14,C^=(i=(E^=(i=(M^=(i=(D^=(i=C+E|0)<<7|i>>>25)+C|0)<<9|i>>>23)+D|0)<<13|i>>>19)+M|0)<<18|i>>>14,O^=(i=(I^=(i=(A^=(i=(R^=(i=O+I|0)<<7|i>>>25)+O|0)<<9|i>>>23)+R|0)<<13|i>>>19)+A|0)<<18|i>>>14,j^=(i=(B^=(i=(P^=(i=(S^=(i=j+B|0)<<7|i>>>25)+j|0)<<9|i>>>23)+S|0)<<13|i>>>19)+P|0)<<18|i>>>14,w^=(i=(S^=(i=(A^=(i=(E^=(i=w+S|0)<<7|i>>>25)+w|0)<<9|i>>>23)+E|0)<<13|i>>>19)+A|0)<<18|i>>>14,C^=(i=(x^=(i=(P^=(i=(I^=(i=C+x|0)<<7|i>>>25)+C|0)<<9|i>>>23)+I|0)<<13|i>>>19)+P|0)<<18|i>>>14,O^=(i=(D^=(i=(T^=(i=(B^=(i=O+D|0)<<7|i>>>25)+O|0)<<9|i>>>23)+B|0)<<13|i>>>19)+T|0)<<18|i>>>14,j^=(i=(R^=(i=(M^=(i=(k^=(i=j+R|0)<<7|i>>>25)+j|0)<<9|i>>>23)+k|0)<<13|i>>>19)+M|0)<<18|i>>>14;w=w+o|0,E=E+s|0,A=A+a|0,S=S+c|0,x=x+l|0,C=C+u|0,I=I+h|0,P=P+f|0,T=T+p|0,D=D+d|0,O=O+g|0,B=B+m|0,k=k+y|0,M=M+_|0,R=R+v|0,j=j+b|0,t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=E>>>0&255,t[5]=E>>>8&255,t[6]=E>>>16&255,t[7]=E>>>24&255,t[8]=A>>>0&255,t[9]=A>>>8&255,t[10]=A>>>16&255,t[11]=A>>>24&255,t[12]=S>>>0&255,t[13]=S>>>8&255,t[14]=S>>>16&255,t[15]=S>>>24&255,t[16]=x>>>0&255,t[17]=x>>>8&255,t[18]=x>>>16&255,t[19]=x>>>24&255,t[20]=C>>>0&255,t[21]=C>>>8&255,t[22]=C>>>16&255,t[23]=C>>>24&255,t[24]=I>>>0&255,t[25]=I>>>8&255,t[26]=I>>>16&255,t[27]=I>>>24&255,t[28]=P>>>0&255,t[29]=P>>>8&255,t[30]=P>>>16&255,t[31]=P>>>24&255,t[32]=T>>>0&255,t[33]=T>>>8&255,t[34]=T>>>16&255,t[35]=T>>>24&255,t[36]=D>>>0&255,t[37]=D>>>8&255,t[38]=D>>>16&255,t[39]=D>>>24&255,t[40]=O>>>0&255,t[41]=O>>>8&255,t[42]=O>>>16&255,t[43]=O>>>24&255,t[44]=B>>>0&255,t[45]=B>>>8&255,t[46]=B>>>16&255,t[47]=B>>>24&255,t[48]=k>>>0&255,t[49]=k>>>8&255,t[50]=k>>>16&255,t[51]=k>>>24&255,t[52]=M>>>0&255,t[53]=M>>>8&255,t[54]=M>>>16&255,t[55]=M>>>24&255,t[56]=R>>>0&255,t[57]=R>>>8&255,t[58]=R>>>16&255,t[59]=R>>>24&255,t[60]=j>>>0&255,t[61]=j>>>8&255,t[62]=j>>>16&255,t[63]=j>>>24&255}(t,e,n,r)}function v(t,e,n,r){!function(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,m=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,_=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,v=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=0;w<20;w+=2)o^=(i=(y^=(i=(p^=(i=(l^=(i=o+y|0)<<7|i>>>25)+o|0)<<9|i>>>23)+l|0)<<13|i>>>19)+p|0)<<18|i>>>14,u^=(i=(s^=(i=(_^=(i=(d^=(i=u+s|0)<<7|i>>>25)+u|0)<<9|i>>>23)+d|0)<<13|i>>>19)+_|0)<<18|i>>>14,g^=(i=(h^=(i=(a^=(i=(v^=(i=g+h|0)<<7|i>>>25)+g|0)<<9|i>>>23)+v|0)<<13|i>>>19)+a|0)<<18|i>>>14,b^=(i=(m^=(i=(f^=(i=(c^=(i=b+m|0)<<7|i>>>25)+b|0)<<9|i>>>23)+c|0)<<13|i>>>19)+f|0)<<18|i>>>14,o^=(i=(c^=(i=(a^=(i=(s^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,u^=(i=(l^=(i=(f^=(i=(h^=(i=u+l|0)<<7|i>>>25)+u|0)<<9|i>>>23)+h|0)<<13|i>>>19)+f|0)<<18|i>>>14,g^=(i=(d^=(i=(p^=(i=(m^=(i=g+d|0)<<7|i>>>25)+g|0)<<9|i>>>23)+m|0)<<13|i>>>19)+p|0)<<18|i>>>14,b^=(i=(v^=(i=(_^=(i=(y^=(i=b+v|0)<<7|i>>>25)+b|0)<<9|i>>>23)+y|0)<<13|i>>>19)+_|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=u>>>0&255,t[5]=u>>>8&255,t[6]=u>>>16&255,t[7]=u>>>24&255,t[8]=g>>>0&255,t[9]=g>>>8&255,t[10]=g>>>16&255,t[11]=g>>>24&255,t[12]=b>>>0&255,t[13]=b>>>8&255,t[14]=b>>>16&255,t[15]=b>>>24&255,t[16]=h>>>0&255,t[17]=h>>>8&255,t[18]=h>>>16&255,t[19]=h>>>24&255,t[20]=f>>>0&255,t[21]=f>>>8&255,t[22]=f>>>16&255,t[23]=f>>>24&255,t[24]=p>>>0&255,t[25]=p>>>8&255,t[26]=p>>>16&255,t[27]=p>>>24&255,t[28]=d>>>0&255,t[29]=d>>>8&255,t[30]=d>>>16&255,t[31]=d>>>24&255}(t,e,n,r)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(t,e,n,r,i,o,s){var a,c,l=new Uint8Array(16),u=new Uint8Array(64);for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=o[c];for(;i>=64;){for(_(u,l,s,b),c=0;c<64;c++)t[e+c]=n[r+c]^u[c];for(a=1,c=8;c<16;c++)a=a+(255&l[c])|0,l[c]=255&a,a>>>=8;i-=64,e+=64,r+=64}if(i>0)for(_(u,l,s,b),c=0;c<i;c++)t[e+c]=n[r+c]^u[c];return 0}function E(t,e,n,r,i){var o,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=r[s];for(;n>=64;){for(_(c,a,i,b),s=0;s<64;s++)t[e+s]=c[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;n-=64,e+=64}if(n>0)for(_(c,a,i,b),s=0;s<n;s++)t[e+s]=c[s];return 0}function A(t,e,n,r,i){var o=new Uint8Array(32);v(o,r,i,b);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=r[a+16];return E(t,e,n,s,o)}function S(t,e,n,r,i,o,s){var a=new Uint8Array(32);v(a,o,s,b);for(var c=new Uint8Array(8),l=0;l<8;l++)c[l]=o[l+16];return w(t,e,n,r,i,c,a)}var x=function(t){var e,n,r,i,o,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function C(t,e,n,r,i,o){var s=new x(o);return s.update(n,r,i),s.finish(t,e),0}function I(t,e,n,r,i,o){var s=new Uint8Array(16);return C(s,0,n,r,i,o),m(t,e,s,0)}function P(t,e,n,r,i){var o;if(n<32)return-1;for(S(t,0,e,0,n,r,i),C(t,16,t,32,n-32,t),o=0;o<16;o++)t[o]=0;return 0}function T(t,e,n,r,i){var o,s=new Uint8Array(32);if(n<32)return-1;if(A(s,0,32,r,i),0!==I(e,16,e,32,n-32,s))return-1;for(S(t,0,e,0,n,r,i),o=0;o<32;o++)t[o]=0;return 0}function D(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function O(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function B(t,e,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(t[o]^e[o]),t[o]^=r,e[o]^=r}function k(t,n){var r,i,o,s=e(),a=e();for(r=0;r<16;r++)a[r]=n[r];for(O(a),O(a),O(a),i=0;i<2;i++){for(s[0]=a[0]-65517,r=1;r<15;r++)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,B(a,s,1-o)}for(r=0;r<16;r++)t[2*r]=255&a[r],t[2*r+1]=a[r]>>8}function M(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return k(n,t),k(r,e),y(n,0,r,0)}function R(t){var e=new Uint8Array(32);return k(e,t),1&e[0]}function j(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function U(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function N(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function L(t,e,n){var r,i,o=0,s=0,a=0,c=0,l=0,u=0,h=0,f=0,p=0,d=0,g=0,m=0,y=0,_=0,v=0,b=0,w=0,E=0,A=0,S=0,x=0,C=0,I=0,P=0,T=0,D=0,O=0,B=0,k=0,M=0,R=0,j=n[0],U=n[1],N=n[2],L=n[3],F=n[4],H=n[5],z=n[6],Y=n[7],G=n[8],W=n[9],q=n[10],Q=n[11],K=n[12],J=n[13],Z=n[14],V=n[15];o+=(r=e[0])*j,s+=r*U,a+=r*N,c+=r*L,l+=r*F,u+=r*H,h+=r*z,f+=r*Y,p+=r*G,d+=r*W,g+=r*q,m+=r*Q,y+=r*K,_+=r*J,v+=r*Z,b+=r*V,s+=(r=e[1])*j,a+=r*U,c+=r*N,l+=r*L,u+=r*F,h+=r*H,f+=r*z,p+=r*Y,d+=r*G,g+=r*W,m+=r*q,y+=r*Q,_+=r*K,v+=r*J,b+=r*Z,w+=r*V,a+=(r=e[2])*j,c+=r*U,l+=r*N,u+=r*L,h+=r*F,f+=r*H,p+=r*z,d+=r*Y,g+=r*G,m+=r*W,y+=r*q,_+=r*Q,v+=r*K,b+=r*J,w+=r*Z,E+=r*V,c+=(r=e[3])*j,l+=r*U,u+=r*N,h+=r*L,f+=r*F,p+=r*H,d+=r*z,g+=r*Y,m+=r*G,y+=r*W,_+=r*q,v+=r*Q,b+=r*K,w+=r*J,E+=r*Z,A+=r*V,l+=(r=e[4])*j,u+=r*U,h+=r*N,f+=r*L,p+=r*F,d+=r*H,g+=r*z,m+=r*Y,y+=r*G,_+=r*W,v+=r*q,b+=r*Q,w+=r*K,E+=r*J,A+=r*Z,S+=r*V,u+=(r=e[5])*j,h+=r*U,f+=r*N,p+=r*L,d+=r*F,g+=r*H,m+=r*z,y+=r*Y,_+=r*G,v+=r*W,b+=r*q,w+=r*Q,E+=r*K,A+=r*J,S+=r*Z,x+=r*V,h+=(r=e[6])*j,f+=r*U,p+=r*N,d+=r*L,g+=r*F,m+=r*H,y+=r*z,_+=r*Y,v+=r*G,b+=r*W,w+=r*q,E+=r*Q,A+=r*K,S+=r*J,x+=r*Z,C+=r*V,f+=(r=e[7])*j,p+=r*U,d+=r*N,g+=r*L,m+=r*F,y+=r*H,_+=r*z,v+=r*Y,b+=r*G,w+=r*W,E+=r*q,A+=r*Q,S+=r*K,x+=r*J,C+=r*Z,I+=r*V,p+=(r=e[8])*j,d+=r*U,g+=r*N,m+=r*L,y+=r*F,_+=r*H,v+=r*z,b+=r*Y,w+=r*G,E+=r*W,A+=r*q,S+=r*Q,x+=r*K,C+=r*J,I+=r*Z,P+=r*V,d+=(r=e[9])*j,g+=r*U,m+=r*N,y+=r*L,_+=r*F,v+=r*H,b+=r*z,w+=r*Y,E+=r*G,A+=r*W,S+=r*q,x+=r*Q,C+=r*K,I+=r*J,P+=r*Z,T+=r*V,g+=(r=e[10])*j,m+=r*U,y+=r*N,_+=r*L,v+=r*F,b+=r*H,w+=r*z,E+=r*Y,A+=r*G,S+=r*W,x+=r*q,C+=r*Q,I+=r*K,P+=r*J,T+=r*Z,D+=r*V,m+=(r=e[11])*j,y+=r*U,_+=r*N,v+=r*L,b+=r*F,w+=r*H,E+=r*z,A+=r*Y,S+=r*G,x+=r*W,C+=r*q,I+=r*Q,P+=r*K,T+=r*J,D+=r*Z,O+=r*V,y+=(r=e[12])*j,_+=r*U,v+=r*N,b+=r*L,w+=r*F,E+=r*H,A+=r*z,S+=r*Y,x+=r*G,C+=r*W,I+=r*q,P+=r*Q,T+=r*K,D+=r*J,O+=r*Z,B+=r*V,_+=(r=e[13])*j,v+=r*U,b+=r*N,w+=r*L,E+=r*F,A+=r*H,S+=r*z,x+=r*Y,C+=r*G,I+=r*W,P+=r*q,T+=r*Q,D+=r*K,O+=r*J,B+=r*Z,k+=r*V,v+=(r=e[14])*j,b+=r*U,w+=r*N,E+=r*L,A+=r*F,S+=r*H,x+=r*z,C+=r*Y,I+=r*G,P+=r*W,T+=r*q,D+=r*Q,O+=r*K,B+=r*J,k+=r*Z,M+=r*V,b+=(r=e[15])*j,s+=38*(E+=r*N),a+=38*(A+=r*L),c+=38*(S+=r*F),l+=38*(x+=r*H),u+=38*(C+=r*z),h+=38*(I+=r*Y),f+=38*(P+=r*G),p+=38*(T+=r*W),d+=38*(D+=r*q),g+=38*(O+=r*Q),m+=38*(B+=r*K),y+=38*(k+=r*J),_+=38*(M+=r*Z),v+=38*(R+=r*V),o=(r=(o+=38*(w+=r*U))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=c,t[4]=l,t[5]=u,t[6]=h,t[7]=f,t[8]=p,t[9]=d,t[10]=g,t[11]=m,t[12]=y,t[13]=_,t[14]=v,t[15]=b}function F(t,e){L(t,e,e)}function H(t,n){var r,i=e();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)F(i,i),2!==r&&4!==r&&L(i,i,n);for(r=0;r<16;r++)t[r]=i[r]}function z(t,n,r){var i,o,s=new Uint8Array(32),a=new Float64Array(80),l=e(),u=e(),h=e(),f=e(),p=e(),d=e();for(o=0;o<31;o++)s[o]=n[o];for(s[31]=127&n[31]|64,s[0]&=248,j(a,r),o=0;o<16;o++)u[o]=a[o],f[o]=l[o]=h[o]=0;for(l[0]=f[0]=1,o=254;o>=0;--o)B(l,u,i=s[o>>>3]>>>(7&o)&1),B(h,f,i),U(p,l,h),N(l,l,h),U(h,u,f),N(u,u,f),F(f,p),F(d,l),L(l,h,l),L(h,u,p),U(p,l,h),N(l,l,h),F(u,l),N(h,f,d),L(l,h,c),U(l,l,f),L(h,h,l),L(l,f,d),L(f,u,a),F(u,p),B(l,u,i),B(h,f,i);for(o=0;o<16;o++)a[o+16]=l[o],a[o+32]=h[o],a[o+48]=u[o],a[o+64]=f[o];var g=a.subarray(32),m=a.subarray(16);return H(g,g),L(m,m,g),k(t,m),0}function Y(t,e){return z(t,e,o)}function G(t,e){return r(e,32),Y(t,e)}function W(t,e,n){var r=new Uint8Array(32);return z(r,n,e),v(t,i,r,b)}x.prototype.blocks=function(t,e,n){for(var r,i,o,s,a,c,l,u,h,f,p,d,g,m,y,_,v,b,w,E=this.fin?0:2048,A=this.h[0],S=this.h[1],x=this.h[2],C=this.h[3],I=this.h[4],P=this.h[5],T=this.h[6],D=this.h[7],O=this.h[8],B=this.h[9],k=this.r[0],M=this.r[1],R=this.r[2],j=this.r[3],U=this.r[4],N=this.r[5],L=this.r[6],F=this.r[7],H=this.r[8],z=this.r[9];n>=16;)A+=8191&(r=255&t[e+0]|(255&t[e+1])<<8),S+=8191&(r>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3),x+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6),C+=8191&(o>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9),I+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12),P+=a>>>1&8191,T+=8191&(a>>>14|(c=255&t[e+10]|(255&t[e+11])<<8)<<2),D+=8191&(c>>>11|(l=255&t[e+12]|(255&t[e+13])<<8)<<5),u=255&t[e+14]|(255&t[e+15])<<8,f=h=0,f+=A*k,f+=S*(5*z),f+=x*(5*H),f+=C*(5*F),h=(f+=I*(5*L))>>>13,f&=8191,f+=P*(5*N),f+=T*(5*U),f+=D*(5*j),f+=(O+=8191&(l>>>8|u<<8))*(5*R),p=h+=(f+=(B+=u>>>5|E)*(5*M))>>>13,p+=A*M,p+=S*k,p+=x*(5*z),p+=C*(5*H),h=(p+=I*(5*F))>>>13,p&=8191,p+=P*(5*L),p+=T*(5*N),p+=D*(5*U),p+=O*(5*j),h+=(p+=B*(5*R))>>>13,p&=8191,d=h,d+=A*R,d+=S*M,d+=x*k,d+=C*(5*z),h=(d+=I*(5*H))>>>13,d&=8191,d+=P*(5*F),d+=T*(5*L),d+=D*(5*N),d+=O*(5*U),g=h+=(d+=B*(5*j))>>>13,g+=A*j,g+=S*R,g+=x*M,g+=C*k,h=(g+=I*(5*z))>>>13,g&=8191,g+=P*(5*H),g+=T*(5*F),g+=D*(5*L),g+=O*(5*N),m=h+=(g+=B*(5*U))>>>13,m+=A*U,m+=S*j,m+=x*R,m+=C*M,h=(m+=I*k)>>>13,m&=8191,m+=P*(5*z),m+=T*(5*H),m+=D*(5*F),m+=O*(5*L),y=h+=(m+=B*(5*N))>>>13,y+=A*N,y+=S*U,y+=x*j,y+=C*R,h=(y+=I*M)>>>13,y&=8191,y+=P*k,y+=T*(5*z),y+=D*(5*H),y+=O*(5*F),_=h+=(y+=B*(5*L))>>>13,_+=A*L,_+=S*N,_+=x*U,_+=C*j,h=(_+=I*R)>>>13,_&=8191,_+=P*M,_+=T*k,_+=D*(5*z),_+=O*(5*H),v=h+=(_+=B*(5*F))>>>13,v+=A*F,v+=S*L,v+=x*N,v+=C*U,h=(v+=I*j)>>>13,v&=8191,v+=P*R,v+=T*M,v+=D*k,v+=O*(5*z),b=h+=(v+=B*(5*H))>>>13,b+=A*H,b+=S*F,b+=x*L,b+=C*N,h=(b+=I*U)>>>13,b&=8191,b+=P*j,b+=T*R,b+=D*M,b+=O*k,w=h+=(b+=B*(5*z))>>>13,w+=A*z,w+=S*H,w+=x*F,w+=C*L,h=(w+=I*N)>>>13,w&=8191,w+=P*U,w+=T*j,w+=D*R,w+=O*M,A=f=8191&(h=(h=((h+=(w+=B*k)>>>13)<<2)+h|0)+(f&=8191)|0),S=p+=h>>>=13,x=d&=8191,C=g&=8191,I=m&=8191,P=y&=8191,T=_&=8191,D=v&=8191,O=b&=8191,B=w&=8191,e+=16,n-=16;this.h[0]=A,this.h[1]=S,this.h[2]=x,this.h[3]=C,this.h[4]=I,this.h[5]=P,this.h[6]=T,this.h[7]=D,this.h[8]=O,this.h[9]=B},x.prototype.finish=function(t,e){var n,r,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+n,n=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,r=(1^n)-1,o=0;o<10;o++)s[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},x.prototype.update=function(t,e,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(t,e,i),e+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var q=P,Q=T;var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(t,e,n,r){for(var i,o,s,a,c,l,u,h,f,p,d,g,m,y,_,v,b,w,E,A,S,x,C,I,P,T,D=new Int32Array(16),O=new Int32Array(16),B=t[0],k=t[1],M=t[2],R=t[3],j=t[4],U=t[5],N=t[6],L=t[7],F=e[0],H=e[1],z=e[2],Y=e[3],G=e[4],W=e[5],q=e[6],Q=e[7],J=0;r>=128;){for(E=0;E<16;E++)A=8*E+J,D[E]=n[A+0]<<24|n[A+1]<<16|n[A+2]<<8|n[A+3],O[E]=n[A+4]<<24|n[A+5]<<16|n[A+6]<<8|n[A+7];for(E=0;E<80;E++)if(i=B,o=k,s=M,a=R,c=j,l=U,u=N,h=L,f=F,p=H,d=z,g=Y,m=G,y=W,_=q,v=Q,C=65535&(x=Q),I=x>>>16,P=65535&(S=L),T=S>>>16,C+=65535&(x=(G>>>14|j<<18)^(G>>>18|j<<14)^(j>>>9|G<<23)),I+=x>>>16,P+=65535&(S=(j>>>14|G<<18)^(j>>>18|G<<14)^(G>>>9|j<<23)),T+=S>>>16,C+=65535&(x=G&W^~G&q),I+=x>>>16,P+=65535&(S=j&U^~j&N),T+=S>>>16,S=K[2*E],C+=65535&(x=K[2*E+1]),I+=x>>>16,P+=65535&S,T+=S>>>16,S=D[E%16],I+=(x=O[E%16])>>>16,P+=65535&S,T+=S>>>16,P+=(I+=(C+=65535&x)>>>16)>>>16,C=65535&(x=w=65535&C|I<<16),I=x>>>16,P=65535&(S=b=65535&P|(T+=P>>>16)<<16),T=S>>>16,C+=65535&(x=(F>>>28|B<<4)^(B>>>2|F<<30)^(B>>>7|F<<25)),I+=x>>>16,P+=65535&(S=(B>>>28|F<<4)^(F>>>2|B<<30)^(F>>>7|B<<25)),T+=S>>>16,I+=(x=F&H^F&z^H&z)>>>16,P+=65535&(S=B&k^B&M^k&M),T+=S>>>16,h=65535&(P+=(I+=(C+=65535&x)>>>16)>>>16)|(T+=P>>>16)<<16,v=65535&C|I<<16,C=65535&(x=g),I=x>>>16,P=65535&(S=a),T=S>>>16,I+=(x=w)>>>16,P+=65535&(S=b),T+=S>>>16,k=i,M=o,R=s,j=a=65535&(P+=(I+=(C+=65535&x)>>>16)>>>16)|(T+=P>>>16)<<16,U=c,N=l,L=u,B=h,H=f,z=p,Y=d,G=g=65535&C|I<<16,W=m,q=y,Q=_,F=v,E%16==15)for(A=0;A<16;A++)S=D[A],C=65535&(x=O[A]),I=x>>>16,P=65535&S,T=S>>>16,S=D[(A+9)%16],C+=65535&(x=O[(A+9)%16]),I+=x>>>16,P+=65535&S,T+=S>>>16,b=D[(A+1)%16],C+=65535&(x=((w=O[(A+1)%16])>>>1|b<<31)^(w>>>8|b<<24)^(w>>>7|b<<25)),I+=x>>>16,P+=65535&(S=(b>>>1|w<<31)^(b>>>8|w<<24)^b>>>7),T+=S>>>16,b=D[(A+14)%16],I+=(x=((w=O[(A+14)%16])>>>19|b<<13)^(b>>>29|w<<3)^(w>>>6|b<<26))>>>16,P+=65535&(S=(b>>>19|w<<13)^(w>>>29|b<<3)^b>>>6),T+=S>>>16,T+=(P+=(I+=(C+=65535&x)>>>16)>>>16)>>>16,D[A]=65535&P|T<<16,O[A]=65535&C|I<<16;C=65535&(x=F),I=x>>>16,P=65535&(S=B),T=S>>>16,S=t[0],I+=(x=e[0])>>>16,P+=65535&S,T+=S>>>16,T+=(P+=(I+=(C+=65535&x)>>>16)>>>16)>>>16,t[0]=B=65535&P|T<<16,e[0]=F=65535&C|I<<16,C=65535&(x=H),I=x>>>16,P=65535&(S=k),T=S>>>16,S=t[1],I+=(x=e[1])>>>16,P+=65535&S,T+=S>>>16,T+=(P+=(I+=(C+=65535&x)>>>16)>>>16)>>>16,t[1]=k=65535&P|T<<16,e[1]=H=65535&C|I<<16,C=65535&(x=z),I=x>>>16,P=65535&(S=M),T=S>>>16,S=t[2],I+=(x=e[2])>>>16,P+=65535&S,T+=S>>>16,T+=(P+=(I+=(C+=65535&x)>>>16)>>>16)>>>16,t[2]=M=65535&P|T<<16,e[2]=z=65535&C|I<<16,C=65535&(x=Y),I=x>>>16,P=65535&(S=R),T=S>>>16,S=t[3],I+=(x=e[3])>>>16,P+=65535&S,T+=S>>>16,T+=(P+=(I+=(C+=65535&x)>>>16)>>>16)>>>16,t[3]=R=65535&P|T<<16,e[3]=Y=65535&C|I<<16,C=65535&(x=G),I=x>>>16,P=65535&(S=j),T=S>>>16,S=t[4],I+=(x=e[4])>>>16,P+=65535&S,T+=S>>>16,T+=(P+=(I+=(C+=65535&x)>>>16)>>>16)>>>16,t[4]=j=65535&P|T<<16,e[4]=G=65535&C|I<<16,C=65535&(x=W),I=x>>>16,P=65535&(S=U),T=S>>>16,S=t[5],I+=(x=e[5])>>>16,P+=65535&S,T+=S>>>16,T+=(P+=(I+=(C+=65535&x)>>>16)>>>16)>>>16,t[5]=U=65535&P|T<<16,e[5]=W=65535&C|I<<16,C=65535&(x=q),I=x>>>16,P=65535&(S=N),T=S>>>16,S=t[6],I+=(x=e[6])>>>16,P+=65535&S,T+=S>>>16,T+=(P+=(I+=(C+=65535&x)>>>16)>>>16)>>>16,t[6]=N=65535&P|T<<16,e[6]=q=65535&C|I<<16,C=65535&(x=Q),I=x>>>16,P=65535&(S=L),T=S>>>16,S=t[7],I+=(x=e[7])>>>16,P+=65535&S,T+=S>>>16,T+=(P+=(I+=(C+=65535&x)>>>16)>>>16)>>>16,t[7]=L=65535&P|T<<16,e[7]=Q=65535&C|I<<16,J+=128,r-=128}return r}function Z(t,e,n){var r,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,J(i,o,e,n),n%=128,r=0;r<n;r++)s[r]=e[a-n+r];for(s[n]=128,s[(n=256-128*(n<112?1:0))-9]=0,d(s,n-8,a/536870912|0,a<<3),J(i,o,s,n),r=0;r<8;r++)d(t,8*r,i[r],o[r]);return 0}function V(t,n){var r=e(),i=e(),o=e(),s=e(),a=e(),c=e(),l=e(),h=e(),f=e();N(r,t[1],t[0]),N(f,n[1],n[0]),L(r,r,f),U(i,t[0],t[1]),U(f,n[0],n[1]),L(i,i,f),L(o,t[3],n[3]),L(o,o,u),L(s,t[2],n[2]),U(s,s,s),N(a,i,r),N(c,s,o),U(l,s,o),U(h,i,r),L(t[0],a,c),L(t[1],h,l),L(t[2],l,c),L(t[3],a,h)}function X(t,e,n){var r;for(r=0;r<4;r++)B(t[r],e[r],n)}function $(t,n){var r=e(),i=e(),o=e();H(o,n[2]),L(r,n[0],o),L(i,n[1],o),k(t,i),t[31]^=R(r)<<7}function tt(t,e,n){var r,i;for(D(t[0],s),D(t[1],a),D(t[2],a),D(t[3],s),i=255;i>=0;--i)X(t,e,r=n[i/8|0]>>(7&i)&1),V(e,t),V(t,t),X(t,e,r)}function et(t,n){var r=[e(),e(),e(),e()];D(r[0],h),D(r[1],f),D(r[2],a),L(r[3],h,f),tt(t,r,n)}function nt(t,n,i){var o,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(i||r(n,32),Z(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,et(a,s),$(t,a),o=0;o<32;o++)n[o+32]=t[o];return 0}var rt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function it(t,e){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)e[i]+=n-16*e[r]*rt[i-(r-32)],n=e[i]+128>>8,e[i]-=256*n;e[i]+=n,e[r]=0}for(n=0,i=0;i<32;i++)e[i]+=n-(e[31]>>4)*rt[i],n=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=n*rt[i];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function ot(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;it(t,n)}function st(t,n,r,i){var o,s,a=new Uint8Array(64),c=new Uint8Array(64),l=new Uint8Array(64),u=new Float64Array(64),h=[e(),e(),e(),e()];Z(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=r+64;for(o=0;o<r;o++)t[64+o]=n[o];for(o=0;o<32;o++)t[32+o]=a[32+o];for(Z(l,t.subarray(32),r+32),ot(l),et(h,l),$(t,h),o=32;o<64;o++)t[o]=i[o];for(Z(c,t,r+64),ot(c),o=0;o<64;o++)u[o]=0;for(o=0;o<32;o++)u[o]=l[o];for(o=0;o<32;o++)for(s=0;s<32;s++)u[o+s]+=c[o]*a[s];return it(t.subarray(32),u),f}function at(t,n){var r=e(),i=e(),o=e(),c=e(),u=e(),h=e(),f=e();return D(t[2],a),j(t[1],n),F(o,t[1]),L(c,o,l),N(o,o,t[2]),U(c,t[2],c),F(u,c),F(h,u),L(f,h,u),L(r,f,o),L(r,r,c),function(t,n){var r,i=e();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)F(i,i),1!==r&&L(i,i,n);for(r=0;r<16;r++)t[r]=i[r]}(r,r),L(r,r,o),L(r,r,c),L(r,r,c),L(t[0],r,c),F(i,t[0]),L(i,i,c),M(i,o)&&L(t[0],t[0],p),F(i,t[0]),L(i,i,c),M(i,o)?-1:(R(t[0])===n[31]>>7&&N(t[0],s,t[0]),L(t[3],t[0],t[1]),0)}function ct(t,n,r,i){var o,s=new Uint8Array(32),a=new Uint8Array(64),c=[e(),e(),e(),e()],l=[e(),e(),e(),e()];if(-1,r<64)return-1;if(at(l,i))return-1;for(o=0;o<r;o++)t[o]=n[o];for(o=0;o<32;o++)t[o+32]=i[o];if(Z(a,t,r),ot(a),tt(c,l,a),et(l,n.subarray(32)),V(c,l),$(s,c),r-=64,y(n,0,s,0)){for(o=0;o<r;o++)t[o]=0;return-1}for(o=0;o<r;o++)t[o]=n[o+64];return r}var lt=32,ut=24,ht=32,ft=32,pt=ut;function dt(t,e){if(t.length!==lt)throw new Error("bad key size");if(e.length!==ut)throw new Error("bad nonce size")}function gt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function mt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:S,crypto_stream:A,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:E,crypto_onetimeauth:C,crypto_onetimeauth_verify:I,crypto_verify_16:m,crypto_verify_32:y,crypto_secretbox:P,crypto_secretbox_open:T,crypto_scalarmult:z,crypto_scalarmult_base:Y,crypto_box_beforenm:W,crypto_box_afternm:q,crypto_box:function(t,e,n,r,i,o){var s=new Uint8Array(32);return W(s,i,o),q(t,e,n,r,s)},crypto_box_open:function(t,e,n,r,i,o){var s=new Uint8Array(32);return W(s,i,o),Q(t,e,n,r,s)},crypto_box_keypair:G,crypto_hash:Z,crypto_sign:st,crypto_sign_keypair:nt,crypto_sign_open:ct,crypto_secretbox_KEYBYTES:lt,crypto_secretbox_NONCEBYTES:ut,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:ht,crypto_box_SECRETKEYBYTES:ft,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:pt,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},t.randomBytes=function(t){var e=new Uint8Array(t);return r(e,t),e},t.secretbox=function(t,e,n){gt(t,e,n),dt(n,e);for(var r=new Uint8Array(32+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+32]=t[o];return P(i,r,r.length,e,n),i.subarray(16)},t.secretbox.open=function(t,e,n){gt(t,e,n),dt(n,e);for(var r=new Uint8Array(16+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+16]=t[o];return r.length<32?null:0!==T(i,r,r.length,e,n)?null:i.subarray(32)},t.secretbox.keyLength=lt,t.secretbox.nonceLength=ut,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(gt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var n=new Uint8Array(32);return z(n,t,e),n},t.scalarMult.base=function(t){if(gt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return Y(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox(e,n,o)},t.box.before=function(t,e){gt(t,e),function(t,e){if(t.length!==ht)throw new Error("bad public key size");if(e.length!==ft)throw new Error("bad secret key size")}(t,e);var n=new Uint8Array(32);return W(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox.open(e,n,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(ht),e=new Uint8Array(ft);return G(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(gt(t),t.length!==ft)throw new Error("bad secret key size");var e=new Uint8Array(ht);return Y(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=ht,t.box.secretKeyLength=ft,t.box.sharedKeyLength=32,t.box.nonceLength=pt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(gt(t,e),64!==e.length)throw new Error("bad secret key size");var n=new Uint8Array(64+t.length);return st(n,t,t.length,e),n},t.sign.open=function(t,e){if(gt(t,e),32!==e.length)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=ct(n,t,t.length,e);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached=function(e,n){for(var r=t.sign(e,n),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached.verify=function(t,e,n){if(gt(t,e,n),64!==e.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad public key size");var r,i=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length);for(r=0;r<64;r++)i[r]=e[r];for(r=0;r<t.length;r++)i[r+64]=t[r];return ct(o,i,i.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return nt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(gt(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(gt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),n=new Uint8Array(64),r=0;r<32;r++)n[r]=t[r];return nt(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){gt(t);var e=new Uint8Array(64);return Z(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return gt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===g(t,0,e,0,t.length))},t.setPRNG=function(t){r=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG(function(t,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)e.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)t[r]=i[r];mt(i)})}else(e=n(219))&&e.randomBytes&&t.setPRNG(function(t,n){var r,i=e.randomBytes(n);for(r=0;r<n;r++)t[r]=i[r];mt(i)})}()}(void 0!==t&&t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){var t,e,n;function r(t){try{throw new Error}catch(e){t.stack=e.stack}}function i(t){t.stack=(new Error).stack}function o(t){return function(t){for(var e=!1,n="",r=0;r<t.length;++r)e?n+="\n"+t[r]:(n+=t[r],e=!0);return n}(t)}function s(t){var e=new Error;return e.stack=o(t),e}return Error.captureStackTrace?(t=function(t){return t&&t.stack&&t.stack.split("\n")},n=o,e=Error.captureStackTrace):(t=function(t){var e=t&&t.stack&&t.stack.split("\n");return e&&t.message&&e.unshift(t.message),e},"string"!=typeof(new Error).stack?(n=o,e=r):(n=s,e=i)),{parse:t,format:n,captureStack:e}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){(function(e){var n,r;r=function(){return function t(e,r,i){function o(a,c){if(!r[a]){if(!e[a]){if(!c&&("function"==typeof n&&n))return n(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return o(n||t)},l,l.exports,t,e,r,i)}return r[a].exports}for(var s="function"==typeof n&&n,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){var r=e.exports=t("../when");r.callbacks=t("../callbacks"),r.cancelable=t("../cancelable"),r.delay=t("../delay"),r.fn=t("../function"),r.guard=t("../guard"),r.keys=t("../keys"),r.nodefn=r.node=t("../node"),r.parallel=t("../parallel"),r.pipeline=t("../pipeline"),r.poll=t("../poll"),r.sequence=t("../sequence"),r.timeout=t("../timeout")},{"../callbacks":2,"../cancelable":3,"../delay":4,"../function":5,"../guard":6,"../keys":7,"../node":26,"../parallel":27,"../pipeline":28,"../poll":29,"../sequence":30,"../timeout":31,"../when":32}],2:[function(t,e,n){!function(t){t(function(t){var e=t("./when").Promise,n=t("./lib/liftAll"),r=Array.prototype.slice,i=t("./lib/apply")(e,function(t,e,n,r){n.push(c(r.resolve,r),c(r.reject,r)),function(t,e,n,r){try{t.apply(e,n)}catch(t){r.reject(t)}}(t,e,n,r)});return{lift:o,liftAll:function(t,e,r){return n(o,e,r,t)},apply:function(t,e){return i(t,this,e||[])},call:function(t){return i(t,this,r.call(arguments,1))},promisify:function(t,n){return function(){var r=this;return e.all(arguments).then(function(i){var o,c,l=e._defer();return"number"==typeof n.callback&&(o=s(i,n.callback)),"number"==typeof n.errback&&(c=s(i,n.errback)),c<o?(a(i,c,l._handler.reject,l._handler),a(i,o,l._handler.resolve,l._handler)):(a(i,o,l._handler.resolve,l._handler),a(i,c,l._handler.reject,l._handler)),t.apply(r,i),l})}}};function o(t){var e=arguments.length>1?r.call(arguments,1):[];return function(){return i(t,this,e.concat(r.call(arguments)))}}function s(t,e){return e<0?t.length+e+2:e}function a(t,e,n,r){"number"==typeof e&&t.splice(e,0,c(n,r))}function c(t,e){return function(){arguments.length>1?t.call(e,r.call(arguments)):t.apply(e,arguments)}}})}(function(n){e.exports=n(t)})},{"./lib/apply":11,"./lib/liftAll":23,"./when":32}],3:[function(t,e,n){!function(t){t(function(){return function(t,e){return t.cancel=function(){try{t.reject(e(t))}catch(e){t.reject(e)}return t.promise},t}})}(function(t){e.exports=t()})},{}],4:[function(t,e,n){!function(t){t(function(t){var e=t("./when");return function(t,n){return e(n).delay(t)}})}(function(n){e.exports=n(t)})},{"./when":32}],5:[function(t,e,n){!function(t){t(function(t){var e=t("./when"),n=e.try,r=t("./lib/liftAll"),i=t("./lib/apply")(e.Promise),o=Array.prototype.slice;return{lift:s,liftAll:function(t,e,n){return r(s,e,n,t)},call:n,apply:function(t,e){return i(t,this,null==e?[]:o.call(e))},compose:function(t){var r=o.call(arguments,1);return function(){var i=this,s=o.call(arguments),a=n.apply(i,[t].concat(s));return e.reduce(r,function(t,e){return e.call(i,t)},a)}}};function s(t){var e=arguments.length>1?o.call(arguments,1):[];return function(){return i(t,this,e.concat(o.call(arguments)))}}})}(function(n){e.exports=n(t)})},{"./lib/apply":11,"./lib/liftAll":23,"./when":32}],6:[function(t,e,n){!function(t){t(function(t){var e=t("./when"),n=Array.prototype.slice;return r.n=function(t){var n=0,r=[];return function(){return e.promise(function(e){n<t?e(i):r.push(e),n+=1})};function i(){n=Math.max(n-1,0),r.length>0&&r.shift()(i)}},r;function r(t,r){return function(){var i=n.call(arguments);return e(t()).withThis(this).then(function(t){return e(r.apply(this,i)).finally(t)})}}})}(function(n){e.exports=n(t)})},{"./when":32}],7:[function(t,e,n){!function(t){"use strict";t(function(t){var e=t("./when"),n=e.Promise,r=e.resolve;return{all:e.lift(i),map:function(t,e){return r(t).then(function(t){return i(Object.keys(t).reduce(function(e,i){return e[i]=r(t[i]).fold(n,i),e},{}))});function n(t,n){return e(n,t)}},settle:function(t){var i=Object.keys(t),o={};if(0===i.length)return r(o);var s=n._defer(),a=n._handler(s),c=i.map(function(e){return t[e]});return e.settle(c).then(function(t){!function(t,e,n,r){for(var i=0;i<t.length;i++)n[t[i]]=e[i];r.resolve(n)}(i,t,o,a)}),s}};function i(t){for(var e,r=n._defer(),i=n._handler(r),o={},s=Object.keys(t),a=s.length,c=0;c<s.length;++c)e=s[c],n._handler(t[e]).fold(l,e,o,i);return 0===a&&i.resolve(o),r;function l(t,e,n){this[t]=e,0==--a&&n.resolve(o)}}})}(function(n){e.exports=n(t)})},{"./when":32}],8:[function(t,e,n){!function(t){"use strict";t(function(t){return t("./makePromise")({scheduler:new(t("./Scheduler"))(t("./env").asap)})})}(function(n){e.exports=n(t)})},{"./Scheduler":9,"./env":21,"./makePromise":24}],9:[function(t,e,n){!function(t){"use strict";t(function(){function t(t){this._async=t,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var e=this;this.drain=function(){e._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t})}(function(t){e.exports=t()})},{}],10:[function(t,e,n){!function(t){"use strict";t(function(){function t(e){Error.call(this),this.message=e,this.name=t.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t})}(function(t){e.exports=t()})},{}],11:[function(t,e,n){!function(t){"use strict";t(function(){return t.tryCatchResolve=e,t;function t(t,n){return arguments.length<2&&(n=e),function(e,i,o){var s=t._defer(),a=o.length,c=new Array(a);return r({f:e,thisArg:i,args:o,params:c,i:a-1,call:n},s._handler),s};function r(e,r){if(e.i<0)return n(e.f,e.thisArg,e.params,r);t._handler(e.args[e.i]).fold(i,e,void 0,r)}function i(t,e,n){t.params[t.i]=e,t.i-=1,r(t,n)}}function e(t,e,n,r){try{r.resolve(t.apply(e,n))}catch(t){r.reject(t)}}})}(function(t){e.exports=t()})},{}],12:[function(t,e,n){!function(t){"use strict";t(function(t){var e=t("../state"),n=t("../apply");return function(t){var r=n(t),i=t.resolve,o=t.all,s=Array.prototype.reduce,a=Array.prototype.reduceRight,c=Array.prototype.slice;return t.any=function(e){for(var n,r,i=t._defer(),o=i._handler,s=e.length>>>0,a=s,c=[],l=0;l<s;++l)if(void 0!==(r=e[l])||l in e){if((n=t._handler(r)).state()>0){o.become(n),t._visitRemaining(e,l,n);break}n.visit(o,u,h)}else--a;0===a&&o.reject(new RangeError("any(): array must not be empty"));return i;function u(t){c=null,this.resolve(t)}function h(t){this.resolved||(c.push(t),0==--a&&this.reject(c))}},t.some=function(e,n){var r,i,o,s=t._defer(),a=s._handler,c=[],l=[],u=e.length>>>0,h=0;for(o=0;o<u;++o)(void 0!==(i=e[o])||o in e)&&++h;n=Math.max(n,0),r=h-n+1,h=Math.min(n,h),n>h?a.reject(new RangeError("some(): array must contain at least "+n+" item(s), but had "+h)):0===h&&a.resolve(c);for(o=0;o<u;++o)(void 0!==(i=e[o])||o in e)&&t._handler(i).visit(a,f,p,a.notify);return s;function f(t){this.resolved||(c.push(t),0==--h&&(l=null,this.resolve(c)))}function p(t){this.resolved||(l.push(t),0==--r&&(c=null,this.reject(l)))}},t.settle=function(t){return o(t.map(l))},t.map=function(e,n){return t._traverse(n,e)},t.filter=function(e,n){var r=c.call(e);return t._traverse(n,r).then(function(e){return function(e,n){for(var r=n.length,i=new Array(r),o=0,s=0;o<r;++o)n[o]&&(i[s++]=t._handler(e[o]).value);return i.length=s,i}(r,e)})},t.reduce=function(t,e){return arguments.length>2?s.call(t,u(e),arguments[2]):s.call(t,u(e))},t.reduceRight=function(t,e){return arguments.length>2?a.call(t,u(e),arguments[2]):a.call(t,u(e))},t.prototype.spread=function(t){return this.then(o).then(function(e){return t.apply(this,e)})},t;function l(n){var r;return n instanceof t&&(r=n._handler.join()),r&&0===r.state()||!r?i(n).then(e.fulfilled,e.rejected):(r._unreport(),e.inspect(r))}function u(t){return function(e,n,i){return r(t,void 0,[e,n,i])}}}})}(function(n){e.exports=n(t)})},{"../apply":11,"../state":25}],13:[function(t,e,n){!function(t){"use strict";t(function(){return function(n){var r=n.resolve,i=n.reject,o=n.prototype.catch;function s(t,e,n,i){var o,s=t.call(e);return"object"!=typeof(o=s)&&"function"!=typeof o||null===o?n(i):function(t,e,n){return r(t).then(function(){return e(n)})}(s,n,i)}return n.prototype.done=function(t,e){this._handler.visit(this._handler.receiver,t,e)},n.prototype.catch=n.prototype.otherwise=function(e){return arguments.length<2?o.call(this,e):"function"!=typeof e?this.ensure(t):o.call(this,(n=arguments[1],r=e,function(t){return function(t,e){return function(t){return t===Error||null!=t&&t.prototype instanceof Error}(e)?t instanceof e:e(t)}(t,r)?n.call(this,t):i(t)}));var n,r},n.prototype.finally=n.prototype.ensure=function(t){return"function"!=typeof t?this:this.then(function(n){return s(t,this,e,n)},function(e){return s(t,this,i,e)})},n.prototype.else=n.prototype.orElse=function(t){return this.then(void 0,function(){return t})},n.prototype.yield=function(t){return this.then(function(){return t})},n.prototype.tap=function(t){return this.then(t).yield(this)},n};function t(){throw new TypeError("catch predicate must be a function")}function e(t){return t}})}(function(t){e.exports=t()})},{}],14:[function(t,e,n){!function(t){"use strict";t(function(){return function(t){return t.prototype.fold=function(e,n){var r=this._beget();return this._handler.fold(function(n,r,i){t._handler(n).fold(function(t,n,r){r.resolve(e.call(this,n,t))},r,this,i)},n,r._handler.receiver,r._handler),r},t}})}(function(t){e.exports=t()})},{}],15:[function(t,e,n){!function(t){"use strict";t(function(t){var e=t("../state").inspect;return function(t){return t.prototype.inspect=function(){return e(t._handler(this))},t}})}(function(n){e.exports=n(t)})},{"../state":25}],16:[function(t,e,n){!function(t){"use strict";t(function(){return function(t){var e=t.resolve;return t.iterate=function(t,e,r,i){return n(function(e){return[e,t(e)]},e,r,i)},t.unfold=n,t;function n(t,r,i,o){return e(o).then(function(n){return e(r(n)).then(function(r){return r?n:e(t(n)).spread(s)})});function s(o,s){return e(i(o)).then(function(){return n(t,r,i,s)})}}}})}(function(t){e.exports=t()})},{}],17:[function(t,e,n){!function(t){"use strict";t(function(){return function(t){return t.prototype.progress=function(t){return this.then(void 0,void 0,t)},t}})}(function(t){e.exports=t()})},{}],18:[function(t,e,n){!function(t){"use strict";t(function(t){var e=t("../env"),n=t("../TimeoutError");function r(t,n,r,i){return e.setTimer(function(){t(r,i,n)},n)}return function(t){function i(t,e,n){r(o,t,e,n)}function o(t,e){e.resolve(t)}function s(t,e,r){var i=void 0===t?new n("timed out after "+r+"ms"):t;e.reject(i)}return t.prototype.delay=function(t){var e=this._beget();return this._handler.fold(i,t,void 0,e._handler),e},t.prototype.timeout=function(t,n){var i=this._beget(),o=i._handler,a=r(s,t,n,i._handler);return this._handler.visit(o,function(t){e.clearTimer(a),this.resolve(t)},function(t){e.clearTimer(a),this.reject(t)},o.notify),i},t}})}(function(n){e.exports=n(t)})},{"../TimeoutError":10,"../env":21}],19:[function(t,e,n){!function(t){"use strict";t(function(t){var e=t("../env").setTimer,n=t("../format");return function(t){var o,s=i,a=i;"undefined"!=typeof console&&(o=console,s=void 0!==o.error?function(t){o.error(t)}:function(t){o.log(t)},a=void 0!==o.info?function(t){o.info(t)}:function(t){o.log(t)}),t.onPotentiallyUnhandledRejection=function(t){p(h,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){p(f,t)},t.onFatalRejection=function(t){p(r,t.value)};var c=[],l=[],u=null;function h(t){t.handled||(l.push(t),s("Potentially unhandled rejection ["+t.id+"] "+n.formatError(t.value)))}function f(t){var e=l.indexOf(t);e>=0&&(l.splice(e,1),a("Handled previous rejection ["+t.id+"] "+n.formatObject(t.value)))}function p(t,n){c.push(t,n),null===u&&(u=e(d,0))}function d(){for(u=null;c.length>0;)c.shift()(c.shift())}return t};function r(t){throw t}function i(){}})}(function(n){e.exports=n(t)})},{"../env":21,"../format":22}],20:[function(t,e,n){!function(t){"use strict";t(function(){return function(t){return t.prototype.with=t.prototype.withThis=function(t){var e=this._beget(),n=e._handler;return n.receiver=t,this._handler.chain(n,t),e},t}})}(function(t){e.exports=t()})},{}],21:[function(t,n,r){!function(t){"use strict";t(function(t){var n,r="undefined"!=typeof setTimeout&&setTimeout,i=function(t,e){return setTimeout(t,e)},o=function(t){return clearTimeout(t)},s=function(t){return r(t,0)};if(void 0!==e&&"[object process]"===Object.prototype.toString.call(e))s=function(t){return e.nextTick(t)};else if(n="undefined"!=typeof MutationObserver&&MutationObserver||"undefined"!=typeof WebKitMutationObserver&&WebKitMutationObserver)s=function(t){var e,n=document.createTextNode("");new t(function(){var t=e;e=void 0,t()}).observe(n,{characterData:!0});var r=0;return function(t){e=t,n.data=r^=1}}(n);else if(!r){var a=t("vertx");i=function(t,e){return a.setTimer(e,t)},o=a.cancelTimer,s=a.runOnLoop||a.runOnContext}return{setTimer:i,clearTimer:o,asap:s}})}(function(e){n.exports=e(t)})},{}],22:[function(t,e,n){!function(t){"use strict";t(function(){return{formatError:function(e){var n="object"==typeof e&&null!==e&&(e.stack||e.message)?e.stack||e.message:t(e);return e instanceof Error?n:n+" (WARNING: non-Error used)"},formatObject:t,tryStringify:e};function t(t){var n=String(t);return"[object Object]"===n&&"undefined"!=typeof JSON&&(n=e(t,n)),n}function e(t,e){try{return JSON.stringify(t)}catch(t){return e}}})}(function(t){e.exports=t()})},{}],23:[function(t,e,n){!function(t){"use strict";t(function(){return function(e,n,r,i){return void 0===n&&(n=t),Object.keys(i).reduce(function(t,r){var o=i[r];return"function"==typeof o?n(t,e(o),r):t},void 0===r?function(t){return"function"==typeof t?t.bind():Object.create(t)}(i):r)};function t(t,e,n){return t[n]=e,t}})}(function(t){e.exports=t()})},{}],24:[function(t,n,r){!function(t){"use strict";t(function(){return function(t){var n=t.scheduler,r=function(){if(void 0!==e&&null!==e&&"function"==typeof e.emit)return function(t,n){return"unhandledRejection"===t?e.emit(t,n.value,n):e.emit(t,n)};if("undefined"!=typeof self&&function(){if("function"==typeof CustomEvent)try{var t=new CustomEvent("unhandledRejection");return t instanceof CustomEvent}catch(t){}return!1}())return function(t,e){return function(n,r){var i=new e(n,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!t.dispatchEvent(i)}}(self,CustomEvent);if("undefined"!=typeof self&&function(){if("undefined"!=typeof document&&"function"==typeof document.createEvent)try{var t=document.createEvent("CustomEvent");return t.initCustomEvent("eventType",!1,!0,{}),!0}catch(t){}return!1}())return function(t,e){return function(n,r){var i=e.createEvent("CustomEvent");return i.initCustomEvent(n,!1,!0,{reason:r.value,key:r}),!t.dispatchEvent(i)}}(self,document);return N}(),i=Object.create||function(t){function e(){}return e.prototype=t,new e};function o(t,e){this._handler=t===g?e:function(t){var e=new _;try{t(function(t){e.resolve(t)},n,function(t){e.notify(t)})}catch(t){n(t)}return e;function n(t){e.reject(t)}}(t)}function s(t){return O(t)?t:new o(g,new v(p(t)))}function a(t){return new o(g,new v(new A(t)))}function c(){return C}function l(t,e,n){for(var r,i="function"==typeof e?function(r,i,o){o.resolved||u(n,h,r,t(e,i,r),o)}:h,s=new _,a=n.length>>>0,c=new Array(a),l=0;l<n.length&&!s.resolved;++l)void 0!==(r=n[l])||l in n?u(n,i,l,r,s):--a;return 0===a&&s.become(new w(c)),new o(g,s);function h(t,e,n){c[t]=e,0==--a&&n.become(new w(c))}}function u(t,e,n,r,i){if(B(r)){var o=function(t){return O(t)?t._handler.join():d(t)}(r),s=o.state();0===s?o.fold(e,n,void 0,i):s>0?e(n,o.value,i):(i.become(o),h(t,n+1,o))}else e(n,r,i)}function h(t,e,n){for(var r=e;r<t.length;++r)f(p(t[r]),n)}function f(t,e){if(t!==e){var n=t.state();0===n?t.visit(t,void 0,t._unreport):n<0&&t._unreport()}}function p(t){return O(t)?t._handler.join():B(t)?d(t):new w(t)}function d(t){try{var e=t.then;return"function"==typeof e?new b(e,t):new w(t)}catch(t){return new A(t)}}function g(){}function m(){}o.resolve=s,o.reject=a,o.never=c,o._defer=function(){return new o(g,new _)},o._handler=p,o.prototype.then=function(t,e,n){var r=this._handler,i=r.join().state();if("function"!=typeof t&&i>0||"function"!=typeof e&&i<0)return new this.constructor(g,r);var o=this._beget(),s=o._handler;return r.chain(s,r.receiver,t,e,n),o},o.prototype.catch=function(t){return this.then(void 0,t)},o.prototype._beget=function(){return t=this._handler,e=this.constructor,n=new _(t.receiver,t.join().context),new e(g,n);var t,e,n},o.all=function(t){return l(U,null,t)},o.race=function(t){if("object"!=typeof t||null===t)return a(new TypeError("non-iterable passed to race()"));return 0===t.length?c():1===t.length?s(t[0]):function(t){var e,n,r,i=new _;for(e=0;e<t.length;++e)if(void 0!==(n=t[e])||e in t){if(0!==(r=p(n)).state()){i.become(r),h(t,e+1,r);break}r.visit(i,i.resolve,i.reject)}return new o(g,i)}(t)},o._traverse=function(t,e){return l(R,t,e)},o._visitRemaining=h,g.prototype.when=g.prototype.become=g.prototype.notify=g.prototype.fail=g.prototype._unreport=g.prototype._report=N,g.prototype._state=0,g.prototype.state=function(){return this._state},g.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},g.prototype.chain=function(t,e,n,r,i){this.when({resolver:t,receiver:e,fulfilled:n,rejected:r,progress:i})},g.prototype.visit=function(t,e,n,r){this.chain(y,t,e,n,r)},g.prototype.fold=function(t,e,n,r){this.when(new D(t,e,n,r))},j(g,m),m.prototype.become=function(t){t.fail()};var y=new m;function _(t,e){o.createContext(this,e),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function v(t){this.handler=t}function b(t,e){_.call(this),n.enqueue(new T(t,e,this))}function w(t){o.createContext(this),this.value=t}j(g,_),_.prototype._state=0,_.prototype.resolve=function(t){this.become(p(t))},_.prototype.reject=function(t){this.resolved||this.become(new A(t))},_.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if((t=t.handler)===this)return this.handler=new A(new TypeError("Promise cycle"));return t},_.prototype.run=function(){var t=this.consumers,e=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<t.length;++n)e.when(t[n])},_.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&n.enqueue(this),void 0!==this.context&&t._report(this.context))},_.prototype.when=function(t){this.resolved?n.enqueue(new I(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},_.prototype.notify=function(t){this.resolved||n.enqueue(new P(t,this))},_.prototype.fail=function(t){var e=void 0===t?this.context:t;this.resolved&&this.handler.join().fail(e)},_.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},_.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},j(g,v),v.prototype.when=function(t){n.enqueue(new I(t,this))},v.prototype._report=function(t){this.join()._report(t)},v.prototype._unreport=function(){this.join()._unreport()},j(_,b),j(g,w),w.prototype._state=1,w.prototype.fold=function(t,e,n,r){!function(t,e,n,r,i){if("function"!=typeof t)return i.become(n);o.enterContext(n),function(t,e,n,r,i){try{t.call(r,e,n,i)}catch(t){i.become(new A(t))}}(t,e,n.value,r,i),o.exitContext()}(t,e,this,n,r)},w.prototype.when=function(t){k(t.fulfilled,this,t.receiver,t.resolver)};var E=0;function A(t){o.createContext(this),this.id=++E,this.value=t,this.handled=!1,this.reported=!1,this._report()}function S(t,e){this.rejection=t,this.context=e}function x(t){this.rejection=t}j(g,A),A.prototype._state=-1,A.prototype.fold=function(t,e,n,r){r.become(this)},A.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),k(t.rejected,this,t.receiver,t.resolver)},A.prototype._report=function(t){n.afterQueue(new S(this,t))},A.prototype._unreport=function(){this.handled||(this.handled=!0,n.afterQueue(new x(this)))},A.prototype.fail=function(t){this.reported=!0,r("unhandledRejection",this),o.onFatalRejection(this,void 0===t?this.context:t)},S.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,r("unhandledRejection",this.rejection)||o.onPotentiallyUnhandledRejection(this.rejection,this.context))},x.prototype.run=function(){this.rejection.reported&&(r("rejectionHandled",this.rejection)||o.onPotentiallyUnhandledRejectionHandled(this.rejection))},o.createContext=o.enterContext=o.exitContext=o.onPotentiallyUnhandledRejection=o.onPotentiallyUnhandledRejectionHandled=o.onFatalRejection=N;var C=new o(g,new g);function I(t,e){this.continuation=t,this.handler=e}function P(t,e){this.handler=e,this.value=t}function T(t,e,n){this._then=t,this.thenable=e,this.resolver=n}function D(t,e,n,r){this.f=t,this.z=e,this.c=n,this.to=r,this.resolver=y,this.receiver=this}function O(t){return t instanceof o}function B(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function k(t,e,n,r){if("function"!=typeof t)return r.become(e);o.enterContext(e),function(t,e,n,r){try{r.become(p(t.call(n,e)))}catch(t){r.become(new A(t))}}(t,e.value,n,r),o.exitContext()}function M(t,e,n,r,i){if("function"!=typeof t)return i.notify(e);o.enterContext(n),function(t,e,n,r){try{r.notify(t.call(n,e))}catch(t){r.notify(t)}}(t,e,r,i),o.exitContext()}function R(t,e,n){try{return t(e,n)}catch(t){return a(t)}}function j(t,e){e.prototype=i(t.prototype),e.prototype.constructor=e}function U(t,e){return e}function N(){}return I.prototype.run=function(){this.handler.join().when(this.continuation)},P.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var e,n=0;n<t.length;++n)M((e=t[n]).progress,this.value,this.handler,e.receiver,e.resolver)},T.prototype.run=function(){var t=this.resolver;!function(t,e,n,r,i){try{t.call(e,n,r,i)}catch(t){r(t)}}(this._then,this.thenable,function(e){t.resolve(e)},function(e){t.reject(e)},function(e){t.notify(e)})},D.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},D.prototype.rejected=function(t){this.to.reject(t)},D.prototype.progress=function(t){this.to.notify(t)},o}})}(function(t){n.exports=t()})},{}],25:[function(t,e,n){!function(t){"use strict";t(function(){return{pending:t,fulfilled:n,rejected:e,inspect:function(t){var r=t.state();return 0===r?{state:"pending"}:r>0?n(t.value):e(t.value)}};function t(){return{state:"pending"}}function e(t){return{state:"rejected",reason:t}}function n(t){return{state:"fulfilled",value:t}}})}(function(t){e.exports=t()})},{}],26:[function(t,e,n){!function(t){t(function(t){var e=t("./when"),n=t("./lib/liftAll"),r=t("./lib/env").setTimer,i=Array.prototype.slice,o=t("./lib/apply")(e.Promise,function(t,e,n,r){var i=a(r);try{switch(n.length){case 2:t.call(e,n[0],n[1],i);break;case 1:t.call(e,n[0],i);break;case 0:t.call(e,i);break;default:n.push(i),t.apply(e,n)}}catch(t){r.reject(t)}});return{lift:s,liftAll:function(t,e,r){return n(s,e,r,t)},apply:function(t,e){return o(t,this,e||[])},call:function(t){return o(t,this,i.call(arguments,1))},createCallback:a,bindCallback:c,liftCallback:function(t){return function(e){return c(e,t)}}};function s(t){var e=arguments.length>1?i.call(arguments,1):[];return function(){var n,r=e.length,i=arguments.length,s=new Array(i+r);for(n=0;n<r;++n)s[n]=e[n];for(n=0;n<i;++n)s[n+r]=arguments[n];return o(t,this,s)}}function a(t){return function(e,n){e?t.reject(e):arguments.length>2?t.resolve(i.call(arguments,1)):t.resolve(n)}}function c(t,n){return t=e(t),n&&t.then(function(t){i(null,t)},i),t;function i(t,e){r(function(){n(t,e)},0)}}})}(function(n){e.exports=n(t)})},{"./lib/apply":11,"./lib/env":21,"./lib/liftAll":23,"./when":32}],27:[function(t,e,n){!function(t){t(function(t){var e=t("./when"),n=e.Promise.all,r=Array.prototype.slice;return function(t){return n(r.call(arguments,1)).then(function(n){return e.map(t,function(t){return t.apply(void 0,n)})})}})}(function(n){e.exports=n(t)})},{"./when":32}],28:[function(t,e,n){!function(t){t(function(t){var e=t("./when"),n=e.Promise.all,r=Array.prototype.slice;return function(t){var i=function(t,e){return i=function(t,e){return e(t)},e.apply(null,t)};return n(r.call(arguments,1)).then(function(n){return e.reduce(t,function(t,e){return i(t,e)},n)})}})}(function(n){e.exports=n(t)})},{"./when":32}],29:[function(t,e,n){!function(t){"use strict";t(function(t){var e=t("./when"),n=e.try,r=t("./cancelable");return function(t,i,o,s){var a,c,l;function u(t){n(i).then(h,l),void 0!==t&&a.notify(t)}function h(){c||e(t(),function(t){e(o(t),function(e){return e?function(t){a.resolve(t)}(t):u(t)},function(){u(t)})},l)}return c=!1,a=r(e.defer(),function(){c=!0}),l=a.reject,o=o||function(){return!1},"function"!=typeof i&&(i=function(t){return function(){return e().delay(t)}}(i)),s?u():h(),a.promise=Object.create(a.promise),a.promise.cancel=a.cancel,a.promise}})}(function(n){e.exports=n(t)})},{"./cancelable":3,"./when":32}],30:[function(t,e,n){!function(t){t(function(t){var e=t("./when"),n=e.Promise.all,r=Array.prototype.slice;return function(t){var i=[];return n(r.call(arguments,1)).then(function(n){return e.reduce(t,function(t,r){return e(r.apply(void 0,n),o)},i)});function o(t){return i.push(t),i}}})}(function(n){e.exports=n(t)})},{"./when":32}],31:[function(t,e,n){!function(t){t(function(t){var e=t("./when");return function(t,n){return e(n).timeout(t)}})}(function(n){e.exports=n(t)})},{"./when":32}],32:[function(t,e,n){!function(t){"use strict";t(function(t){var e=t("./lib/decorators/timed"),n=t("./lib/decorators/array"),r=t("./lib/decorators/flow"),i=t("./lib/decorators/fold"),o=t("./lib/decorators/inspect"),s=t("./lib/decorators/iterate"),a=t("./lib/decorators/progress"),c=t("./lib/decorators/with"),l=t("./lib/decorators/unhandledRejection"),u=t("./lib/TimeoutError"),h=[n,r,i,s,a,o,c,e,l].reduce(function(t,e){return e(t)},t("./lib/Promise")),f=t("./lib/apply")(h);function p(t,e,n,r){var i=h.resolve(t);return arguments.length<2?i:i.then(e,n,r)}function d(t){return function(){for(var e=0,n=arguments.length,r=new Array(n);e<n;++e)r[e]=arguments[e];return f(t,this,r)}}function g(t){for(var e=0,n=arguments.length-1,r=new Array(n);e<n;++e)r[e]=arguments[e+1];return f(t,this,r)}return p.promise=function(t){return new h(t)},p.resolve=h.resolve,p.reject=h.reject,p.lift=d,p.try=g,p.attempt=g,p.iterate=h.iterate,p.unfold=h.unfold,p.join=function(){return h.all(arguments)},p.all=function(t){return p(t,h.all)},p.settle=function(t){return p(t,h.settle)},p.any=d(h.any),p.some=d(h.some),p.race=d(h.race),p.map=function(t,e){return p(t,function(t){return h.map(t,e)})},p.filter=function(t,e){return p(t,function(t){return h.filter(t,e)})},p.reduce=d(h.reduce),p.reduceRight=d(h.reduceRight),p.isPromiseLike=function(t){return t&&"function"==typeof t.then},p.Promise=h,p.defer=function(){return new function(){var t=h._defer();function e(e){t._handler.resolve(e)}function n(e){t._handler.reject(e)}function r(e){t._handler.notify(e)}this.promise=t,this.resolve=e,this.reject=n,this.notify=r,this.resolver={resolve:e,reject:n,notify:r}}},p.TimeoutError=u,p})}(function(n){e.exports=n(t)})},{"./lib/Promise":8,"./lib/TimeoutError":10,"./lib/apply":11,"./lib/decorators/array":12,"./lib/decorators/flow":13,"./lib/decorators/fold":14,"./lib/decorators/inspect":15,"./lib/decorators/iterate":16,"./lib/decorators/progress":17,"./lib/decorators/timed":18,"./lib/decorators/unhandledRejection":19,"./lib/decorators/with":20}]},{},[1])(1)},t.exports=r()}).call(e,n(8))},function(t,e,n){(function(t){n(21);var r=n(103),i=n(13),o=n(24);Date.now=Date.now||function(){return+new Date};var s={caller:{features:{caller_identification:!0,progressive_call_results:!0}},callee:{features:{caller_identification:!0,pattern_based_registration:!0,shared_registration:!0,progressive_call_results:!0,registration_revocation:!0}},publisher:{features:{publisher_identification:!0,subscriber_blackwhite_listing:!0,publisher_exclusion:!0}},subscriber:{features:{publisher_identification:!0,pattern_based_subscription:!0,subscription_revocation:!0}}},a=function(t,e,n,r,i){this.procedure=t,this.progress=e,this.caller=n,this.caller_authid=r,this.caller_authrole=i},c=function(t,e,n,r,i,o){this.publication=t,this.topic=e,this.publisher=n,this.publisher_authid=r,this.publisher_authrole=i,this.retained=o},l=function(t,e){this.args=t||[],this.kwargs=e||{}},u=function(t,e,n){this.error=t,this.args=e||[],this.kwargs=n||{}},h=function(t,e,n,r,i){this.topic=t,this.handler=e,this.options=n||{},this.session=r,this.id=i,this.active=!0,this._on_unsubscribe=r._defer(),this._on_unsubscribe.promise.then?this.on_unsubscribe=this._on_unsubscribe.promise:this.on_unsubscribe=this._on_unsubscribe};h.prototype.unsubscribe=function(){return this.session.unsubscribe(this)};var f=function(t,e,n,r,i){this.procedure=t,this.endpoint=e,this.options=n||{},this.session=r,this.id=i,this.active=!0,this._on_unregister=r._defer(),this._on_unregister.promise.then?this.on_unregister=this._on_unregister.promise:this.on_unregister=this._on_unregister};f.prototype.unregister=function(){return this.session.unregister(this)};var p=function(t){this.id=t},d=1,g=2,m=3,y=4,_=5,v=6,b=8,w=16,E=17,A=32,S=33,x=34,C=35,I=36,P=48,T=50,D=64,O=65,B=66,k=67,M=68,R=70,j=function(e,n,o){var d=this;d._socket=e,d._defer=n,d._onchallenge=o,d._id=null,d._realm=null,d._features=null,d._goodbye_sent=!1,d._transport_is_closing=!1,d._publish_reqs={},d._subscribe_reqs={},d._unsubscribe_reqs={},d._call_reqs={},d._register_reqs={},d._unregister_reqs={},d._subscriptions={},d._registrations={},d._invocations={},d._prefixes={},d._caller_disclose_me=!1,d._publisher_disclose_me=!1,d._send_wamp=function(t){i.debug(t),d._socket.send(t)},d._protocol_violation=function(t){i.warn("failing transport due to protocol violation: "+t),d._socket.close(1002,"protocol violation: "+t)},d._MESSAGE_MAP={},d._MESSAGE_MAP[b]={},d._process_SUBSCRIBED=function(t){var e=t[1],n=t[2];if(e in d._subscribe_reqs){var r=d._subscribe_reqs[e],i=r[0],o=r[1],s=r[2],a=r[3];n in d._subscriptions||(d._subscriptions[n]=[]);var c=new h(o,s,a,d,n);d._subscriptions[n].push(c),i.resolve(c),delete d._subscribe_reqs[e]}else d._protocol_violation("SUBSCRIBED received for non-pending request ID "+e)},d._MESSAGE_MAP[S]=d._process_SUBSCRIBED,d._process_SUBSCRIBE_ERROR=function(t){var e=t[2];if(e in d._subscribe_reqs){t[3];var n=new u(t[4],t[5],t[6]);d._subscribe_reqs[e][0].reject(n),delete d._subscribe_reqs[e]}else d._protocol_violation("SUBSCRIBE-ERROR received for non-pending request ID "+e)},d._MESSAGE_MAP[b][A]=d._process_SUBSCRIBE_ERROR,d._process_UNSUBSCRIBED=function(t){var e=t[1];if(e in d._unsubscribe_reqs){var n=d._unsubscribe_reqs[e],r=n[0];if((a=n[1])in d._subscriptions){for(var i=d._subscriptions[a],o=0;o<i.length;++o)i[o].active=!1,i[o].on_unsubscribe.resolve();delete d._subscriptions[a]}r.resolve(!0),delete d._unsubscribe_reqs[e]}else if(0===e){var s=t[2],a=s.subscription,c=s.reason;if(a in d._subscriptions){for(i=d._subscriptions[a],o=0;o<i.length;++o)i[o].active=!1,i[o]._on_unsubscribe.resolve(c);delete d._subscriptions[a]}else d._protocol_violation("non-voluntary UNSUBSCRIBED received for non-existing subscription ID "+a)}else d._protocol_violation("UNSUBSCRIBED received for non-pending request ID "+e)},d._MESSAGE_MAP[C]=d._process_UNSUBSCRIBED,d._process_UNSUBSCRIBE_ERROR=function(t){var e=t[2];if(e in d._unsubscribe_reqs){t[3];var n=new u(t[4],t[5],t[6]),r=d._unsubscribe_reqs[e],i=r[0];r[1];i.reject(n),delete d._unsubscribe_reqs[e]}else d._protocol_violation("UNSUBSCRIBE-ERROR received for non-pending request ID "+e)},d._MESSAGE_MAP[b][x]=d._process_UNSUBSCRIBE_ERROR,d._process_PUBLISHED=function(t){var e=t[1],n=t[2];if(e in d._publish_reqs){var r=d._publish_reqs[e],i=r[0],o=(r[1],new p(n));i.resolve(o),delete d._publish_reqs[e]}else d._protocol_violation("PUBLISHED received for non-pending request ID "+e)},d._MESSAGE_MAP[E]=d._process_PUBLISHED,d._process_PUBLISH_ERROR=function(t){var e=t[2];if(e in d._publish_reqs){t[3];var n=new u(t[4],t[5],t[6]),r=d._publish_reqs[e],i=r[0];r[1];i.reject(n),delete d._publish_reqs[e]}else d._protocol_violation("PUBLISH-ERROR received for non-pending request ID "+e)},d._MESSAGE_MAP[b][w]=d._process_PUBLISH_ERROR,d._process_EVENT=function(t){var e=t[1];if(e in d._subscriptions)for(var n=t[2],r=t[3],o=t[4]||[],s=t[5]||{},a=d._subscriptions[e],l=new c(n,r.topic||a[0]&&a[0].topic,r.publisher,r.publisher_authid,r.publisher_authrole,r.retained||!1),u=0;u<a.length;++u){var h=a[u];try{h.handler(o,s,l,h)}catch(t){i.debug("Exception raised in event handler",t)}}else d._protocol_violation("EVENT received for non-subscribed subscription ID "+e)},d._MESSAGE_MAP[I]=d._process_EVENT,d._process_REGISTERED=function(t){var e=t[1],n=t[2];if(e in d._register_reqs){var r=d._register_reqs[e],i=r[0],o=r[1],s=r[2],a=r[3],c=new f(o,s,a,d,n);d._registrations[n]=c,i.resolve(c),delete d._register_reqs[e]}else d._protocol_violation("REGISTERED received for non-pending request ID "+e)},d._MESSAGE_MAP[O]=d._process_REGISTERED,d._process_REGISTER_ERROR=function(t){var e=t[2];if(e in d._register_reqs){t[3];var n=new u(t[4],t[5],t[6]);d._register_reqs[e][0].reject(n),delete d._register_reqs[e]}else d._protocol_violation("REGISTER-ERROR received for non-pending request ID "+e)},d._MESSAGE_MAP[b][D]=d._process_REGISTER_ERROR,d._process_UNREGISTERED=function(t){var e=t[1];if(e in d._unregister_reqs){var n=d._unregister_reqs[e],r=n[0];(i=n[1]).id in d._registrations&&delete d._registrations[i.id],i.active=!1,r.resolve(),delete d._unregister_reqs[e]}else if(0===e){var i,o=t[2],s=o.registration,a=o.reason;if(s in d._registrations)(i=d._registrations[s]).active=!1,i._on_unregister.resolve(a),delete d._registrations[s];else d._protocol_violation("non-voluntary UNREGISTERED received for non-existing registration ID "+s)}else d._protocol_violation("UNREGISTERED received for non-pending request ID "+e)},d._MESSAGE_MAP[k]=d._process_UNREGISTERED,d._process_UNREGISTER_ERROR=function(t){var e=t[2];if(e in d._unregister_reqs){t[3];var n=new u(t[4],t[5],t[6]),r=d._unregister_reqs[e],i=r[0];r[1];i.reject(n),delete d._unregister_reqs[e]}else d._protocol_violation("UNREGISTER-ERROR received for non-pending request ID "+e)},d._MESSAGE_MAP[b][B]=d._process_UNREGISTER_ERROR,d._process_RESULT=function(t){var e=t[1];if(e in d._call_reqs){var n=t[2],r=t[3]||[],i=t[4]||{},o=null;r.length>1||Object.keys(i).length>0?o=new l(r,i):r.length>0&&(o=r[0]);var s=d._call_reqs[e],a=s[0],c=s[1];n.progress?c&&c.receive_progress&&a.notify(o):(a.resolve(o),delete d._call_reqs[e])}else d._protocol_violation("CALL-RESULT received for non-pending request ID "+e)},d._MESSAGE_MAP[T]=d._process_RESULT,d._process_CALL_ERROR=function(t){var e=t[2];if(e in d._call_reqs){t[3];var n=new u(t[4],t[5],t[6]),r=d._call_reqs[e],i=r[0];r[1];i.reject(n),delete d._call_reqs[e]}else d._protocol_violation("CALL-ERROR received for non-pending request ID "+e)},d._MESSAGE_MAP[b][P]=d._process_CALL_ERROR,d._process_INVOCATION=function(t){var e=t[1],n=t[2],i=t[3];if(n in d._registrations){var o=d._registrations[n],s=t[4]||[],c=t[5]||{},h=null;i.receive_progress&&(h=function(t,n){var r=[R,e,{progress:!0}];t=t||[],n=n||{};var i=Object.keys(n).length;(t.length||i)&&(r.push(t),i&&r.push(n)),d._send_wamp(r)});var f=new a(i.procedure||o.procedure,h,i.caller,i.caller_authid,i.caller_authrole);r.call(o.endpoint,s,c,f).then(function(t){var n=[R,e,{}];if(t instanceof l){var r=Object.keys(t.kwargs).length;(t.args.length||r)&&(n.push(t.args),r&&n.push(t.kwargs))}else n.push([t]);d._send_wamp(n)},function(t){var n=[b,M,e,{}];if(t instanceof u){n.push(t.error);var r=Object.keys(t.kwargs).length;(t.args.length||r)&&(n.push(t.args),r&&n.push(t.kwargs))}else n.push("wamp.error.runtime_error"),n.push([t]);d._send_wamp(n)})}else d._protocol_violation("INVOCATION received for non-registered registration ID "+e)},d._MESSAGE_MAP[M]=d._process_INVOCATION,d._socket.onmessage=function(t){var e=t[0];if(d._id)if(e===v){if(!d._goodbye_sent){var n=[v,{},"wamp.error.goodbye_and_out"];d._send_wamp(n)}d._id=null,d._realm=null,d._features=null;l=t[1],u=t[2];d.onleave&&d.onleave(u,l)}else if(e===b){var o=t[1];o in d._MESSAGE_MAP[b]?d._MESSAGE_MAP[e][o](t):d._protocol_violation("unexpected ERROR message with request_type "+o)}else e in d._MESSAGE_MAP?d._MESSAGE_MAP[e](t):d._protocol_violation("unexpected message type "+e);else if(e===g){d._id=t[1];var a=t[2];if(d._features={},a.roles.broker&&(d._features.subscriber={},d._features.publisher={},a.roles.broker.features)){for(var c in s.publisher.features)d._features.publisher[c]=s.publisher.features[c]&&a.roles.broker.features[c];for(var c in s.subscriber.features)d._features.subscriber[c]=s.subscriber.features[c]&&a.roles.broker.features[c]}if(a.roles.dealer&&(d._features.caller={},d._features.callee={},a.roles.dealer.features)){for(var c in s.caller.features)d._features.caller[c]=s.caller.features[c]&&a.roles.dealer.features[c];for(var c in s.callee.features)d._features.callee[c]=s.callee.features[c]&&a.roles.dealer.features[c]}d.onjoin&&d.onjoin(t[2])}else if(e===m){var l=t[1],u=t[2];d.onleave&&d.onleave(u,l)}else if(e===y)if(d._onchallenge){var h=t[1],f=t[2];r.call(d._onchallenge,d,h,f).then(function(t){var e=[_,t,{}];d._send_wamp(e)},function(t){i.debug("onchallenge() raised:",t);var e=[m,{message:"sorry, I cannot authenticate (onchallenge handler raised an exception)"},"wamp.error.cannot_authenticate"];d._send_wamp(e),d._socket.close(1e3)})}else{i.debug("received WAMP challenge, but no onchallenge() handler set");t=[m,{message:"sorry, I cannot authenticate (no onchallenge handler set)"},"wamp.error.cannot_authenticate"];d._send_wamp(t),d._socket.close(1e3)}else d._protocol_violation("unexpected message type "+e)},"performance"in t&&"now"in performance?d._created=performance.now():d._created=Date.now()};Object.defineProperty(j.prototype,"defer",{get:function(){return this._defer}}),Object.defineProperty(j.prototype,"id",{get:function(){return this._id}}),Object.defineProperty(j.prototype,"realm",{get:function(){return this._realm}}),Object.defineProperty(j.prototype,"isOpen",{get:function(){return null!==this.id}}),Object.defineProperty(j.prototype,"features",{get:function(){return this._features}}),Object.defineProperty(j.prototype,"caller_disclose_me",{get:function(){return this._caller_disclose_me},set:function(t){this._caller_disclose_me=t}}),Object.defineProperty(j.prototype,"publisher_disclose_me",{get:function(){return this._publisher_disclose_me},set:function(t){this._publisher_disclose_me=t}}),Object.defineProperty(j.prototype,"subscriptions",{get:function(){for(var t=Object.keys(this._subscriptions),e=[],n=0;n<t.length;++n)e.push(this._subscriptions[t[n]]);return e}}),Object.defineProperty(j.prototype,"registrations",{get:function(){for(var t=Object.keys(this._registrations),e=[],n=0;n<t.length;++n)e.push(this._registrations[t[n]]);return e}}),j.prototype.log=function(){if("console"in t){var e=null;if(this._id&&this._created){var n=null;n="performance"in t&&"now"in performance?performance.now()-this._created:Date.now()-this._created,e="WAMP session "+this._id+" on '"+this._realm+"' at "+Math.round(1e3*n)/1e3+" ms"}else e="WAMP session";if("group"in console){console.group(e);for(var r=0;r<arguments.length;r+=1)console.log(arguments[r]);console.groupEnd()}else{var i=[e+": "];for(r=0;r<arguments.length;r+=1)i.push(arguments[r]);console.log.apply(console,i)}}},j.prototype.join=function(t,e,n,r){o.assert(!t||"string"==typeof t,"Session.join: <realm> must be a string"),o.assert(!e||Array.isArray(e),"Session.join: <authmethods> must be an array []"),o.assert(!n||"string"==typeof n,"Session.join: <authid> must be a string");if(this.isOpen)throw"session already open";this._goodbye_sent=!1,this._realm=t;var i={};i.roles=s,e&&(i.authmethods=e),n&&(i.authid=n),r&&(i.authextra=r);var a=[d,t,i];this._send_wamp(a)},j.prototype.leave=function(t,e){o.assert(!t||"string"==typeof t,"Session.leave: <reason> must be a string"),o.assert(!e||"string"==typeof e,"Session.leave: <message> must be a string");if(!this.isOpen)throw"session not open";t||(t="wamp.close.normal");var n={};e&&(n.message=e);var r=[v,n,t];this._send_wamp(r),this._goodbye_sent=!0},j.prototype.call=function(t,e,n,r){o.assert("string"==typeof t,"Session.call: <procedure> must be a string"),o.assert(!e||Array.isArray(e),"Session.call: <args> must be an array []"),o.assert(!n||n instanceof Object,"Session.call: <kwargs> must be an object {}"),o.assert(!r||r instanceof Object,"Session.call: <options> must be an object {}");if(!this.isOpen)throw"session not open";void 0===(r=r||{}).disclose_me&&this._caller_disclose_me&&(r.disclose_me=!0);var i=this._defer(),s=this._socket.serializer.newid();this._call_reqs[s]=[i,r];var a=[P,s,r,this.resolve(t)];return e?(a.push(e),n&&a.push(n)):n&&(a.push([]),a.push(n)),this._send_wamp(a),i.promise.then?i.promise:i},j.prototype.publish=function(t,e,n,r){o.assert("string"==typeof t,"Session.publish: <topic> must be a string"),o.assert(!e||Array.isArray(e),"Session.publish: <args> must be an array []"),o.assert(!n||n instanceof Object,"Session.publish: <kwargs> must be an object {}"),o.assert(!r||r instanceof Object,"Session.publish: <options> must be an object {}");if(!this.isOpen)throw"session not open";void 0===(r=r||{}).disclose_me&&this._publisher_disclose_me&&(r.disclose_me=!0);var i=null,s=this._socket.serializer.newid();r.acknowledge&&(i=this._defer(),this._publish_reqs[s]=[i,r]);var a=[w,s,r,this.resolve(t)];if(e?(a.push(e),n&&a.push(n)):n&&(a.push([]),a.push(n)),this._send_wamp(a),i)return i.promise.then?i.promise:i},j.prototype.subscribe=function(t,e,n){o.assert("string"==typeof t,"Session.subscribe: <topic> must be a string"),o.assert("function"==typeof e,"Session.subscribe: <handler> must be a function"),o.assert(!n||n instanceof Object,"Session.subscribe: <options> must be an object {}");if(!this.isOpen)throw"session not open";var r=this._socket.serializer.newid(),i=this._defer();this._subscribe_reqs[r]=[i,t,e,n];var s=[A,r];return n?s.push(n):s.push({}),s.push(this.resolve(t)),this._send_wamp(s),i.promise.then?i.promise:i},j.prototype.register=function(t,e,n){o.assert("string"==typeof t,"Session.register: <procedure> must be a string"),o.assert("function"==typeof e,"Session.register: <endpoint> must be a function"),o.assert(!n||n instanceof Object,"Session.register: <options> must be an object {}");if(!this.isOpen)throw"session not open";var r=this._socket.serializer.newid(),i=this._defer();this._register_reqs[r]=[i,t,e,n];var s=[D,r];return n?s.push(n):s.push({}),s.push(this.resolve(t)),this._send_wamp(s),i.promise.then?i.promise:i},j.prototype.unsubscribe=function(t){o.assert(t instanceof h,"Session.unsubscribe: <subscription> must be an instance of class autobahn.Subscription");if(!this.isOpen)throw"session not open";if(!(t.active&&t.id in this._subscriptions))throw"subscription not active";var e=this._subscriptions[t.id],n=e.indexOf(t);if(-1===n)throw"subscription not active";e.splice(n,1),t.active=!1;var r=this._defer();if(e.length)r.resolve(!1);else{var i=this._socket.serializer.newid();this._unsubscribe_reqs[i]=[r,t.id];var s=[x,i,t.id];this._send_wamp(s)}return r.promise.then?r.promise:r},j.prototype.unregister=function(t){o.assert(t instanceof f,"Session.unregister: <registration> must be an instance of class autobahn.Registration");if(!this.isOpen)throw"session not open";if(!(t.active&&t.id in this._registrations))throw"registration not active";var e=this._socket.serializer.newid(),n=this._defer();this._unregister_reqs[e]=[n,t];var r=[B,e,t.id];return this._send_wamp(r),n.promise.then?n.promise:n},j.prototype.prefix=function(t,e){o.assert("string"==typeof t,"Session.prefix: <prefix> must be a string"),o.assert(!e||"string"==typeof e,"Session.prefix: <uri> must be a string or falsy");e?this._prefixes[t]=e:t in this._prefixes&&delete this._prefixes[t]},j.prototype.resolve=function(t){o.assert("string"==typeof t,"Session.resolve: <curie> must be a string");var e=t.indexOf(":");if(e>=0){var n=t.substring(0,e);return n in this._prefixes?this._prefixes[n]+"."+t.substring(e+1):t}return t},e.Session=j,e.Invocation=a,e.Event=c,e.Result=l,e.Error=u,e.Subscription=h,e.Registration=f,e.Publication=p}).call(e,n(4))},function(t,e,n){var r;n(2),void 0===(r=function(t){var e=n(101),r=e.try,i=n(224),o=n(57)(e.Promise),s=Array.prototype.slice;return{lift:a,liftAll:function(t,e,n){return i(a,e,n,t)},call:r,apply:function(t,e){return o(t,this,null==e?[]:s.call(e))},compose:function(t){var n=s.call(arguments,1);return function(){var i=this,o=s.call(arguments),a=r.apply(i,[t].concat(o));return e.reduce(n,function(t,e){return e.call(i,t)},a)}}};function a(t){var e=arguments.length>1?s.call(arguments,1):[];return function(){return o(t,this,e.concat(s.call(arguments)))}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){(function(t){var r=n(21),i=n(102),o=n(24),s=n(13),a=n(81),c=function(e){this._options=e,e&&e.use_es6_promises?"Promise"in t?this._defer=function(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}:(s.debug("Warning: ES6 promises requested, but not found! Falling back to whenjs."),this._defer=r.defer):e&&e.use_deferred?this._defer=e.use_deferred:this._defer=r.defer,this._options.transports||(this._options.transports=[{type:"websocket",url:this._options.url}]),this._transport_factories=[],this._init_transport_factories(),this._session=null,this._session_close_reason=null,this._session_close_message=null,void 0!==this._options.retry_if_unreachable?this._retry_if_unreachable=this._options.retry_if_unreachable:this._retry_if_unreachable=!0,this._max_retries=void 0!==this._options.max_retries?this._options.max_retries:15,this._initial_retry_delay=this._options.initial_retry_delay||1.5,this._max_retry_delay=this._options.max_retry_delay||300,this._retry_delay_growth=this._options.retry_delay_growth||1.5,this._retry_delay_jitter=this._options.retry_delay_jitter||.1,this._connect_successes=0,this._retry=!1,this._retry_count=0,this._retry_delay=this._initial_retry_delay,this._is_retrying=!1,this._retry_timer=null};c.prototype._create_transport=function(){for(var t=0;t<this._transport_factories.length;++t){var e=this._transport_factories[t];s.debug("trying to create WAMP transport of type: "+e.type);try{var n=e.create();if(n)return s.debug("using WAMP transport type: "+e.type),n}catch(t){s.warn("could not create WAMP transport '"+e.type+"': "+t)}}return s.warn("could not create any WAMP transport"),null},c.prototype._init_transport_factories=function(){var t,e,n;o.assert(this._options.transports,"No transport.factory specified"),this._options.transports;for(var r=0;r<this._options.transports.length;++r){(t=this._options.transports[r]).url||(t.url=this._options.url),t.serializers||(t.serializers=this._options.serializers),t.protocols||(t.protocols=this._options.protocols),o.assert(t.type,"No transport.type specified"),o.assert("string"==typeof t.type,"transport.type must be a string");try{(n=a.transports.get(t.type))&&(e=new n(t),this._transport_factories.push(e))}catch(t){console.error(t)}}},c.prototype._autoreconnect_reset_timer=function(){this._retry_timer&&clearTimeout(this._retry_timer),this._retry_timer=null},c.prototype._autoreconnect_reset=function(){this._autoreconnect_reset_timer(),this._retry_count=0,this._retry_delay=this._initial_retry_delay,this._is_retrying=!1},c.prototype._autoreconnect_advance=function(){var t;return this._retry_delay_jitter&&(this._retry_delay=o.rand_normal(this._retry_delay,this._retry_delay*this._retry_delay_jitter)),this._retry_delay>this._max_retry_delay&&(this._retry_delay=this._max_retry_delay),this._retry_count+=1,t=this._retry&&(-1===this._max_retries||this._retry_count<=this._max_retries)?{count:this._retry_count,delay:this._retry_delay,will_retry:!0}:{count:null,delay:null,will_retry:!1},this._retry_delay_growth&&(this._retry_delay=this._retry_delay*this._retry_delay_growth),t},c.prototype.open=function(){var t=this;if(t._transport)throw"connection already open (or opening)";t._autoreconnect_reset(),t._retry=!0,function e(){try{t._transport=t._create_transport()}catch(t){console.log(t)}t._transport?(t._session=new i.Session(t._transport,t._defer,t._options.onchallenge),t._session_close_reason=null,t._session_close_message=null,t._transport.onopen=function(){t._autoreconnect_reset(),t._connect_successes+=1,t._session.join(t._options.realm,t._options.authmethods,t._options.authid,t._options.authextra)},t._session.onjoin=function(e){if(t.onopen)try{e.transport=t._transport.info,t.onopen(t._session,e)}catch(t){s.debug("Exception raised from app code while firing Connection.onopen()",t)}},t._session.onleave=function(e,n){t._session_close_reason=e,t._session_close_message=n.message||"",t._retry=!1,t._transport.close(1e3)},t._transport.onclose=function(n){t._autoreconnect_reset_timer(),t._transport=null;var r=null;0===t._connect_successes?(r="unreachable",t._retry_if_unreachable||(t._retry=!1)):r=n.wasClean?"closed":"lost";var i=t._autoreconnect_advance();if(t.onclose){var o={reason:t._session_close_reason,message:t._session_close_message,retry_delay:i.delay,retry_count:i.count,will_retry:i.will_retry};try{var a=t.onclose(r,o)}catch(t){s.debug("Exception raised from app code while firing Connection.onclose()",t)}}t._session&&(t._session._id=null,t._session=null,t._session_close_reason=null,t._session_close_message=null),t._retry&&!a&&(i.will_retry?(t._is_retrying=!0,s.debug("retrying in "+i.delay+" s"),t._retry_timer=setTimeout(e,1e3*i.delay)):s.debug("giving up trying to reconnect"))}):(t._retry=!1,t.onclose&&t.onclose("unsupported",{reason:null,message:null,retry_delay:null,retry_count:null,will_retry:!1}))}()},c.prototype.close=function(t,e){if(!this._transport&&!this._is_retrying)throw"connection already closed";this._retry=!1,this._session&&this._session.isOpen?this._session.leave(t,e):this._transport&&this._transport.close(1e3)},Object.defineProperty(c.prototype,"defer",{get:function(){return this._defer}}),Object.defineProperty(c.prototype,"session",{get:function(){return this._session}}),Object.defineProperty(c.prototype,"isOpen",{get:function(){return!(!this._session||!this._session.isOpen)}}),Object.defineProperty(c.prototype,"isConnected",{get:function(){return!!this._transport}}),Object.defineProperty(c.prototype,"transport",{get:function(){return this._transport?this._transport:{info:{type:"none",url:null,protocol:null}}}}),Object.defineProperty(c.prototype,"isRetrying",{get:function(){return this._is_retrying}}),e.Connection=c}).call(e,n(4))},function(t,e,n){var r;r=function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(a[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var l=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],h=n[6],f=n[7],p=0;p<64;p++){if(p<16)l[p]=0|t[e+p];else{var d=l[p-15],g=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,m=l[p-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[p]=g+l[p-7]+y+l[p-16]}var _=r&i^r&o^i&o,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=f+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&h)+c[p]+l[p];f=h,h=u,u=a,a=s+b|0,s=o,o=i,i=r,r=b+(v+_)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+h|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});n.SHA256=o._createHelper(u),n.HmacSHA256=o._createHmacHelper(u)}(Math),t.SHA256},t.exports=r(n(0))},function(t,e,n){var r;r=function(t){return function(){var e=t,n=e.lib.Hasher,r=e.x64,i=r.Word,o=r.WordArray,s=e.algo;function a(){return i.create.apply(i,arguments)}var c=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],l=[];!function(){for(var t=0;t<80;t++)l[t]=a()}();var u=s.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],h=n[6],f=n[7],p=r.high,d=r.low,g=i.high,m=i.low,y=o.high,_=o.low,v=s.high,b=s.low,w=a.high,E=a.low,A=u.high,S=u.low,x=h.high,C=h.low,I=f.high,P=f.low,T=p,D=d,O=g,B=m,k=y,M=_,R=v,j=b,U=w,N=E,L=A,F=S,H=x,z=C,Y=I,G=P,W=0;W<80;W++){var q=l[W];if(W<16)var Q=q.high=0|t[e+2*W],K=q.low=0|t[e+2*W+1];else{var J=l[W-15],Z=J.high,V=J.low,X=(Z>>>1|V<<31)^(Z>>>8|V<<24)^Z>>>7,$=(V>>>1|Z<<31)^(V>>>8|Z<<24)^(V>>>7|Z<<25),tt=l[W-2],et=tt.high,nt=tt.low,rt=(et>>>19|nt<<13)^(et<<3|nt>>>29)^et>>>6,it=(nt>>>19|et<<13)^(nt<<3|et>>>29)^(nt>>>6|et<<26),ot=l[W-7],st=ot.high,at=ot.low,ct=l[W-16],lt=ct.high,ut=ct.low;Q=(Q=(Q=X+st+((K=$+at)>>>0<$>>>0?1:0))+rt+((K=K+it)>>>0<it>>>0?1:0))+lt+((K=K+ut)>>>0<ut>>>0?1:0);q.high=Q,q.low=K}var ht,ft=U&L^~U&H,pt=N&F^~N&z,dt=T&O^T&k^O&k,gt=D&B^D&M^B&M,mt=(T>>>28|D<<4)^(T<<30|D>>>2)^(T<<25|D>>>7),yt=(D>>>28|T<<4)^(D<<30|T>>>2)^(D<<25|T>>>7),_t=(U>>>14|N<<18)^(U>>>18|N<<14)^(U<<23|N>>>9),vt=(N>>>14|U<<18)^(N>>>18|U<<14)^(N<<23|U>>>9),bt=c[W],wt=bt.high,Et=bt.low,At=Y+_t+((ht=G+vt)>>>0<G>>>0?1:0),St=yt+gt;Y=H,G=z,H=L,z=F,L=U,F=N,U=R+(At=(At=(At=At+ft+((ht=ht+pt)>>>0<pt>>>0?1:0))+wt+((ht=ht+Et)>>>0<Et>>>0?1:0))+Q+((ht=ht+K)>>>0<K>>>0?1:0))+((N=j+ht|0)>>>0<j>>>0?1:0)|0,R=k,j=M,k=O,M=B,O=T,B=D,T=At+(mt+dt+(St>>>0<yt>>>0?1:0))+((D=ht+St|0)>>>0<ht>>>0?1:0)|0}d=r.low=d+D,r.high=p+T+(d>>>0<D>>>0?1:0),m=i.low=m+B,i.high=g+O+(m>>>0<B>>>0?1:0),_=o.low=_+M,o.high=y+k+(_>>>0<M>>>0?1:0),b=s.low=b+j,s.high=v+R+(b>>>0<j>>>0?1:0),E=a.low=E+N,a.high=w+U+(E>>>0<N>>>0?1:0),S=u.low=S+F,u.high=A+L+(S>>>0<F>>>0?1:0),C=h.low=C+z,h.high=x+H+(C>>>0<z>>>0?1:0),P=f.low=P+G,f.high=I+Y+(P>>>0<G>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});e.SHA512=n._createHelper(u),e.HmacSHA512=n._createHmacHelper(u)}(),t.SHA512},t.exports=r(n(0),n(46))},,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(127)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(t,e,n,r,i){if(r&&"undefined"!=typeof document){var o=null;(o=document.querySelector('[data-module-id="'+i+'"]')||document.createElement("style")).setAttribute("data-module-id",i),o.id=e,o.textContent=r,document.head.appendChild(o)}var s=e.toLowerCase();function a(t){return t?Object.keys(t).reduce(function(e,n){var r=t[n];return void 0===r||null===r||!1===r?e:(e["data-"+s+"-"+n.toLowerCase()]=r,e)},{}):{}}function c(t){return l[t]}var l=n;function u(t,e,n){t=t?t.split(/\s+/g).map(function(t){return c(t)||t}).join(" "):"";var r=a(e);if(n){for(var i in n)i.match(/^data-/)&&(r[i]=n[i]);n.className&&(t+=" "+n.className)}return t&&(r.className=t),r}return l.$stylesheet={namespace:e,root:t,get:c,cssStates:a},l.$get=c,l.$cssStates=a,Object.setPrototypeOf(u,l),u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(11),o=n(30),s=n(39),a=n(80),c=n(17);function l(t){return t===r.FILE_FULL||t===r.GONE}function u(t){return t===r.DIR_CONTENT||t===r.DIR_DEEP||t===r.DIR_SHALLOW||t===r.GONE}function h(t){return t===r.DIR_CONTENT||t===r.DIR_DEEP||t===r.GONE}function f(t,e){return void 0===e&&(e={}),t&&t.forEach(function(t){s.isDir(t)&&f(t.children,e),e[t.fullPath]=t}),e}function p(t,e){var n={toAdd:[],toDelete:[],toChange:[]};return Object.keys(t).forEach(function(r){var i=t[r],o=e[r];o?s.isFile(i)&&(s.isFile(o)&&void 0===o.content?o.content=i.content:i.content&&n.toChange.push(r)):(n.toDelete.push(i),n.toChange=n.toChange.filter(function(t){return t!==r}))}),Object.keys(e).forEach(function(r){var i=t[r],o=e[r];i||n.toAdd.push(o)}),n}!function(t){t[t.FILE_FULL=0]="FILE_FULL",t[t.DIR_SHALLOW=1]="DIR_SHALLOW",t[t.DIR_DEEP=2]="DIR_DEEP",t[t.DIR_CONTENT=3]="DIR_CONTENT",t[t.STATS=4]="STATS",t[t.GONE=5]="GONE"}(r||(r={}));var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.emitDiffEvents=function(t,e,n){var r=this;t.forEach(function(t){var e=(s.isDir(t)?"directory":"file")+"Deleted";r.events.emit(e,{type:e,fullPath:t.fullPath})}),e.forEach(function(t){if(s.isDir(t))r.events.emit("directoryCreated",{type:"directoryCreated",fullPath:t.fullPath});else{if(!s.isFile(t))throw new Error("unknown node type");void 0!==t.content&&r.events.emit("fileCreated",{type:"fileCreated",fullPath:t.fullPath,newContent:t.content})}}),n.forEach(function(t){return r.loadTextFile(t).then(function(e){r.events.emit("fileChanged",{type:"fileChanged",fullPath:t,newContent:e})})})},e.prototype.replaceChildrenSync=function(t,e){var n=this.getDir(t),r=f(e),i=p(f(n.children),r),o=i.toDelete,a=i.toAdd,c=i.toChange;n.children=n.children.filter(function(t){return!~o.indexOf(t)}),n.children.forEach(function(t){if(s.isFile(t)&&~c.indexOf(t.fullPath)){var e=r[t.fullPath];s.isFile(e)&&void 0!==e.content&&(t.content=e.content)}}),n.children=n.children.concat(a),this.emitDiffEvents(o,a,c)},e.prototype.replaceDirSync=function(t,e){var n=this.getDir(t),r=f(e.children),i=p(f(n.children),r),o=i.toDelete,a=i.toAdd,l=i.toChange,u=c.getPathNodes(t);if(0===u.length)this.root.children=e.children;else{var h=s.Directory.getSubDir(this.root,u.slice(0,u.length-1));if(!h)throw new Error("directory parent missing: "+u.slice(0,u.length-1).join("/"));h.children=h.children.map(function(t){return t.name===e.name?e:t})}this.emitDiffEvents(o,a,l)},e}(a.MemoryFileSystem),g=function(){function t(t,e){void 0===e&&(e={});var n=this;if(this.options=e,this.cache=new d,this.events=this.cache.events,this.pathsInCache={},this.onFsError=function(t){var e=t.stack;n.options.reSyncOnError?n.reSyncOnError():n.emit("unexpectedError",{stack:e})},this.fs=t,void 0===this.options.reSyncOnError&&(this.options.reSyncOnError=!0),this.options.propagateSyncRead&&!o.isFileSystemReadSync(t))throw new Error("propagateSyncRead option set to true but file system is not FileSystemReadSync");this.baseUrl=t.baseUrl,this.fs.events.on("unexpectedError",this.onFsError);var r=function(t){try{n.cacheTextFile(t.fullPath,t.newContent,t.correlation)}catch(t){n.onFsError(t)}};this.fs.events.on("fileCreated",r),this.fs.events.on("fileChanged",r),this.fs.events.on("fileDeleted",function(t){try{n.cacheFileGone(t.fullPath,t.correlation)}catch(t){n.onFsError(t)}}),this.fs.events.on("directoryCreated",function(t){try{n.cacheDirectoryExists(t.fullPath,t.correlation)}catch(t){n.onFsError(t)}}),this.fs.events.on("directoryDeleted",function(t){try{n.cacheDirectoryGone(!0,t.fullPath,t.correlation)}catch(t){n.onFsError(t)}})}return t.prototype.isPropagateSyncRead=function(){return this.options.propagateSyncRead||!1},t.prototype.cacheTextFile=function(t,e,n){this.pathsInCache[t]=r.FILE_FULL,this.cache.saveFileSync(t,e,n)},t.prototype.cacheDirTree=function(t,e){this.pathsInCache[t]=r.DIR_DEEP,this.cache.ensureDirectorySync(t),this.cache.replaceDirSync(t,e)},t.prototype.cacheDirChildren=function(t,e){e.forEach(function(t){s.isDir(t)&&(t.children=[])}),this.pathsInCache[t]=r.DIR_SHALLOW,this.cache.ensureDirectorySync(t),this.cache.replaceChildrenSync(t,e)},t.prototype.cacheStat=function(t,e){this.pathsInCache[t]=r.STATS,"file"===e.type?this.cache.saveFileSync(t,""):"dir"===e.type&&this.cache.ensureDirectorySync(t)},t.prototype.cacheDirectoryGone=function(t,e,n){var i=this;t?Object.keys(this.pathsInCache).forEach(function(t){t.startsWith(e)&&(i.pathsInCache[t]=r.GONE)}):this.pathsInCache[e]=r.GONE,this.cache.deleteDirectorySync(e,t,n)},t.prototype.cacheDirectoryExists=function(t,e){void 0!==this.pathsInCache[t]&&this.pathsInCache[t]!==r.GONE||(this.pathsInCache[t]=r.DIR_DEEP),this.cache.ensureDirectorySync(t,e)},t.prototype.cacheFileGone=function(t,e){this.pathsInCache[t]=r.GONE,this.cache.deleteFileSync(t,e)},t.prototype.saveFile=function(t,e,n){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(r){switch(r.label){case 0:return[4,this.fs.saveFile(t,e,n)];case 1:return n=r.sent(),this.cacheTextFile(t,e,n),[2,n]}})})},t.prototype.deleteFile=function(t,e){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(n){switch(n.label){case 0:return[4,this.fs.deleteFile(t,e)];case 1:return e=n.sent(),this.cacheFileGone(t,e),[2,e]}})})},t.prototype.deleteDirectory=function(t,e,n){return void 0===e&&(e=!1),i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(r){switch(r.label){case 0:return[4,this.fs.deleteDirectory(t,e,n)];case 1:return n=r.sent(),this.cacheDirectoryGone(e,t),[2,n]}})})},t.prototype.ensureDirectory=function(t,e){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(n){switch(n.label){case 0:return[4,this.fs.ensureDirectory(t,e)];case 1:return e=n.sent(),this.cacheDirectoryExists(t,e),[2,e]}})})},t.prototype.loadTextFile=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n;return i.__generator(this,function(r){switch(r.label){case 0:return l(this.pathsInCache[t])?[3,2]:(e=this.cacheTextFile,n=[t],[4,this.fs.loadTextFile(t)]);case 1:e.apply(this,n.concat([r.sent()])),r.label=2;case 2:return[2,this.cache.loadTextFileSync(t)]}})})},t.prototype.loadTextFileSync=function(t){return this.isPropagateSyncRead()&&!l(this.pathsInCache[t])&&this.cacheTextFile(t,this.fs.loadTextFileSync(t)),this.cache.loadTextFileSync(t)},t.prototype.loadDirectoryTree=function(t){return void 0===t&&(t=""),i.__awaiter(this,void 0,void 0,function(){var e,n;return i.__generator(this,function(r){switch(r.label){case 0:return h(this.pathsInCache[t])?[3,2]:(e=this.cacheDirTree,n=[t],[4,this.fs.loadDirectoryTree(t)]);case 1:e.apply(this,n.concat([r.sent()])),r.label=2;case 2:return[2,this.cache.loadDirectoryTreeSync(t)]}})})},t.prototype.loadDirectoryTreeSync=function(t){return void 0===t&&(t=""),this.isPropagateSyncRead()&&!h(this.pathsInCache[t])&&this.cacheDirTree(t,this.fs.loadDirectoryTreeSync(t)),this.cache.loadDirectoryTreeSync(t)},t.prototype.loadDirectoryContentSync=function(t){if(void 0===t&&(t=""),this.isPropagateSyncRead()&&((n=this.pathsInCache[t])!==r.DIR_CONTENT&&n!==r.GONE)){var e=this.fs.loadDirectoryContentSync(t);this.pathsInCache[t]=r.DIR_CONTENT,this.cache.ensureDirectorySync(t),this.cache.replaceDirSync(t,s.Directory.fromContent(e))}var n;return this.cache.loadDirectoryContentSync(t)},t.prototype.loadDirectoryChildren=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n;return i.__generator(this,function(r){switch(r.label){case 0:return u(this.pathsInCache[t])?[3,2]:(e=this.cacheDirChildren,n=[t],[4,this.fs.loadDirectoryChildren(t)]);case 1:e.apply(this,n.concat([r.sent()])),r.label=2;case 2:return[2,this.cache.loadDirectoryChildrenSync(t)]}})})},t.prototype.loadDirectoryChildrenSync=function(t){return this.isPropagateSyncRead()&&!u(this.pathsInCache[t])&&this.cacheDirChildren(t,this.fs.loadDirectoryChildrenSync(t)),this.cache.loadDirectoryChildrenSync(t)},t.prototype.stat=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n;return i.__generator(this,function(r){switch(r.label){case 0:return void 0!==this.pathsInCache[t]?[3,2]:(e=this.cacheStat,n=[t],[4,this.fs.stat(t)]);case 1:e.apply(this,n.concat([r.sent()])),r.label=2;case 2:return[2,this.cache.stat(t)]}})})},t.prototype.statSync=function(t){return this.isPropagateSyncRead()&&void 0===this.pathsInCache[t]&&this.cacheStat(t,this.fs.statSync(t)),this.cache.statSync(t)},t.prototype.dispose=function(){o.isDisposable(this.fs)&&this.fs.dispose()},t.prototype.reSyncOnError=function(){return i.__awaiter(this,void 0,void 0,function(){var t,e=this;return i.__generator(this,function(n){return t=this.pathsInCache,this.pathsInCache={},Object.keys(t).forEach(function(n){t[n]===r.FILE_FULL?(e.loadTextFile(n),e.loadDirectoryChildren(c.splitPathToDirAndFile(n).parentPath)):t[n]===r.DIR_SHALLOW?(e.loadDirectoryChildren(n),e.loadDirectoryChildren(c.splitPathToDirAndFile(n).parentPath)):t[n]===r.DIR_DEEP&&(e.loadDirectoryTree(n),e.loadDirectoryChildren(c.splitPathToDirAndFile(n).parentPath))}),[2]})})},t.prototype.emit=function(t,e){this.events.emit(t,i.__assign({},e,{type:t}))},t}();e.CacheFileSystem=g},function(t,e,n){var r=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(203),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(16);function i(t){return t&&t.$ref===e.functionSchemaRef}function o(t){return t&&!!t.$ref}function s(t){return t&&!!t.$oneOf}function a(t,e){return r.isArray(t)?e&&t.includes(e.type):e&&e.type===t}function c(t,e){e(t),o(t)?i(t)&&t.signatures.forEach(t=>{t.arguments.forEach(t=>c(t,e)),c(t.returns,e)}):s(t)?t.$oneOf.forEach(t=>c(t,e)):a("object",t)?(t.properties&&Object.values(t.properties).forEach(t=>c(t,e)),t.additionalProperties&&c(t,e)):a("array",t)&&t.items&&(r.isArray(t)?t.forEach(t=>c(t,e)):c(t,e))}e.signatureCallSchemaRef="http://rabbit-ts-types.com/signature",e.functionSchemaRef="http://rabbit-ts-types.com/function",e.constructorCallSchemaRef="http://rabbit-ts-types.com/constructor-signature",e.classSchemaRef="http://rabbit-ts-types.com/class",e.JSXSchemaRef="http://rabbit-ts-types.com/jsx",e.isFunctionSchema=i,e.isClassSchema=function(t){return t&&t.$ref===e.classSchemaRef},e.isJSXSchema=function(t){return t&&t.$ref===e.JSXSchemaRef},e.isRefSchema=o,e.isUnionSchema=s,e.isInlineSchema=a,e.walkSchema=c,e.walkModule=function(t,e){t.defaultExport&&c(t.defaultExport,e),Object.values(t.named).forEach(t=>c(t,e))}},function(t,e,n){"use strict";function r(t,e){let n=0;for(let r=0;r<t.line;r++)n=e.indexOf("\n",n)+1;return n+t.character}function i(t,e){const n=e.substr(0,t).split("\n");return{line:n.length-1,character:n[n.length-1].length}}Object.defineProperty(e,"__esModule",{value:!0}),e.lspPosToTs=r,e.tsToLspPos=i;class o{constructor(t,e,n,r){this.fs=t,this.uri=e,this.languageId=n,this.version=r}get lineCount(){return this.getText().split("\n").length}getText(){return this.fs.loadTextFileSync(this.uri)}positionAt(t){return i(t,this.getText())}offsetAt(t){return r(t,this.getText())}}e.TextDocumentImpl=o;e.TextDocumentFactory=class{constructor(t){this.fs=t}create(t,e,n,r){return t.startsWith("file://")&&(t=t.slice(7)),new o(this.fs,t,e,n)}is(t){return t instanceof o}}},,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=ReactDOM},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=t=>void 0;function i(t){return!!t.items}e.noLogger={error:r,info:r,log:r,warn:r},e.UnknownLang="plain-text",e.isCompletionList=i,e.getCompletionArray=function(t){return t?i(t)?t.items:t:[]};e.ReferenceCollection=class{constructor(){this.references=Object.create(null)}acquire(t){let e=this.references[t];e||(e=this.references[t]={counter:0,object:this.createReferencedObject(t)});const{object:n}=e;let r=!1;return e.counter++,{object:n,dispose:()=>{r||(r=!0,0==--e.counter&&(this.destroyReferencedObject(e.object),delete this.references[t]))}}}dispose(){Object.keys(this.references).forEach(t=>this.destroyReferencedObject(this.references[t].object))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11);r.__exportStar(n(30),e),r.__exportStar(n(39),e),r.__exportStar(n(157),e),r.__exportStar(n(158),e);var i=n(80);e.MemoryFileSystem=i.MemoryFileSystem;var o=n(128);e.CacheFileSystem=o.CacheFileSystem;var s=n(159);e.WampClientFileSystem=s.WampClientFileSystem;var a=n(257);e.TimeoutFileSystem=a.TimeoutFileSystem;var c=n(258);e.NoFeedbackEventsFileSystem=c.NoFeedbackEventsFileSystem,e.NoFeedbackEventsFileSystemSync=c.NoFeedbackEventsFileSystemSync},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wampRealmPrefix="com.kissfs.",e.wampRealm=e.wampRealmPrefix+"driver"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=n(17);e.checkExistsSync=function(t,e,n){var r=i.splitPathToDirAndFile(n),o=r.name,s=r.parentPath;try{var a=e.loadDirectoryChildrenSync(s);return i.checkExistsInDir(t,a,o)}catch(t){return!1}},e.checkExists=function(t,e,n){return r.__awaiter(this,void 0,void 0,function(){var o,s,a,c;return r.__generator(this,function(r){switch(r.label){case 0:o=i.splitPathToDirAndFile(n),s=o.name,a=o.parentPath,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.loadDirectoryChildren(a)];case 2:return c=r.sent(),[2,i.checkExistsInDir(t,c,s)];case 3:return r.sent(),[2,!1];case 4:return[2]}})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=n(160),o=n(30),s=n(17),a=n(70);e.noConnectionError="WampClientFileSystem hasn't opened connection yet (forgot to init()?).";var c=function(){function t(t,e,n){void 0===n&&(n=5e3),this.baseUrl=t,this.realm=e,this.initTimeout=n,this.events=s.makeEventsEmitter(),this.realm=e,this.connection=new i.Connection({url:t,realm:e})}return t.prototype.init=function(){var t=this,e=this.baseUrl,n=this.initTimeout,r=this.connection;return a.timeoutPromise(new Promise(function(e){r.open(),r.onopen=function(n){t.session=n,t.realmPrefix=t.realm.replace(/(.*\..*)(\..*)$/,"$1."),o.fileSystemEventNames.forEach(function(e){n.subscribe(t.realmPrefix+e,function(n){return t.events.emit(e,n&&n[0])})}),e(t)}}),n,"Cant't open connection to the WAMP server at "+e+" for "+n+"ms.")},t.prototype.saveFile=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:if(!this.session||!this.session.isOpen)throw new Error(e.noConnectionError);r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.session.call(this.realmPrefix+"saveFile",t)];case 2:return[2,r.sent()];case 3:throw n=r.sent(),new Error(n.args[0]);case 4:return[2]}})})},t.prototype.deleteFile=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:if(!this.session||!this.session.isOpen)throw new Error(e.noConnectionError);r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.session.call(this.realmPrefix+"deleteFile",t)];case 2:return[2,r.sent()];case 3:throw n=r.sent(),new Error(n.args[0]);case 4:return[2]}})})},t.prototype.deleteDirectory=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:if(!this.session||!this.session.isOpen)throw new Error(e.noConnectionError);r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.session.call(this.realmPrefix+"deleteDirectory",t)];case 2:return[2,r.sent()];case 3:throw n=r.sent(),new Error(n.args[0]);case 4:return[2]}})})},t.prototype.ensureDirectory=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:if(!this.session||!this.session.isOpen)throw new Error(e.noConnectionError);r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.session.call(this.realmPrefix+"ensureDirectory",t)];case 2:return[2,r.sent()];case 3:throw n=r.sent(),new Error(n.args[0]);case 4:return[2]}})})},t.prototype.loadTextFile=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:if(!this.session||!this.session.isOpen)throw new Error(e.noConnectionError);r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.session.call(this.realmPrefix+"loadTextFile",t)];case 2:return[2,r.sent()];case 3:throw n=r.sent(),new Error(n.args[0]);case 4:return[2]}})})},t.prototype.loadDirectoryTree=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:if(!this.session||!this.session.isOpen)throw new Error(e.noConnectionError);r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.session.call(this.realmPrefix+"loadDirectoryTree",t)];case 2:return[2,r.sent()];case 3:throw n=r.sent(),new Error(n.args[0]);case 4:return[2]}})})},t.prototype.loadDirectoryChildren=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:if(!this.session||!this.session.isOpen)throw new Error(e.noConnectionError);r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.session.call(this.realmPrefix+"loadDirectoryChildren",t)];case 2:return[2,r.sent()];case 3:throw n=r.sent(),new Error(n.args[0]);case 4:return[2]}})})},t.prototype.stat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:if(!this.session||!this.session.isOpen)throw new Error(e.noConnectionError);r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.session.call(this.realmPrefix+"stat",t)];case 2:return[2,r.sent()];case 3:throw n=r.sent(),new Error(n.args[0]);case 4:return[2]}})})},t.prototype.dispose=function(){this.connection&&this.connection.close()},t}();e.WampClientFileSystem=c},function(t,e,n){t.exports=n(81)},function(t,e,n){n(162),n(163),n(164),n(165),n(166),n(167),n(168)},function(t,e){Object.create||(Object.create=function(){function t(){}return function(e){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return t.prototype=e,new t}}()),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,s,a=[];for(o in i)t.call(i,o)&&a.push(o);if(e)for(s=0;s<r;s++)t.call(i,n[s])&&a.push(n[s]);return a}}())},function(t,e){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t){"use strict";var e,n,r,i;if(null===this||void 0===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");if(e=(n=Object(this)).length>>>0,i=0,arguments.length>=2)r=arguments[1];else{for(;i<e&&!i in n;)i++;if(i>=e)throw new TypeError("Reduce of empty array with no initial value");r=n[i++]}for(;i<e;i++)i in n&&(r=t(r,n[i],i,n));return r}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,e){void 0===e&&(e=0),e<0&&(e+=this.length),e<0&&(e=0);for(var n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1}),"lastIndexOf"in Array.prototype||(Array.prototype.lastIndexOf=function(t,e){for(void 0===e&&(e=this.length-1),e<0&&(e+=this.length),e>this.length-1&&(e=this.length-1),e++;e-- >0;)if(e in this&&this[e]===t)return e;return-1}),"forEach"in Array.prototype||(Array.prototype.forEach=function(t,e){for(var n=0,r=this.length;n<r;n++)n in this&&t.call(e,this[n],n,this)}),"map"in Array.prototype||(Array.prototype.map=function(t,e){for(var n=new Array(this.length),r=0,i=this.length;r<i;r++)r in this&&(n[r]=t.call(e,this[r],r,this));return n}),"filter"in Array.prototype||(Array.prototype.filter=function(t,e){for(var n,r=[],i=0,o=this.length;i<o;i++)i in this&&t.call(e,n=this[i],i,this)&&r.push(n);return r}),"every"in Array.prototype||(Array.prototype.every=function(t,e){for(var n=0,r=this.length;n<r;n++)if(n in this&&!t.call(e,this[n],n,this))return!1;return!0}),"some"in Array.prototype||(Array.prototype.some=function(t,e){for(var n=0,r=this.length;n<r;n++)if(n in this&&t.call(e,this[n],n,this))return!0;return!1}),"function"!=typeof Array.prototype.reduceRight&&(Array.prototype.reduceRight=function(t){"use strict";if(null===this||void 0===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var e,n=Object(this),r=(n.length>>>0)-1;if(arguments.length>=2)e=arguments[1];else{for(;r>=0&&!r in n;)r--;if(r<0)throw new TypeError("Reduce of empty array with no initial value");e=n[r--]}for(;r>=0;r--)r in n&&(e=t(e,n[r],r,n));return e})},function(t,e){"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")})},function(t,e){Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(t,Array.prototype.concat.apply(n,arguments))}})},function(t,e){!function(t){var e;t||(t=window.console={log:function(t,e,n,r,i){},info:function(t,e,n,r,i){},warn:function(t,e,n,r,i){},error:function(t,e,n,r,i){},assert:function(t,e){}}),"object"==typeof t.log&&(t.log=Function.prototype.call.bind(t.log,t),t.info=Function.prototype.call.bind(t.info,t),t.warn=Function.prototype.call.bind(t.warn,t),t.error=Function.prototype.call.bind(t.error,t),t.debug=Function.prototype.call.bind(t.info,t)),"group"in t||(t.group=function(e){t.info("\n--- "+e+" ---\n")}),"groupEnd"in t||(t.groupEnd=function(){t.log("\n")}),"assert"in t||(t.assert=function(t,e){if(!t)try{throw new Error("assertion failed: "+e)}catch(t){setTimeout(function(){throw t},0)}}),"time"in t||(e={},t.time=function(t){e[t]=(new Date).getTime()},t.timeEnd=function(n){var r=(new Date).getTime(),i=n in e?r-e[n]:0;t.info(n+": "+i+"ms")})}("undefined"!=typeof console?console:void 0)},function(t,e){"undefined"==typeof Uint8Array&&function(t,e){"use strict";var n=void 0,r=1e5;function i(t){switch(typeof t){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===t?"null":"object"}}function o(t){return Object.prototype.toString.call(t).replace(/^\[object *|\]$/g,"")}function s(t){return"function"==typeof t}function a(t){if(null===t||t===n)throw TypeError();return Object(t)}function c(t){return t>>0}function l(t){return t>>>0}var u,h,f=Math.LN2,p=Math.abs,d=Math.floor,g=Math.log,m=Math.max,y=Math.min,_=Math.pow,v=Math.round;function b(t,e){var n=32-e;return t<<n>>n}function w(t,e){var n=32-e;return t<<n>>>n}function E(t){return[255&t]}function A(t){return b(t[0],8)}function S(t){return[255&t]}function x(t){return w(t[0],8)}function C(t){return[(t=v(Number(t)))<0?0:t>255?255:255&t]}function I(t){return[t>>8&255,255&t]}function P(t){return b(t[0]<<8|t[1],16)}function T(t){return[t>>8&255,255&t]}function D(t){return w(t[0]<<8|t[1],16)}function O(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function B(t){return b(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function k(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function M(t){return w(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function R(t,e,n){var r,i,o,s,a,c,l,u=(1<<e-1)-1;function h(t){var e=d(t),n=t-e;return n<.5?e:n>.5?e+1:e%2?e+1:e}for(t!=t?(i=(1<<e)-1,o=_(2,n-1),r=0):t===1/0||t===-1/0?(i=(1<<e)-1,o=0,r=t<0?1:0):0===t?(i=0,o=0,r=1/t==-1/0?1:0):(r=t<0,(t=p(t))>=_(2,1-u)?(i=y(d(g(t)/f),1023),(o=h(t/_(2,i)*_(2,n)))/_(2,n)>=2&&(i+=1,o=1),i>u?(i=(1<<e)-1,o=0):(i+=u,o-=_(2,n))):(i=0,o=h(t/_(2,1-u-n)))),a=[],s=n;s;s-=1)a.push(o%2?1:0),o=d(o/2);for(s=e;s;s-=1)a.push(i%2?1:0),i=d(i/2);for(a.push(r?1:0),a.reverse(),c=a.join(""),l=[];c.length;)l.push(parseInt(c.substring(0,8),2)),c=c.substring(8);return l}function j(t,e,n){var r,i,o,s,a,c,l,u,h=[];for(r=t.length;r;r-=1)for(o=t[r-1],i=8;i;i-=1)h.push(o%2?1:0),o>>=1;return h.reverse(),s=h.join(""),a=(1<<e-1)-1,c=parseInt(s.substring(0,1),2)?-1:1,l=parseInt(s.substring(1,1+e),2),u=parseInt(s.substring(1+e),2),l===(1<<e)-1?0!==u?NaN:c*(1/0):l>0?c*_(2,l-a)*(1+u/_(2,n)):0!==u?c*_(2,-(a-1))*(u/_(2,n)):c<0?-0:0}function U(t){return j(t,11,52)}function N(t){return R(t,11,52)}function L(t){return j(t,8,23)}function F(t){return R(t,8,23)}u=Object.defineProperty,h=!function(){try{return Object.defineProperty({},"x",{})}catch(t){return!1}}(),u&&!h||(Object.defineProperty=function(t,e,n){if(u)try{return u(t,e,n)}catch(t){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in n&&Object.prototype.__defineGetter__.call(t,e,n.get),Object.prototype.__defineSetter__&&"set"in n&&Object.prototype.__defineSetter__.call(t,e,n.set),"value"in n&&(t[e]=n.value),t}),function(){function u(t){if((t=c(t))<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"_bytes",{value:Array(t)});for(var e=0;e<t;e+=1)this._bytes[e]=0}function h(){if(!arguments.length||"object"!=typeof arguments[0])return function(t){if((t=c(t))<0)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:t}),Object.defineProperty(this,"byteLength",{value:t*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new u(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&"object"===i(arguments[0])&&arguments[0]instanceof h)return function(t){if(this.constructor!==t.constructor)throw TypeError();var e=t.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new u(e)}),Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:t.length});for(var n=0;n<this.length;n+=1)this._setter(n,t._getter(n))}.apply(this,arguments);if(arguments.length>=1&&"object"===i(arguments[0])&&!(arguments[0]instanceof h)&&!(arguments[0]instanceof u||"ArrayBuffer"===o(arguments[0])))return function(t){var e=t.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new u(e)}),Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:t.length});for(var n=0;n<this.length;n+=1){var r=t[n];this._setter(n,Number(r))}}.apply(this,arguments);if(arguments.length>=1&&"object"===i(arguments[0])&&(arguments[0]instanceof u||"ArrayBuffer"===o(arguments[0])))return function(t,e,r){if((e=l(e))>t.byteLength)throw RangeError("byteOffset out of range");if(e%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(r===n){var i=t.byteLength-e;if(i%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");r=i/this.BYTES_PER_ELEMENT}else i=(r=l(r))*this.BYTES_PER_ELEMENT;if(e+i>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:i}),Object.defineProperty(this,"byteOffset",{value:e}),Object.defineProperty(this,"length",{value:r})}.apply(this,arguments);throw TypeError()}t.ArrayBuffer=t.ArrayBuffer||u,Object.defineProperty(h,"from",{value:function(t){return new this(t)}}),Object.defineProperty(h,"of",{value:function(){return new this(arguments)}});var f={};function g(t,e,n){var i=function(){Object.defineProperty(this,"constructor",{value:i}),h.apply(this,arguments),function(t){if(t.length>r)throw RangeError("Array too large for polyfill");function e(e){Object.defineProperty(t,e,{get:function(){return t._getter(e)},set:function(n){t._setter(e,n)},enumerable:!0,configurable:!1})}var n;for(n=0;n<t.length;n+=1)e(n)}(this)};"__proto__"in i?i.__proto__=h:(i.from=h.from,i.of=h.of),i.BYTES_PER_ELEMENT=t;var o=function(){};return o.prototype=f,i.prototype=new o,Object.defineProperty(i.prototype,"BYTES_PER_ELEMENT",{value:t}),Object.defineProperty(i.prototype,"_pack",{value:e}),Object.defineProperty(i.prototype,"_unpack",{value:n}),i}h.prototype=f,Object.defineProperty(h.prototype,"_getter",{value:function(t){if(arguments.length<1)throw SyntaxError("Not enough arguments");if((t=l(t))>=this.length)return n;var e,r,i=[];for(e=0,r=this.byteOffset+t*this.BYTES_PER_ELEMENT;e<this.BYTES_PER_ELEMENT;e+=1,r+=1)i.push(this.buffer._bytes[r]);return this._unpack(i)}}),Object.defineProperty(h.prototype,"get",{value:h.prototype._getter}),Object.defineProperty(h.prototype,"_setter",{value:function(t,e){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(!((t=l(t))>=this.length)){var n,r,i=this._pack(e);for(n=0,r=this.byteOffset+t*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=i[n]}}}),Object.defineProperty(h.prototype,"constructor",{value:h}),Object.defineProperty(h.prototype,"copyWithin",{value:function(t,e){var r=arguments[2],i=a(this),o=l(i.length);o=m(o,0);var s,u=c(t);s=u<0?m(o+u,0):y(u,o);var h,f,p,d=c(e);h=d<0?m(o+d,0):y(d,o),p=(f=r===n?o:c(r))<0?m(o+f,0):y(f,o);var g,_=y(p-h,o-s);for(from<s&&s<h+_?(g=-1,h=h+_-1,s=s+_-1):g=1;count>0;)i._setter(s,i._getter(h)),h+=g,s+=g,_-=1;return i}}),Object.defineProperty(h.prototype,"every",{value:function(t){if(this===n||null===this)throw TypeError();var e=Object(this),r=l(e.length);if(!s(t))throw TypeError();for(var i=arguments[1],o=0;o<r;o++)if(!t.call(i,e._getter(o),o,e))return!1;return!0}}),Object.defineProperty(h.prototype,"fill",{value:function(t){var e=arguments[1],r=arguments[2],i=a(this),o=l(i.length);o=m(o,0);var s,u,h,f=c(e);for(s=f<0?m(o+f,0):y(f,o),h=(u=r===n?o:c(r))<0?m(o+u,0):y(u,o);s<h;)i._setter(s,t),s+=1;return i}}),Object.defineProperty(h.prototype,"filter",{value:function(t){if(this===n||null===this)throw TypeError();var e=Object(this),r=l(e.length);if(!s(t))throw TypeError();for(var i=[],o=arguments[1],a=0;a<r;a++){var c=e._getter(a);t.call(o,c,a,e)&&i.push(c)}return new this.constructor(i)}}),Object.defineProperty(h.prototype,"find",{value:function(t){var e=a(this),r=l(e.length);if(!s(t))throw TypeError();for(var i=arguments.length>1?arguments[1]:n,o=0;o<r;){var c=e._getter(o),u=t.call(i,c,o,e);if(Boolean(u))return c;++o}return n}}),Object.defineProperty(h.prototype,"findIndex",{value:function(t){var e=a(this),r=l(e.length);if(!s(t))throw TypeError();for(var i=arguments.length>1?arguments[1]:n,o=0;o<r;){var c=e._getter(o),u=t.call(i,c,o,e);if(Boolean(u))return o;++o}return-1}}),Object.defineProperty(h.prototype,"forEach",{value:function(t){if(this===n||null===this)throw TypeError();var e=Object(this),r=l(e.length);if(!s(t))throw TypeError();for(var i=arguments[1],o=0;o<r;o++)t.call(i,e._getter(o),o,e)}}),Object.defineProperty(h.prototype,"indexOf",{value:function(t){if(this===n||null===this)throw TypeError();var e=Object(this),r=l(e.length);if(0===r)return-1;var i,o=0;if(arguments.length>0&&((i=Number(arguments[1]))!==o?o=0:0!==i&&i!==1/0&&i!==-1/0&&(o=(i>0||-1)*d(p(i)))),o>=r)return-1;for(var s=o>=0?o:m(r-p(o),0);s<r;s++)if(e._getter(s)===t)return s;return-1}}),Object.defineProperty(h.prototype,"join",{value:function(t){if(this===n||null===this)throw TypeError();for(var e=Object(this),r=l(e.length),i=Array(r),o=0;o<r;++o)i[o]=e._getter(o);return i.join(t===n?",":t)}}),Object.defineProperty(h.prototype,"lastIndexOf",{value:function(t){if(this===n||null===this)throw TypeError();var e=Object(this),r=l(e.length);if(0===r)return-1;var i=r;arguments.length>1&&((i=Number(arguments[1]))!=i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(i>0||-1)*d(p(i))));for(var o=i>=0?y(i,r-1):r-p(i);o>=0;o--)if(e._getter(o)===t)return o;return-1}}),Object.defineProperty(h.prototype,"map",{value:function(t){if(this===n||null===this)throw TypeError();var e=Object(this),r=l(e.length);if(!s(t))throw TypeError();var i=[];i.length=r;for(var o=arguments[1],a=0;a<r;a++)i[a]=t.call(o,e._getter(a),a,e);return new this.constructor(i)}}),Object.defineProperty(h.prototype,"reduce",{value:function(t){if(this===n||null===this)throw TypeError();var e=Object(this),r=l(e.length);if(!s(t))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var i,o=0;for(i=arguments.length>=2?arguments[1]:e._getter(o++);o<r;)i=t.call(n,i,e._getter(o),o,e),o++;return i}}),Object.defineProperty(h.prototype,"reduceRight",{value:function(t){if(this===n||null===this)throw TypeError();var e=Object(this),r=l(e.length);if(!s(t))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var i,o=r-1;for(i=arguments.length>=2?arguments[1]:e._getter(o--);o>=0;)i=t.call(n,i,e._getter(o),o,e),o--;return i}}),Object.defineProperty(h.prototype,"reverse",{value:function(){if(this===n||null===this)throw TypeError();for(var t=Object(this),e=l(t.length),r=d(e/2),i=0,o=e-1;i<r;++i,--o){var s=t._getter(i);t._setter(i,t._getter(o)),t._setter(o,s)}return t}}),Object.defineProperty(h.prototype,"set",{value:function(t,e){if(arguments.length<1)throw SyntaxError("Not enough arguments");var n,r,i,o,s,a,c,u,h,f;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(n=arguments[0],(i=l(arguments[1]))+n.length>this.length)throw RangeError("Offset plus length of array is out of range");if(u=this.byteOffset+i*this.BYTES_PER_ELEMENT,h=n.length*this.BYTES_PER_ELEMENT,n.buffer===this.buffer){for(f=[],s=0,a=n.byteOffset;s<h;s+=1,a+=1)f[s]=n.buffer._bytes[a];for(s=0,c=u;s<h;s+=1,c+=1)this.buffer._bytes[c]=f[s]}else for(s=0,a=n.byteOffset,c=u;s<h;s+=1,a+=1,c+=1)this.buffer._bytes[c]=n.buffer._bytes[a]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw TypeError("Unexpected argument type(s)");if(o=l((r=arguments[0]).length),(i=l(arguments[1]))+o>this.length)throw RangeError("Offset plus length of array is out of range");for(s=0;s<o;s+=1)a=r[s],this._setter(i+s,Number(a))}}}),Object.defineProperty(h.prototype,"slice",{value:function(t,e){for(var r=a(this),i=l(r.length),o=c(t),s=o<0?m(i+o,0):y(o,i),u=e===n?i:c(e),h=u<0?m(i+u,0):y(u,i),f=h-s,p=new(0,r.constructor)(f),d=0;s<h;){var g=r._getter(s);p._setter(d,g),++s,++d}return p}}),Object.defineProperty(h.prototype,"some",{value:function(t){if(this===n||null===this)throw TypeError();var e=Object(this),r=l(e.length);if(!s(t))throw TypeError();for(var i=arguments[1],o=0;o<r;o++)if(t.call(i,e._getter(o),o,e))return!0;return!1}}),Object.defineProperty(h.prototype,"sort",{value:function(t){if(this===n||null===this)throw TypeError();for(var e=Object(this),r=l(e.length),i=Array(r),o=0;o<r;++o)i[o]=e._getter(o);for(t?i.sort(t):i.sort(),o=0;o<r;++o)e._setter(o,i[o]);return e}}),Object.defineProperty(h.prototype,"subarray",{value:function(t,e){function n(t,e,n){return t<e?e:t>n?n:t}t=c(t),e=c(e),arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t=n(t,0,this.length);var r=(e=n(e,0,this.length))-t;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,r)}});var _=g(1,E,A),v=g(1,S,x),b=g(1,C,x),w=g(2,I,P),R=g(2,T,D),j=g(4,O,B),H=g(4,k,M),z=g(4,F,L),Y=g(8,N,U);t.Int8Array=e.Int8Array=t.Int8Array||_,t.Uint8Array=e.Uint8Array=t.Uint8Array||v,t.Uint8ClampedArray=e.Uint8ClampedArray=t.Uint8ClampedArray||b,t.Int16Array=e.Int16Array=t.Int16Array||w,t.Uint16Array=e.Uint16Array=t.Uint16Array||R,t.Int32Array=e.Int32Array=t.Int32Array||j,t.Uint32Array=e.Uint32Array=t.Uint32Array||H,t.Float32Array=e.Float32Array=t.Float32Array||z,t.Float64Array=e.Float64Array=t.Float64Array||Y}(),function(){function e(t,e){return s(t.get)?t.get(e):t[e]}var r,i=(r=new t.Uint16Array([4660]),18===e(new t.Uint8Array(r.buffer),0));function a(t,e,r){if(!(t instanceof ArrayBuffer||"ArrayBuffer"===o(t)))throw TypeError();if((e=l(e))>t.byteLength)throw RangeError("byteOffset out of range");if(e+(r=r===n?t.byteLength-e:l(r))>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:r}),Object.defineProperty(this,"byteOffset",{value:e})}function c(n){return function(r,o){if((r=l(r))+n.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");r+=this.byteOffset;for(var s=new t.Uint8Array(this.buffer,r,n.BYTES_PER_ELEMENT),a=[],c=0;c<n.BYTES_PER_ELEMENT;c+=1)a.push(e(s,c));return Boolean(o)===Boolean(i)&&a.reverse(),e(new n(new t.Uint8Array(a).buffer),0)}}function u(n){return function(r,o,s){if((r=l(r))+n.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var a,c=new n([o]),u=new t.Uint8Array(c.buffer),h=[];for(a=0;a<n.BYTES_PER_ELEMENT;a+=1)h.push(e(u,a));Boolean(s)===Boolean(i)&&h.reverse(),new Uint8Array(this.buffer,r,n.BYTES_PER_ELEMENT).set(h)}}Object.defineProperty(a.prototype,"getUint8",{value:c(t.Uint8Array)}),Object.defineProperty(a.prototype,"getInt8",{value:c(t.Int8Array)}),Object.defineProperty(a.prototype,"getUint16",{value:c(t.Uint16Array)}),Object.defineProperty(a.prototype,"getInt16",{value:c(t.Int16Array)}),Object.defineProperty(a.prototype,"getUint32",{value:c(t.Uint32Array)}),Object.defineProperty(a.prototype,"getInt32",{value:c(t.Int32Array)}),Object.defineProperty(a.prototype,"getFloat32",{value:c(t.Float32Array)}),Object.defineProperty(a.prototype,"getFloat64",{value:c(t.Float64Array)}),Object.defineProperty(a.prototype,"setUint8",{value:u(t.Uint8Array)}),Object.defineProperty(a.prototype,"setInt8",{value:u(t.Int8Array)}),Object.defineProperty(a.prototype,"setUint16",{value:u(t.Uint16Array)}),Object.defineProperty(a.prototype,"setInt16",{value:u(t.Int16Array)}),Object.defineProperty(a.prototype,"setUint32",{value:u(t.Uint32Array)}),Object.defineProperty(a.prototype,"setInt32",{value:u(t.Int32Array)}),Object.defineProperty(a.prototype,"setFloat32",{value:u(t.Float32Array)}),Object.defineProperty(a.prototype,"setFloat64",{value:u(t.Float64Array)}),t.DataView=t.DataView||a}()}(e,window),"undefined"!=typeof window&&("Uint8ClampedArray"in window||(window.Uint8ClampedArray=window.Uint8Array))},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}var cx,escapable,gap,indent,meta,rep;function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,i,o,s,a=gap,c=e[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;n<o;n+=1)s[n]=str(n,c)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],c))&&s.push(quote(r)+(gap?": ":":")+i);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(i=str(r,c))&&s.push(quote(r)+(gap?": ":":")+i);return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(t,e){var n,r,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(t,e,i)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),exports.JSON=JSON},function(t,e){t.exports={name:"autobahn",version:"17.5.2",description:"An implementation of The Web Application Messaging Protocol (WAMP).",main:"index.js",scripts:{test:"nodeunit test/test.js"},engines:{node:">= 4.2.6"},dependencies:{"crypto-js":">= 3.1.8","int64-buffer":">= 0.1.9","msgpack-lite":">= 0.1.26",cbor:">= 3.0.0",tweetnacl:">= 0.14.3",when:">= 3.7.7",ws:">= 1.1.4"},optionalDependencies:{bufferutil:">= 1.2.1","utf-8-validate":">= 1.2.1"},devDependencies:{browserify:">= 13.1.1","deep-equal":">= 1.0.1","google-closure-compiler":"^20170218.0.0",nodeunit:">= 0.10.2"},browser:{ws:!1,"lib/transport/rawsocket.js":!1},repository:{type:"git",url:"git://github.com/crossbario/autobahn-js.git"},keywords:["WAMP","WebSocket","RPC","PubSub"],author:"Crossbar.io Technologies GmbH",license:"MIT"}},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(t){var e=n(41),r=n(82);function i(t,n,r,i){return e.setTimer(function(){t(r,i,n)},n)}return function(t){function n(t,e,n){i(o,t,e,n)}function o(t,e){e.resolve(t)}function s(t,e,n){var i=void 0===t?new r("timed out after "+n+"ms"):t;e.reject(i)}return t.prototype.delay=function(t){var e=this._beget();return this._handler.fold(n,t,void 0,e._handler),e},t.prototype.timeout=function(t,n){var r=this._beget(),o=r._handler,a=i(s,t,n,r._handler);return this._handler.visit(o,function(t){e.clearTimer(a),this.resolve(t)},function(t){e.clearTimer(a),this.reject(t)},o.notify),r},t}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e){},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(t){var e=n(83),r=n(57);return function(t){var n=r(t),i=t.resolve,o=t.all,s=Array.prototype.reduce,a=Array.prototype.reduceRight,c=Array.prototype.slice;return t.any=function(e){for(var n,r,i=t._defer(),o=i._handler,s=e.length>>>0,a=s,c=[],l=0;l<s;++l)if(void 0!==(r=e[l])||l in e){if((n=t._handler(r)).state()>0){o.become(n),t._visitRemaining(e,l,n);break}n.visit(o,u,h)}else--a;0===a&&o.reject(new RangeError("any(): array must not be empty"));return i;function u(t){c=null,this.resolve(t)}function h(t){this.resolved||(c.push(t),0==--a&&this.reject(c))}},t.some=function(e,n){var r,i,o,s=t._defer(),a=s._handler,c=[],l=[],u=e.length>>>0,h=0;for(o=0;o<u;++o)(void 0!==(i=e[o])||o in e)&&++h;n=Math.max(n,0),r=h-n+1,h=Math.min(n,h),n>h?a.reject(new RangeError("some(): array must contain at least "+n+" item(s), but had "+h)):0===h&&a.resolve(c);for(o=0;o<u;++o)(void 0!==(i=e[o])||o in e)&&t._handler(i).visit(a,f,p,a.notify);return s;function f(t){this.resolved||(c.push(t),0==--h&&(l=null,this.resolve(c)))}function p(t){this.resolved||(l.push(t),0==--r&&(c=null,this.reject(l)))}},t.settle=function(t){return o(t.map(l))},t.map=function(e,n){return t._traverse(n,e)},t.filter=function(e,n){var r=c.call(e);return t._traverse(n,r).then(function(e){return function(e,n){for(var r=n.length,i=new Array(r),o=0,s=0;o<r;++o)n[o]&&(i[s++]=t._handler(e[o]).value);return i.length=s,i}(r,e)})},t.reduce=function(t,e){return arguments.length>2?s.call(t,u(e),arguments[2]):s.call(t,u(e))},t.reduceRight=function(t,e){return arguments.length>2?a.call(t,u(e),arguments[2]):a.call(t,u(e))},t.prototype.spread=function(t){return this.then(o).then(function(e){return t.apply(this,e)})},t;function l(n){var r;return n instanceof t&&(r=n._handler.join()),r&&0===r.state()||!r?i(n).then(e.fulfilled,e.rejected):(r._unreport(),e.inspect(r))}function u(t){return function(e,r,i){return n(t,void 0,[e,r,i])}}}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){return function(n){var r=n.resolve,i=n.reject,o=n.prototype.catch;function s(t,e,n,i){var o,s=t.call(e);return"object"!=typeof(o=s)&&"function"!=typeof o||null===o?n(i):function(t,e,n){return r(t).then(function(){return e(n)})}(s,n,i)}return n.prototype.done=function(t,e){this._handler.visit(this._handler.receiver,t,e)},n.prototype.catch=n.prototype.otherwise=function(e){return arguments.length<2?o.call(this,e):"function"!=typeof e?this.ensure(t):o.call(this,(n=arguments[1],r=e,function(t){return function(t,e){return function(t){return t===Error||null!=t&&t.prototype instanceof Error}(e)?t instanceof e:e(t)}(t,r)?n.call(this,t):i(t)}));var n,r},n.prototype.finally=n.prototype.ensure=function(t){return"function"!=typeof t?this:this.then(function(n){return s(t,this,e,n)},function(e){return s(t,this,i,e)})},n.prototype.else=n.prototype.orElse=function(t){return this.then(void 0,function(){return t})},n.prototype.yield=function(t){return this.then(function(){return t})},n.prototype.tap=function(t){return this.then(t).yield(this)},n};function t(){throw new TypeError("catch predicate must be a function")}function e(t){return t}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){return function(t){return t.prototype.fold=function(e,n){var r=this._beget();return this._handler.fold(function(n,r,i){t._handler(n).fold(function(t,n,r){r.resolve(e.call(this,n,t))},r,this,i)},n,r._handler.receiver,r._handler),r},t}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(t){var e=n(83).inspect;return function(t){return t.prototype.inspect=function(){return e(t._handler(this))},t}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){return function(t){var e=t.resolve;return t.iterate=function(t,e,r,i){return n(function(e){return[e,t(e)]},e,r,i)},t.unfold=n,t;function n(t,r,i,o){return e(o).then(function(n){return e(r(n)).then(function(r){return r?n:e(t(n)).spread(s)})});function s(o,s){return e(i(o)).then(function(){return n(t,r,i,s)})}}}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){return function(t){return t.prototype.progress=function(t){return this.then(void 0,void 0,t)},t}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){return function(t){return t.prototype.with=t.prototype.withThis=function(t){var e=this._beget(),n=e._handler;return n.receiver=t,this._handler.chain(n,t),e},t}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(t){var e=n(41).setTimer,r=n(180);return function(t){var n,s=o,a=o;"undefined"!=typeof console&&(n=console,s=void 0!==n.error?function(t){n.error(t)}:function(t){n.log(t)},a=void 0!==n.info?function(t){n.info(t)}:function(t){n.log(t)}),t.onPotentiallyUnhandledRejection=function(t){p(h,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){p(f,t)},t.onFatalRejection=function(t){p(i,t.value)};var c=[],l=[],u=null;function h(t){t.handled||(l.push(t),s("Potentially unhandled rejection ["+t.id+"] "+r.formatError(t.value)))}function f(t){var e=l.indexOf(t);e>=0&&(l.splice(e,1),a("Handled previous rejection ["+t.id+"] "+r.formatObject(t.value)))}function p(t,n){c.push(t,n),null===u&&(u=e(d,0))}function d(){for(u=null;c.length>0;)c.shift()(c.shift())}return t};function i(t){throw t}function o(){}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){return{formatError:function(e){var n="object"==typeof e&&null!==e&&(e.stack||e.message)?e.stack||e.message:t(e);return e instanceof Error?n:n+" (WARNING: non-Error used)"},formatObject:t,tryStringify:e};function t(t){var n=String(t);return"[object Object]"===n&&"undefined"!=typeof JSON&&(n=e(t,n)),n}function e(t,e){try{return JSON.stringify(t)}catch(t){return e}}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(t){return n(182)({scheduler:new(n(183))(n(41).asap)})}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){(function(r){var i;!function(o){"use strict";void 0===(i=function(){return function(t){var e=t.scheduler,n=function(){if(void 0!==r&&null!==r&&"function"==typeof r.emit)return function(t,e){return"unhandledRejection"===t?r.emit(t,e.value,e):r.emit(t,e)};if("undefined"!=typeof self&&function(){if("function"==typeof CustomEvent)try{var t=new CustomEvent("unhandledRejection");return t instanceof CustomEvent}catch(t){}return!1}())return function(t,e){return function(n,r){var i=new e(n,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!t.dispatchEvent(i)}}(self,CustomEvent);if("undefined"!=typeof self&&function(){if("undefined"!=typeof document&&"function"==typeof document.createEvent)try{var t=document.createEvent("CustomEvent");return t.initCustomEvent("eventType",!1,!0,{}),!0}catch(t){}return!1}())return function(t,e){return function(n,r){var i=e.createEvent("CustomEvent");return i.initCustomEvent(n,!1,!0,{reason:r.value,key:r}),!t.dispatchEvent(i)}}(self,document);return N}(),i=Object.create||function(t){function e(){}return e.prototype=t,new e};function o(t,e){this._handler=t===g?e:function(t){var e=new _;try{t(function(t){e.resolve(t)},n,function(t){e.notify(t)})}catch(t){n(t)}return e;function n(t){e.reject(t)}}(t)}function s(t){return O(t)?t:new o(g,new v(p(t)))}function a(t){return new o(g,new v(new A(t)))}function c(){return C}function l(t,e,n){for(var r,i="function"==typeof e?function(r,i,o){o.resolved||u(n,h,r,t(e,i,r),o)}:h,s=new _,a=n.length>>>0,c=new Array(a),l=0;l<n.length&&!s.resolved;++l)void 0!==(r=n[l])||l in n?u(n,i,l,r,s):--a;return 0===a&&s.become(new w(c)),new o(g,s);function h(t,e,n){c[t]=e,0==--a&&n.become(new w(c))}}function u(t,e,n,r,i){if(B(r)){var o=function(t){return O(t)?t._handler.join():d(t)}(r),s=o.state();0===s?o.fold(e,n,void 0,i):s>0?e(n,o.value,i):(i.become(o),h(t,n+1,o))}else e(n,r,i)}function h(t,e,n){for(var r=e;r<t.length;++r)f(p(t[r]),n)}function f(t,e){if(t!==e){var n=t.state();0===n?t.visit(t,void 0,t._unreport):n<0&&t._unreport()}}function p(t){return O(t)?t._handler.join():B(t)?d(t):new w(t)}function d(t){try{var e=t.then;return"function"==typeof e?new b(e,t):new w(t)}catch(t){return new A(t)}}function g(){}function m(){}o.resolve=s,o.reject=a,o.never=c,o._defer=function(){return new o(g,new _)},o._handler=p,o.prototype.then=function(t,e,n){var r=this._handler,i=r.join().state();if("function"!=typeof t&&i>0||"function"!=typeof e&&i<0)return new this.constructor(g,r);var o=this._beget(),s=o._handler;return r.chain(s,r.receiver,t,e,n),o},o.prototype.catch=function(t){return this.then(void 0,t)},o.prototype._beget=function(){return t=this._handler,e=this.constructor,n=new _(t.receiver,t.join().context),new e(g,n);var t,e,n},o.all=function(t){return l(U,null,t)},o.race=function(t){if("object"!=typeof t||null===t)return a(new TypeError("non-iterable passed to race()"));return 0===t.length?c():1===t.length?s(t[0]):function(t){var e,n,r,i=new _;for(e=0;e<t.length;++e)if(void 0!==(n=t[e])||e in t){if(0!==(r=p(n)).state()){i.become(r),h(t,e+1,r);break}r.visit(i,i.resolve,i.reject)}return new o(g,i)}(t)},o._traverse=function(t,e){return l(R,t,e)},o._visitRemaining=h,g.prototype.when=g.prototype.become=g.prototype.notify=g.prototype.fail=g.prototype._unreport=g.prototype._report=N,g.prototype._state=0,g.prototype.state=function(){return this._state},g.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},g.prototype.chain=function(t,e,n,r,i){this.when({resolver:t,receiver:e,fulfilled:n,rejected:r,progress:i})},g.prototype.visit=function(t,e,n,r){this.chain(y,t,e,n,r)},g.prototype.fold=function(t,e,n,r){this.when(new D(t,e,n,r))},j(g,m),m.prototype.become=function(t){t.fail()};var y=new m;function _(t,e){o.createContext(this,e),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function v(t){this.handler=t}function b(t,n){_.call(this),e.enqueue(new T(t,n,this))}function w(t){o.createContext(this),this.value=t}j(g,_),_.prototype._state=0,_.prototype.resolve=function(t){this.become(p(t))},_.prototype.reject=function(t){this.resolved||this.become(new A(t))},_.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if((t=t.handler)===this)return this.handler=new A(new TypeError("Promise cycle"));return t},_.prototype.run=function(){var t=this.consumers,e=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<t.length;++n)e.when(t[n])},_.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&e.enqueue(this),void 0!==this.context&&t._report(this.context))},_.prototype.when=function(t){this.resolved?e.enqueue(new I(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},_.prototype.notify=function(t){this.resolved||e.enqueue(new P(t,this))},_.prototype.fail=function(t){var e=void 0===t?this.context:t;this.resolved&&this.handler.join().fail(e)},_.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},_.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},j(g,v),v.prototype.when=function(t){e.enqueue(new I(t,this))},v.prototype._report=function(t){this.join()._report(t)},v.prototype._unreport=function(){this.join()._unreport()},j(_,b),j(g,w),w.prototype._state=1,w.prototype.fold=function(t,e,n,r){!function(t,e,n,r,i){if("function"!=typeof t)return i.become(n);o.enterContext(n),function(t,e,n,r,i){try{t.call(r,e,n,i)}catch(t){i.become(new A(t))}}(t,e,n.value,r,i),o.exitContext()}(t,e,this,n,r)},w.prototype.when=function(t){k(t.fulfilled,this,t.receiver,t.resolver)};var E=0;function A(t){o.createContext(this),this.id=++E,this.value=t,this.handled=!1,this.reported=!1,this._report()}function S(t,e){this.rejection=t,this.context=e}function x(t){this.rejection=t}j(g,A),A.prototype._state=-1,A.prototype.fold=function(t,e,n,r){r.become(this)},A.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),k(t.rejected,this,t.receiver,t.resolver)},A.prototype._report=function(t){e.afterQueue(new S(this,t))},A.prototype._unreport=function(){this.handled||(this.handled=!0,e.afterQueue(new x(this)))},A.prototype.fail=function(t){this.reported=!0,n("unhandledRejection",this),o.onFatalRejection(this,void 0===t?this.context:t)},S.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,n("unhandledRejection",this.rejection)||o.onPotentiallyUnhandledRejection(this.rejection,this.context))},x.prototype.run=function(){this.rejection.reported&&(n("rejectionHandled",this.rejection)||o.onPotentiallyUnhandledRejectionHandled(this.rejection))},o.createContext=o.enterContext=o.exitContext=o.onPotentiallyUnhandledRejection=o.onPotentiallyUnhandledRejectionHandled=o.onFatalRejection=N;var C=new o(g,new g);function I(t,e){this.continuation=t,this.handler=e}function P(t,e){this.handler=e,this.value=t}function T(t,e,n){this._then=t,this.thenable=e,this.resolver=n}function D(t,e,n,r){this.f=t,this.z=e,this.c=n,this.to=r,this.resolver=y,this.receiver=this}function O(t){return t instanceof o}function B(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function k(t,e,n,r){if("function"!=typeof t)return r.become(e);o.enterContext(e),function(t,e,n,r){try{r.become(p(t.call(n,e)))}catch(t){r.become(new A(t))}}(t,e.value,n,r),o.exitContext()}function M(t,e,n,r,i){if("function"!=typeof t)return i.notify(e);o.enterContext(n),function(t,e,n,r){try{r.notify(t.call(n,e))}catch(t){r.notify(t)}}(t,e,r,i),o.exitContext()}function R(t,e,n){try{return t(e,n)}catch(t){return a(t)}}function j(t,e){e.prototype=i(t.prototype),e.prototype.constructor=e}function U(t,e){return e}function N(){}return I.prototype.run=function(){this.handler.join().when(this.continuation)},P.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var e,n=0;n<t.length;++n)M((e=t[n]).progress,this.value,this.handler,e.receiver,e.resolver)},T.prototype.run=function(){var t=this.resolver;!function(t,e,n,r,i){try{t.call(e,n,r,i)}catch(t){r(t)}}(this._then,this.thenable,function(e){t.resolve(e)},function(e){t.reject(e)},function(e){t.notify(e)})},D.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},D.prototype.rejected=function(t){this.to.reject(t)},D.prototype.progress=function(t){this.to.notify(t)},o}}.call(e,n,e,t))||(t.exports=i)}(n(2))}).call(e,n(8))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){function t(t){this._async=t,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var e=this;this.drain=function(){e._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){(function(e){function n(t){return t&&t.isBuffer&&t}t.exports=n(void 0!==e&&e)||n(this.Buffer)||n("undefined"!=typeof window&&window.Buffer)||this.Buffer}).call(e,n(1).Buffer)},function(t,e,n){"use strict";e.byteLength=function(t){return 3*t.length/4-l(t)},e.toByteArray=function(t){var e,n,r,s,a,c=t.length;s=l(t),a=new o(3*c/4-s),n=s>0?c-4:c;var u=0;for(e=0;e<n;e+=4)r=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],a[u++]=r>>16&255,a[u++]=r>>8&255,a[u++]=255&r;2===s?(r=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,a[u++]=255&r):1===s&&(r=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,a[u++]=r>>8&255,a[u++]=255&r);return a},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o="",s=[],a=0,c=n-i;a<c;a+=16383)s.push(u(t,a,a+16383>c?c:a+16383));1===i?(e=t[n-1],o+=r[e>>2],o+=r[e<<4&63],o+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],o+=r[e>>10],o+=r[e>>4&63],o+=r[e<<2&63],o+="=");return s.push(o),s.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function u(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16)+(t[a+1]<<8)+t[a+2],s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e,n){var r=n(9);function i(t){return new Array(t)}(e=t.exports=i(0)).alloc=i,e.concat=r.concat,e.from=function(t){if(!r.isBuffer(t)&&r.isView(t))t=r.Uint8Array.from(t);else if(r.isArrayBuffer(t))t=new Uint8Array(t);else{if("string"==typeof t)return r.from.call(e,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(t)}},function(t,e,n){var r=n(9),i=r.global;function o(t){return new i(t)}(e=t.exports=r.hasBuffer?o(0):[]).alloc=r.hasBuffer&&i.alloc||o,e.concat=r.concat,e.from=function(t){if(!r.isBuffer(t)&&r.isView(t))t=r.Uint8Array.from(t);else if(r.isArrayBuffer(t))t=new Uint8Array(t);else{if("string"==typeof t)return r.from.call(e,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return i.from&&1!==i.from.length?i.from(t):new i(t)}},function(t,e,n){var r=n(9);function i(t){return new Uint8Array(t)}(e=t.exports=r.hasArrayBuffer?i(0):[]).alloc=i,e.concat=r.concat,e.from=function(t){if(r.isView(t)){var n=t.byteOffset,i=t.byteLength;(t=t.buffer).byteLength!==i&&(t.slice?t=t.slice(n,n+i):(t=new Uint8Array(t)).byteLength!==i&&(t=Array.prototype.slice.call(t,n,n+i)))}else{if("string"==typeof t)return r.from.call(e,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return new Uint8Array(t)}},function(t,e){e.copy=function(t,e,n,r){var i;n||(n=0);r||0===r||(r=this.length);e||(e=0);var o=r-n;if(t===this&&n<e&&e<r)for(i=o-1;i>=0;i--)t[i+e]=this[i+n];else for(i=0;i<o;i++)t[i+e]=this[i+n];return o},e.toString=function(t,e,n){var r=0|e;n||(n=this.length);var i="",o=0;for(;r<n;)(o=this[r++])<128?i+=String.fromCharCode(o):(192==(224&o)?o=(31&o)<<6|63&this[r++]:224==(240&o)?o=(15&o)<<12|(63&this[r++])<<6|63&this[r++]:240==(248&o)&&(o=(7&o)<<18|(63&this[r++])<<12|(63&this[r++])<<6|63&this[r++]),o>=65536?(o-=65536,i+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):i+=String.fromCharCode(o));return i},e.write=function(t,e){var n=e||(e|=0),r=t.length,i=0,o=0;for(;o<r;)(i=t.charCodeAt(o++))<128?this[n++]=i:i<2048?(this[n++]=192|i>>>6,this[n++]=128|63&i):i<55296||i>57343?(this[n++]=224|i>>>12,this[n++]=128|i>>>6&63,this[n++]=128|63&i):(i=65536+(i-55296<<10|t.charCodeAt(o++)-56320),this[n++]=240|i>>>18,this[n++]=128|i>>>12&63,this[n++]=128|i>>>6&63,this[n++]=128|63&i);return n-e}},function(t,e,n){e.setExtPackers=function(t){t.addExtPacker(14,Error,[h,c]),t.addExtPacker(1,EvalError,[h,c]),t.addExtPacker(2,RangeError,[h,c]),t.addExtPacker(3,ReferenceError,[h,c]),t.addExtPacker(4,SyntaxError,[h,c]),t.addExtPacker(5,TypeError,[h,c]),t.addExtPacker(6,URIError,[h,c]),t.addExtPacker(10,RegExp,[u,c]),t.addExtPacker(11,Boolean,[l,c]),t.addExtPacker(12,String,[l,c]),t.addExtPacker(13,Date,[Number,c]),t.addExtPacker(15,Number,[l,c]),"undefined"!=typeof Uint8Array&&(t.addExtPacker(17,Int8Array,s),t.addExtPacker(18,Uint8Array,s),t.addExtPacker(19,Int16Array,s),t.addExtPacker(20,Uint16Array,s),t.addExtPacker(21,Int32Array,s),t.addExtPacker(22,Uint32Array,s),t.addExtPacker(23,Float32Array,s),"undefined"!=typeof Float64Array&&t.addExtPacker(24,Float64Array,s),"undefined"!=typeof Uint8ClampedArray&&t.addExtPacker(25,Uint8ClampedArray,s),t.addExtPacker(26,ArrayBuffer,s),t.addExtPacker(29,DataView,s));i.hasBuffer&&t.addExtPacker(27,o,i.from)};var r,i=n(9),o=i.global,s=i.Uint8Array.from,a={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function c(t){return r||(r=n(85).encode),r(t)}function l(t){return t.valueOf()}function u(t){(t=RegExp.prototype.toString.call(t).split("/")).shift();var e=[t.pop()];return e.unshift(t.join("/")),e}function h(t){var e={};for(var n in a)e[n]=t[n];return e}},function(t,e,n){var r=n(31),i=n(42),o=i.Uint64BE,s=i.Int64BE,a=n(9),c=n(61),l=n(192),u=n(87).uint8,h=n(59).ExtBuffer,f="undefined"!=typeof Uint8Array,p="undefined"!=typeof Map,d=[];d[1]=212,d[2]=213,d[4]=214,d[8]=215,d[16]=216,e.getWriteType=function(t){var e=l.getWriteToken(t),n=t&&t.useraw,i=f&&t&&t.binarraybuffer,g=i?a.isArrayBuffer:a.isBuffer,m=i?function(t,e){b(t,new Uint8Array(e))}:b,y=p&&t&&t.usemap?function(t,n){if(!(n instanceof Map))return w(t,n);var r=n.size;e[r<16?128+r:r<=65535?222:223](t,r);var i=t.codec.encode;n.forEach(function(e,n,r){i(t,n),i(t,e)})}:w;return{boolean:function(t,n){e[n?195:194](t,n)},function:v,number:function(t,n){var r,i=0|n;if(n!==i)return void e[r=203](t,n);r=-32<=i&&i<=127?255&i:0<=i?i<=255?204:i<=65535?205:206:-128<=i?208:-32768<=i?209:210;e[r](t,i)},object:n?function(t,n){if(g(n))return function(t,n){var r=n.length;e[r<32?160+r:r<=65535?218:219](t,r),t.send(n)}(t,n);_(t,n)}:_,string:function(t){return function(n,r){var i=r.length,o=5+3*i;n.offset=n.reserve(o);var s=n.buffer,a=t(i),l=n.offset+a;i=c.write.call(s,r,l);var u=t(i);if(a!==u){var h=l+u-a,f=l+i;c.copy.call(s,s,h,l,f)}e[1===u?160+i:u<=3?215+u:219](n,i),n.offset+=i}}(n?function(t){return t<32?1:t<=65535?3:5}:function(t){return t<32?1:t<=255?2:t<=65535?3:5}),symbol:v,undefined:v};function _(t,n){if(null===n)return v(t,n);if(g(n))return m(t,n);if(r(n))return function(t,n){var r=n.length;e[r<16?144+r:r<=65535?220:221](t,r);for(var i=t.codec.encode,o=0;o<r;o++)i(t,n[o])}(t,n);if(o.isUint64BE(n))return function(t,n){e[207](t,n.toArray())}(t,n);if(s.isInt64BE(n))return function(t,n){e[211](t,n.toArray())}(t,n);var i=t.codec.getExtPacker(n);if(i&&(n=i(n)),n instanceof h)return function(t,n){var r=n.buffer,i=r.length,o=d[i]||(i<255?199:i<=65535?200:201);e[o](t,i),u[n.type](t),t.send(r)}(t,n);y(t,n)}function v(t,n){e[192](t,n)}function b(t,n){var r=n.length,i=r<255?196:r<=65535?197:198;e[i](t,r),t.send(n)}function w(t,n){var r=Object.keys(n),i=r.length,o=i<16?128+i:i<=65535?222:223;e[o](t,i);var s=t.codec.encode;r.forEach(function(e){s(t,e),s(t,n[e])})}}},function(t,e,n){var r=n(60),i=n(42),o=i.Uint64BE,s=i.Int64BE,a=n(87).uint8,c=n(9),l=c.global,u=c.hasBuffer&&"TYPED_ARRAY_SUPPORT"in l&&!l.TYPED_ARRAY_SUPPORT,h=c.hasBuffer&&l.prototype||{};function f(){var t=a.slice();return t[196]=p(196),t[197]=d(197),t[198]=g(198),t[199]=p(199),t[200]=d(200),t[201]=g(201),t[202]=m(202,4,h.writeFloatBE||v,!0),t[203]=m(203,8,h.writeDoubleBE||b,!0),t[204]=p(204),t[205]=d(205),t[206]=g(206),t[207]=m(207,8,y),t[208]=p(208),t[209]=d(209),t[210]=g(210),t[211]=m(211,8,_),t[217]=p(217),t[218]=d(218),t[219]=g(219),t[220]=d(220),t[221]=g(221),t[222]=d(222),t[223]=g(223),t}function p(t){return function(e,n){var r=e.reserve(2),i=e.buffer;i[r++]=t,i[r]=n}}function d(t){return function(e,n){var r=e.reserve(3),i=e.buffer;i[r++]=t,i[r++]=n>>>8,i[r]=n}}function g(t){return function(e,n){var r=e.reserve(5),i=e.buffer;i[r++]=t,i[r++]=n>>>24,i[r++]=n>>>16,i[r++]=n>>>8,i[r]=n}}function m(t,e,n,r){return function(i,o){var s=i.reserve(e+1);i.buffer[s++]=t,n.call(i.buffer,o,s,r)}}function y(t,e){new o(this,e,t)}function _(t,e){new s(this,e,t)}function v(t,e){r.write(this,t,e,!1,23,4)}function b(t,e){r.write(this,t,e,!1,52,8)}e.getWriteToken=function(t){return t&&t.uint8array?((e=f())[202]=m(202,4,v),e[203]=m(203,8,b),e):u||c.hasBuffer&&t&&t.safe?function(){var t=a.slice();return t[196]=m(196,1,l.prototype.writeUInt8),t[197]=m(197,2,l.prototype.writeUInt16BE),t[198]=m(198,4,l.prototype.writeUInt32BE),t[199]=m(199,1,l.prototype.writeUInt8),t[200]=m(200,2,l.prototype.writeUInt16BE),t[201]=m(201,4,l.prototype.writeUInt32BE),t[202]=m(202,4,l.prototype.writeFloatBE),t[203]=m(203,8,l.prototype.writeDoubleBE),t[204]=m(204,1,l.prototype.writeUInt8),t[205]=m(205,2,l.prototype.writeUInt16BE),t[206]=m(206,4,l.prototype.writeUInt32BE),t[207]=m(207,8,y),t[208]=m(208,1,l.prototype.writeInt8),t[209]=m(209,2,l.prototype.writeInt16BE),t[210]=m(210,4,l.prototype.writeInt32BE),t[211]=m(211,8,_),t[217]=m(217,1,l.prototype.writeUInt8),t[218]=m(218,2,l.prototype.writeUInt16BE),t[219]=m(219,4,l.prototype.writeUInt32BE),t[220]=m(220,2,l.prototype.writeUInt16BE),t[221]=m(221,4,l.prototype.writeUInt32BE),t[222]=m(222,2,l.prototype.writeUInt16BE),t[223]=m(223,4,l.prototype.writeUInt32BE),t}():f();var e}},function(t,e,n){e.setExtUnpackers=function(t){t.addExtUnpacker(14,[a,l(Error)]),t.addExtUnpacker(1,[a,l(EvalError)]),t.addExtUnpacker(2,[a,l(RangeError)]),t.addExtUnpacker(3,[a,l(ReferenceError)]),t.addExtUnpacker(4,[a,l(SyntaxError)]),t.addExtUnpacker(5,[a,l(TypeError)]),t.addExtUnpacker(6,[a,l(URIError)]),t.addExtUnpacker(10,[a,c]),t.addExtUnpacker(11,[a,u(Boolean)]),t.addExtUnpacker(12,[a,u(String)]),t.addExtUnpacker(13,[a,u(Date)]),t.addExtUnpacker(15,[a,u(Number)]),"undefined"!=typeof Uint8Array&&(t.addExtUnpacker(17,u(Int8Array)),t.addExtUnpacker(18,u(Uint8Array)),t.addExtUnpacker(19,[h,u(Int16Array)]),t.addExtUnpacker(20,[h,u(Uint16Array)]),t.addExtUnpacker(21,[h,u(Int32Array)]),t.addExtUnpacker(22,[h,u(Uint32Array)]),t.addExtUnpacker(23,[h,u(Float32Array)]),"undefined"!=typeof Float64Array&&t.addExtUnpacker(24,[h,u(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&t.addExtUnpacker(25,u(Uint8ClampedArray)),t.addExtUnpacker(26,h),t.addExtUnpacker(29,[h,u(DataView)]));i.hasBuffer&&t.addExtUnpacker(27,u(o))};var r,i=n(9),o=i.global,s={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function a(t){return r||(r=n(89).decode),r(t)}function c(t){return RegExp.apply(null,t)}function l(t){return function(e){var n=new t;for(var r in s)n[r]=e[r];return n}}function u(t){return function(e){return new t(e)}}function h(t){return new Uint8Array(t).buffer}},function(t,e,n){var r=n(91);function i(t){var e,n=new Array(256);for(e=0;e<=127;e++)n[e]=o(e);for(e=128;e<=143;e++)n[e]=a(e-128,t.map);for(e=144;e<=159;e++)n[e]=a(e-144,t.array);for(e=160;e<=191;e++)n[e]=a(e-160,t.str);for(n[192]=o(null),n[193]=null,n[194]=o(!1),n[195]=o(!0),n[196]=s(t.uint8,t.bin),n[197]=s(t.uint16,t.bin),n[198]=s(t.uint32,t.bin),n[199]=s(t.uint8,t.ext),n[200]=s(t.uint16,t.ext),n[201]=s(t.uint32,t.ext),n[202]=t.float32,n[203]=t.float64,n[204]=t.uint8,n[205]=t.uint16,n[206]=t.uint32,n[207]=t.uint64,n[208]=t.int8,n[209]=t.int16,n[210]=t.int32,n[211]=t.int64,n[212]=a(1,t.ext),n[213]=a(2,t.ext),n[214]=a(4,t.ext),n[215]=a(8,t.ext),n[216]=a(16,t.ext),n[217]=s(t.uint8,t.str),n[218]=s(t.uint16,t.str),n[219]=s(t.uint32,t.str),n[220]=s(t.uint16,t.array),n[221]=s(t.uint32,t.array),n[222]=s(t.uint16,t.map),n[223]=s(t.uint32,t.map),e=224;e<=255;e++)n[e]=o(e-256);return n}function o(t){return function(){return t}}function s(t,e){return function(n){var r=t(n);return e(n,r)}}function a(t,e){return function(n){return e(n,t)}}e.getReadToken=function(t){var e=r.getReadFormat(t);return t&&t.useraw?function(t){var e,n=i(t).slice();for(n[217]=n[196],n[218]=n[197],n[219]=n[198],e=160;e<=191;e++)n[e]=a(e-160,t.bin);return n}(e):i(e)}},function(t,e,n){e.Encoder=o;var r=n(92),i=n(86).EncodeBuffer;function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}o.prototype=new i,r.mixin(o.prototype),o.prototype.encode=function(t){this.write(t),this.emit("data",this.read())},o.prototype.end=function(t){arguments.length&&this.encode(t),this.flush(),this.emit("end")}},function(t,e,n){e.Decoder=o;var r=n(92),i=n(90).DecodeBuffer;function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}o.prototype=new i,r.mixin(o.prototype),o.prototype.decode=function(t){arguments.length&&this.write(t),this.flush()},o.prototype.push=function(t){this.emit("data",t)},o.prototype.end=function(t){this.decode(t),this.emit("end")}},function(t,e,n){n(62),n(58),e.createCodec=n(43).createCodec},function(t,e,n){n(62),n(58),e.codec={preset:n(43).preset}},function(t,e,n){"use strict";(function(e){const r=n(12),i=n(16),o=(n(33),n(34),n(65)),s=n(23),a=n(22),c=n(35),l=s.MT,u=s.NUMBYTES,h=s.SYMS;function f(t){return t>1?"s":""}class p extends r.Transform{constructor(t){(t=t||{}).readableObjectMode=!1,t.writableObjectMode=!1;const e=null!=t.max_depth?t.max_depth:10;delete t.max_depth,super(t),this.depth=1,this.max_depth=e,this.all=new c,this.parser=new o(t),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_transform(t,e,n){this.parser.write(t,e,n)}_flush(t){return this.parser._flush(t)}static comment(t,e,n){if(null==t)throw new Error("input required");let r="string"==typeof t?"hex":void 0,i=10;switch(typeof e){case"function":n=e;break;case"string":r=e;break;case"number":i=e;break;case"object":const t=e.encoding,o=e.max_depth;r=null!=t?t:r,i=null!=o?o:i;break;case"undefined":break;default:throw new Error("Unknown option type")}const o=new c,s=new p({max_depth:i});let a=null;return"function"==typeof n?(s.on("end",()=>{n(null,o.toString("utf8"))}),s.on("error",n)):a=new Promise((t,e)=>(s.on("end",()=>{t(o.toString("utf8"))}),s.on("error",e))),s.pipe(o),s.end(t,r),a}_on_error(t){return this.push("ERROR: ")&&this.push(t.toString())&&this.push("\n")}_on_read(t){this.all.write(t);const e=t.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(e);let n=2*(this.max_depth-this.depth);return(n-=e.length)<1&&(n=1),this.push(new Array(n+1).join(" ")),this.push("-- ")}_on_more(t,e,n,r){this.depth++;let i="";switch(t){case l.POS_INT:i="Positive number,";break;case l.NEG_INT:i="Negative number,";break;case l.ARRAY:i="Array, length";break;case l.MAP:i="Map, count";break;case l.BYTE_STRING:i="Bytes, length";break;case l.UTF8_STRING:i="String, length";break;case l.SIMPLE_FLOAT:i=1===e?"Simple value,":"Float,"}return this.push(i+" next "+e+" byte"+f(e)+"\n")}_on_start_string(t,e,n,r){this.depth++;let i="";switch(t){case l.BYTE_STRING:i="Bytes, length: "+e;break;case l.UTF8_STRING:i="String, length: "+e.toString()}return this.push(i+"\n")}_on_start(t,e,n,r){return this.depth++,e!==h.BREAK&&this.push((()=>{switch(n){case l.ARRAY:return"["+r+"], ";case l.MAP:return r%2?"{Val:"+Math.floor(r/2)+"}, ":"{Key:"+Math.floor(r/2)+"}, "}})()),this.push((()=>{switch(t){case l.TAG:return"Tag #"+e;case l.ARRAY:return e===h.STREAM?"Array (streaming)":"Array, "+e+" item"+f(e);case l.MAP:return e===h.STREAM?"Map (streaming)":"Map, "+e+" pair"+f(e);case l.BYTE_STRING:return"Bytes (streaming)";case l.UTF8_STRING:return"String (streaming)"}})()),this.push("\n")}_on_stop(t){return this.depth--}_on_value(t,n,r,o){switch(t!==h.BREAK&&this.push((()=>{switch(n){case l.ARRAY:return"["+r+"], ";case l.MAP:return r%2?"{Val:"+Math.floor(r/2)+"}, ":"{Key:"+Math.floor(r/2)+"}, "}})()),t===h.BREAK?this.push("BREAK\n"):t===h.NULL?this.push("null\n"):t===h.UNDEFINED?this.push("undefined\n"):"string"==typeof t?(this.depth--,t.length>0&&(this.push(JSON.stringify(t)),this.push("\n"))):e.isBuffer(t)?(this.depth--,t.length>0&&(this.push(t.toString("hex")),this.push("\n"))):t instanceof a?(this.push(t.toString()),this.push("\n")):(this.push(i.inspect(t)),this.push("\n")),o){case u.ONE:case u.TWO:case u.FOUR:case u.EIGHT:this.depth--}}_on_data(){return this.push("0x"),this.push(this.all.read().toString("hex")),this.push("\n")}}t.exports=p}).call(e,n(1).Buffer)},function(t,e){},function(t,e,n){"use strict";var r=n(6).Buffer,i=n(202);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i,o=r.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,n=o,i=a,e.copy(n,i),a+=s.data.length,s=s.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,s,a,c=1,l={},u=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){d(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(t){var e=h.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[c]=i,r(c),c++},f.clearImmediate=p}function p(t){delete l[t]}function d(t){if(u)setTimeout(d,0,t);else{var e=l[t];if(e){u=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{p(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(4),n(8))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(e,n(4))},function(t,e,n){"use strict";t.exports=o;var r=n(97),i=n(32);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(3),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(64)},function(t,e,n){t.exports=n(18)},function(t,e,n){t.exports=n(63).Transform},function(t,e,n){t.exports=n(63).PassThrough},function(t,e){},function(t,e,n){"use strict";e=t.exports=s;var r=n(12).Transform,i=n(16).inherits,o=n(35);function s(t){r.call(this,t),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new o,this.__restart()}e.One=-1,i(s,r),s.prototype._transform=function(t,e,n){for(this.bs.write(t);this.bs.length>=this.__needed;){var r,i=null===this.__needed?void 0:this.bs.read(this.__needed);try{r=this.__parser.next(i)}catch(t){return n(t)}this.__needed&&(this.__fresh=!1),r.done?(this.push(r.value),this.__restart()):this.__needed=0|r.value}return n()},s.prototype.__restart=function(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0},s.prototype._flush=function(t){t(this.__fresh?null:new Error("unexpected end of input"))}},function(t,e,n){(function(t,r){var i;!function(o){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,c=2147483647,l=36,u=1,h=26,f=38,p=700,d=72,g=128,m="-",y=/^xn--/,_=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-u,E=Math.floor,A=String.fromCharCode;function S(t){throw new RangeError(b[t])}function x(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function C(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+x((t=t.replace(v,".")).split("."),e).join(".")}function I(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function P(t){return x(t,function(t){var e="";return t>65535&&(e+=A((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=A(t)}).join("")}function T(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function D(t,e,n){var r=0;for(t=n?E(t/p):t>>1,t+=E(t/e);t>w*h>>1;r+=l)t=E(t/w);return E(r+(w+1)*t/(t+f))}function O(t){var e,n,r,i,o,s,a,f,p,y,_,v=[],b=t.length,w=0,A=g,x=d;for((n=t.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&S("not-basic"),v.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=w,s=1,a=l;i>=b&&S("invalid-input"),((f=(_=t.charCodeAt(i++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:l)>=l||f>E((c-w)/s))&&S("overflow"),w+=f*s,!(f<(p=a<=x?u:a>=x+h?h:a-x));a+=l)s>E(c/(y=l-p))&&S("overflow"),s*=y;x=D(w-o,e=v.length+1,0==o),E(w/e)>c-A&&S("overflow"),A+=E(w/e),w%=e,v.splice(w++,0,A)}return P(v)}function B(t){var e,n,r,i,o,s,a,f,p,y,_,v,b,w,x,C=[];for(v=(t=I(t)).length,e=g,n=0,o=d,s=0;s<v;++s)(_=t[s])<128&&C.push(A(_));for(r=i=C.length,i&&C.push(m);r<v;){for(a=c,s=0;s<v;++s)(_=t[s])>=e&&_<a&&(a=_);for(a-e>E((c-n)/(b=r+1))&&S("overflow"),n+=(a-e)*b,e=a,s=0;s<v;++s)if((_=t[s])<e&&++n>c&&S("overflow"),_==e){for(f=n,p=l;!(f<(y=p<=o?u:p>=o+h?h:p-o));p+=l)x=f-y,w=l-y,C.push(A(T(y+x%w,0))),f=E(x/w);C.push(A(T(f,0))),o=D(n,b,r==i),n=0,++r}++n,++e}return C.join("")}a={version:"1.4.1",ucs2:{decode:I,encode:P},decode:O,encode:B,toASCII:function(t){return C(t,function(t){return _.test(t)?"xn--"+B(t):t})},toUnicode:function(t){return C(t,function(t){return y.test(t)?O(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}()}).call(e,n(45)(t),n(4))},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(215),e.encode=e.stringify=n(216)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var l=t.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var h,f,p,d,g=t[u].replace(a,"%20"),m=g.indexOf(n);m>=0?(h=g.substr(0,m),f=g.substr(m+1)):(h=g,f=""),p=decodeURIComponent(h),d=decodeURIComponent(f),r(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(r(s))+n;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[s]))}).join(e):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";(function(e){const r=n(12),i=n(16),o=n(65),s=(n(34),n(33)),a=n(23),c=n(22),l=n(35),u=a.MT,h=a.SYMS;class f extends r.Transform{constructor(t){const e=null!=(t=t||{}).separator?t.separator:"\n";delete t.separator;const n=null!=t.stream_errors&&t.stream_errors;delete t.stream_errors,t.readableObjectMode=!1,t.writableObjectMode=!1,super(t),this.float_bytes=-1,this.separator=e,this.stream_errors=n,this.parser=new o(t),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(t,e,n){return this.parser.write(t,e,n)}_flush(t){return this.parser._flush(e=>this.stream_errors?(this._on_error(e),t()):t(e))}static diagnose(t,e,n){if(null==t)throw new Error("input required");let r={},i="hex";switch(typeof e){case"function":n=e,i=s.guessEncoding(t);break;case"object":i=null!=(r=s.extend({},e)).encoding?r.encoding:s.guessEncoding(t),delete r.encoding;break;default:i=null!=e?e:"hex"}const o=new l,a=new f(r);let c=null;return"function"==typeof n?(a.on("end",function(){return n(null,o.toString("utf8"))}),a.on("error",n)):c=new Promise(function(t,e){return a.on("end",function(){return t(o.toString("utf8"))}),a.on("error",e)}),a.pipe(o),a.end(t,i),c}_on_error(t){return this.stream_errors?this.push(t.toString()):this.emit("error",t)}_on_more(t,e,n,r){if(t===u.SIMPLE_FLOAT)return this.float_bytes=function(){switch(e){case 2:return 1;case 4:return 2;case 8:return 3}}()}_fore(t,e){switch(t){case u.BYTE_STRING:case u.UTF8_STRING:case u.ARRAY:if(e>0)return this.push(", ");break;case u.MAP:if(e>0)return e%2?this.push(": "):this.push(", ")}}_on_value(t,n,r){if(t!==h.BREAK)return this._fore(n,r),this.push(function(){switch(!1){case t!==h.NULL:return"null";case t!==h.UNDEFINED:return"undefined";case"string"!=typeof t:return JSON.stringify(t);case!(this.float_bytes>0):const n=this.float_bytes;return this.float_bytes=-1,i.inspect(t)+"_"+n;case!e.isBuffer(t):return"h'"+t.toString("hex")+"'";case!(t instanceof c):return t.toString();default:return i.inspect(t)}}.call(this))}_on_start(t,e,n,r){if(this._fore(n,r),this.push(function(){switch(t){case u.TAG:return e+"(";case u.ARRAY:return"[";case u.MAP:return"{";case u.BYTE_STRING:case u.UTF8_STRING:return"(";default:throw new Error("Unknown diagnostic type: "+t)}}()),e===h.STREAM)return this.push("_ ")}_on_stop(t){return this.push(function(){switch(t){case u.TAG:return")";case u.ARRAY:return"]";case u.MAP:return"}";case u.BYTE_STRING:case u.UTF8_STRING:return")";default:throw new Error("Unknown diagnostic type: "+t)}}())}_on_data(){return this.push(this.separator)}}t.exports=f}).call(e,n(1).Buffer)},function(t,e,n){"use strict";(function(e){const r=n(12),i=n(98),o=n(22),s=n(35),a=(n(66),n(34),n(33)),c=n(23),l=c.MT,u=c.NUMBYTES,h=c.SHIFT32,f=c.SYMS,p=c.TAG,d=c.MT.SIMPLE_FLOAT<<5|c.NUMBYTES.TWO,g=c.MT.SIMPLE_FLOAT<<5|c.NUMBYTES.FOUR,m=c.MT.SIMPLE_FLOAT<<5|c.NUMBYTES.EIGHT,y=c.MT.SIMPLE_FLOAT<<5|c.SIMPLE.TRUE,_=c.MT.SIMPLE_FLOAT<<5|c.SIMPLE.FALSE,v=c.MT.SIMPLE_FLOAT<<5|c.SIMPLE.UNDEFINED,b=c.MT.SIMPLE_FLOAT<<5|c.SIMPLE.NULL,w=new o("0x20000000000000"),E=new e("f97e00","hex"),A=new e("f9fc00","hex"),S=new e("f97c00","hex");class x extends r.Transform{constructor(t){(t=t||{}).readableObjectMode=!1,t.writableObjectMode=!0,super(t),this.canonical=t.canonical,this.semanticTypes=[Array,this._pushArray,Date,this._pushDate,e,this._pushBuffer,Map,this._pushMap,s,this._pushNoFilter,RegExp,this._pushRegexp,Set,this._pushSet,i.Url,this._pushUrl,o,this._pushBigNumber];const n=t.genTypes||[];for(let t=0,e=n.length;t<e;t+=2)this.addSemanticType(n[t],n[t+1])}_transform(t,e,n){return n(!1===this.pushAny(t)?new Error("Push Error"):void 0)}_flush(t){return t()}addSemanticType(t,e){for(let n=0,r=this.semanticTypes.length;n<r;n+=2){if(this.semanticTypes[n]===t){const t=this.semanticTypes[n+1];return this.semanticTypes[n+1]=e,t}}return this.semanticTypes.push(t,e),null}_pushUInt8(t){const n=new e(1);return n.writeUInt8(t),this.push(n)}_pushUInt16BE(t){const n=new e(2);return n.writeUInt16BE(t),this.push(n)}_pushUInt32BE(t){const n=new e(4);return n.writeUInt32BE(t),this.push(n)}_pushDoubleBE(t){const n=new e(8);return n.writeDoubleBE(t),this.push(n)}_pushNaN(){return this.push(E)}_pushInfinity(t){const e=t<0?A:S;return this.push(e)}_pushFloat(t){if(this.canonical){const n=new e(2);if(a.writeHalf(n,t)&&a.parseHalf(n)===t)return this._pushUInt8(d)&&this.push(n);const r=new e(4);if(r.writeFloatBE(t),r.readFloatBE()===t)return this._pushUInt8(g)&&this.push(r)}return this._pushUInt8(m)&&this._pushDoubleBE(t)}_pushInt(t,e,n){const r=e<<5;switch(!1){case!(t<24):return this._pushUInt8(r|t);case!(t<=255):return this._pushUInt8(r|u.ONE)&&this._pushUInt8(t);case!(t<=65535):return this._pushUInt8(r|u.TWO)&&this._pushUInt16BE(t);case!(t<=4294967295):return this._pushUInt8(r|u.FOUR)&&this._pushUInt32BE(t);case!(t<=Number.MAX_SAFE_INTEGER):return this._pushUInt8(r|u.EIGHT)&&this._pushUInt32BE(Math.floor(t/h))&&this._pushUInt32BE(t%h);default:return e===l.NEG_INT?this._pushFloat(n):this._pushFloat(t)}}_pushIntNum(t){return t<0?this._pushInt(-t-1,l.NEG_INT,t):this._pushInt(t,l.POS_INT)}_pushNumber(t){switch(!1){case!isNaN(t):return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case Math.round(t)!==t:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const n=e.byteLength(t,"utf8");return this._pushInt(n,l.UTF8_STRING)&&this.push(t,"utf8")}_pushBoolean(t){return this._pushUInt8(t?y:_)}_pushUndefined(t){return this._pushUInt8(v)}_pushNull(t){return this._pushUInt8(b)}_pushArray(t,e){const n=e.length;if(!t._pushInt(n,l.ARRAY))return!1;for(let r=0;r<n;r++)if(!t.pushAny(e[r]))return!1;return!0}_pushTag(t){return this._pushInt(t,l.TAG)}_pushDate(t,e){return t._pushTag(p.DATE_EPOCH)&&t.pushAny(e/1e3)}_pushBuffer(t,e){return t._pushInt(e.length,l.BYTE_STRING)&&t.push(e)}_pushNoFilter(t,e){return t._pushBuffer(t,e.slice())}_pushRegexp(t,e){return t._pushTag(p.REGEXP)&&t.pushAny(e.source)}_pushSet(t,e){if(!t._pushInt(e.size,l.ARRAY))return!1;for(let n of e)if(!t.pushAny(n))return!1;return!0}_pushUrl(t,e){return t._pushTag(p.URI)&&t.pushAny(e.format())}_pushBigint(t){let n=p.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),n=p.NEG_BIGINT);let r=t.toString(16);r.length%2&&(r="0"+r);const i=new e(r,"hex");return this._pushTag(n)&&this._pushBuffer(this,i)}_pushBigNumber(t,e){if(e.isNaN())return t._pushNaN();if(!e.isFinite())return t._pushInfinity(e.isNegative()?-1/0:1/0);if(e.isInteger())return t._pushBigint(e);if(!t._pushTag(p.DECIMAL_FRAC)||!t._pushInt(2,l.ARRAY))return!1;const n=e.decimalPlaces(),r=e.mul(new o(10).pow(n));return!!t._pushIntNum(-n)&&(r.abs().lessThan(w)?t._pushIntNum(r.toNumber()):t._pushBigint(r))}_pushMap(t,e){if(!t._pushInt(e.size,l.MAP))return!1;if(t.canonical){const n=[];for(const t of e.entries())n.push(t);n.sort((t,e)=>{const n=x.encode(t[0]),r=x.encode(e[0]);return n.compare(r)});for(const e of n)if(!t.pushAny(e[0])||!t.pushAny(e[1]))return!1}else for(const n of e)if(!t.pushAny(n[0])||!t.pushAny(n[1]))return!1;return!0}_pushObject(t){if(!t)return this._pushNull(t);for(let e=0,n=this.semanticTypes.length;e<n;e+=2){if(t instanceof this.semanticTypes[e])return this.semanticTypes[e+1].call(t,this,t)}const e=t.encodeCBOR;if("function"==typeof e)return e.call(t,this);const n=Object.keys(t),r={};if(this.canonical&&n.sort((t,e)=>{const n=r[t]||(r[t]=x.encode(t)),i=r[e]||(r[e]=x.encode(e));return n.compare(i)}),!this._pushInt(n.length,l.MAP))return!1;let i;for(let e=0,o=n.length;e<o;e++){const o=n[e];if(this.canonical&&(i=r[o])){if(!this.push(i))return!1}else if(!this._pushString(o))return!1;if(!this.pushAny(t[o]))return!1}return!0}pushAny(t){switch(typeof t){case"number":return this._pushNumber(t);case"string":return this._pushString(t);case"boolean":return this._pushBoolean(t);case"undefined":return this._pushUndefined(t);case"object":return this._pushObject(t);case"symbol":switch(t){case f.NULL:return this._pushNull(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}_pushAny(t){return this.pushAny(t)}_encodeAll(t){const e=new s;this.pipe(e);for(let e of t)void 0===e?this._pushUndefined():null===e?this._pushNull(null):this.write(e);return this.end(),e.read()}static encode(){const t=Array.prototype.slice.apply(arguments);return(new x)._encodeAll(t)}static encodeCanonical(){const t=Array.prototype.slice.apply(arguments);return new x({canonical:!0})._encodeAll(t)}}t.exports=x}).call(e,n(1).Buffer)},function(t,e){},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(t){return n(221)(n(101).Promise)}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(t){var e=new(n(222))(new(n(223)));return function(t){return e.monitor(t)}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(t){var e="from execution context:",r=/[\s\(\/\\](node|module|timers)\.js:|when([\/\\]{1,2}(lib|monitor|es6-shim)[\/\\]{1,2}|\.js)|(new\sPromise)\b|(\b(PromiseMonitor|ConsoleReporter|Scheduler|RunHandlerTask|ProgressTask|Promise|.*Handler)\.[\w_]\w\w+\b)|\b(tryCatch\w+|getHandler\w*)\b/i,i=n(41).setTimer,o=n(100),s=[];function a(t){this.logDelay=0,this.stackFilter=r,this.stackJumpSeparator=e,this.filterDuplicateFrames=!0,this._reporter=t,"function"==typeof t.configurePromiseMonitor&&t.configurePromiseMonitor(this),this._traces=[],this._traceTask=0;var n=this;this._doLogTraces=function(){n._logTraces()}}function c(t,e,n){e.length>1&&(e[0]=n,t.push.apply(t,e))}function l(t,e){return e.filter(function(e){return!t.test(e)})}function u(t){return!t.handler.handled}return a.prototype.monitor=function(t){var e=this;return t.createContext=function(t,n){t.context=e.createContext(t,n)},t.enterContext=function(t){s.push(t.context)},t.exitContext=function(){s.pop()},t.onPotentiallyUnhandledRejection=function(t,n){return e.addTrace(t,n)},t.onPotentiallyUnhandledRejectionHandled=function(t){return e.removeTrace(t)},t.onFatalRejection=function(t,n){return e.fatal(t,n)},this},a.prototype.createContext=function(t,e){var n={parent:e||s[s.length-1],stack:void 0};return o.captureStack(n,t.constructor),n},a.prototype.addTrace=function(t,e){var n,r;for(r=this._traces.length-1;r>=0&&(n=this._traces[r]).handler!==t;--r);r>=0?n.extraContext=e:this._traces.push({handler:t,extraContext:e}),this.logTraces()},a.prototype.removeTrace=function(){this.logTraces()},a.prototype.fatal=function(t,e){var n=new Error;n.stack=this._createLongTrace(t.value,t.context,e).join("\n"),i(function(){throw n},0)},a.prototype.logTraces=function(){this._traceTask||(this._traceTask=i(this._doLogTraces,this.logDelay))},a.prototype._logTraces=function(){this._traceTask=void 0,this._traces=this._traces.filter(u),this._reporter.log(this.formatTraces(this._traces))},a.prototype.formatTraces=function(t){return t.map(function(t){return this._createLongTrace(t.handler.value,t.handler.context,t.extraContext)},this)},a.prototype._createLongTrace=function(t,e,n){var r=o.parse(t)||[String(t)+" (WARNING: non-Error used)"];return r=l(this.stackFilter,r),this._appendContext(r,e),this._appendContext(r,n),this.filterDuplicateFrames?this._removeDuplicates(r):r},a.prototype._removeDuplicates=function(t){var e={},n=this.stackJumpSeparator,r=0;return t.reduceRight(function(t,i,o){return 0===o?t.unshift(i):i===n?r>0&&(t.unshift(i),r=0):e[i]||(e[i]=!0,t.unshift(i),++r),t},[])},a.prototype._appendContext=function(t,e){t.push.apply(t,this._createTrace(e))},a.prototype._createTrace=function(t){for(var e,n=[];t;)(e=o.parse(t))&&c(n,e=l(this.stackFilter,e),this.stackJumpSeparator),t=t.parent;return n},a}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(t){var e=n(100);function r(){this._previouslyReported=!1}function i(){}return r.prototype=function(){var t,e,n,r;if("undefined"==typeof console)t=e=i;else{var o=console;"function"==typeof o.error&&"function"==typeof o.dir?(e=function(t){o.error(t)},t=function(t){o.log(t)},"function"==typeof o.groupCollapsed&&(n=function(t){o.groupCollapsed(t)},r=function(){o.groupEnd()})):t=e=void 0!==o.log&&"undefined"!=typeof JSON?function(t){if("string"!=typeof t)try{t=JSON.stringify(t)}catch(t){}o.log(t)}:i}return{msg:t,warn:e,groupStart:n||e,groupEnd:r||i}}(),r.prototype.log=function(t){if(0!==t.length){this._previouslyReported=!0,this.groupStart("[promises] Unhandled rejections: "+t.length);try{this._log(t)}finally{this.groupEnd()}}else this._previouslyReported&&(this._previouslyReported=!1,this.msg("[promises] All previously unhandled rejections have now been handled"))},r.prototype._log=function(t){for(var n=0;n<t.length;++n)this.warn(e.format(t[n]))},r}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){return function(e,n,r,i){return void 0===n&&(n=t),Object.keys(i).reduce(function(t,r){var o=i[r];return"function"==typeof o?n(t,e(o),r):t},void 0===r?function(t){return"function"==typeof t?t.bind():Object.create(t)}(i):r)};function t(t,e,n){return t[n]=e,t}}.call(e,n,e,t))||(t.exports=r)}(n(2))},function(t,e,n){function r(){this._repository={}}r.prototype.register=function(t,e){this._repository[t]=e},r.prototype.isRegistered=function(t){return!!this._repository[t]},r.prototype.get=function(t){if(void 0!==this._repository[t])return this._repository[t];throw"no such transport: "+t},r.prototype.list=function(){var t=[];for(var e in this._repository)t.push(e);return t};var i=new r,o=n(226);i.register("websocket",o.Factory);var s=n(228);i.register("longpoll",s.Factory);var a=n(229);i.register("rawsocket",a.Factory),e.transports=i},function(t,e,n){(function(t){var r=n(24),i=n(13),o=n(67);function s(t){r.assert(void 0!==t.url,"options.url missing"),r.assert("string"==typeof t.url,"options.url must be a string"),t.serializers?r.assert(Array.isArray(t.serializers),"options.serializers must be an array"):(t.serializers=[new o.JSONSerializer],o.MsgpackSerializer&&t.serializers.push(new o.MsgpackSerializer)),t.protocols?r.assert(Array.isArray(t.protocols),"options.protocols must be an array"):(t.protocols=[],t.serializers.forEach(function(e){t.protocols.push("wamp.2."+e.SERIALIZER_ID)})),this._options=t}s.prototype.type="websocket",s.prototype.create=function(){var e,r,o,s=this,a={};return a.protocol=void 0,a.serializer=void 0,a.send=void 0,a.close=void 0,a.onmessage=function(){},a.onopen=function(){},a.onclose=function(){},a.info={type:"websocket",url:s._options.url,protocol:null},t.process&&t.process.versions.node?(o=n(227),s._options.protocols?(r=s._options.protocols,Array.isArray(r)&&(r=r.join(",")),e=new o(s._options.url,{protocol:r})):e=new o(s._options.url),a.send=function(t){var n=a.serializer.serialize(t);e.send(n,{binary:a.serializer.BINARY})},a.close=function(t,n){e.close()},e.on("open",function(){var t=e.protocol.split(".")[2];for(var n in s._options.serializers){var r=s._options.serializers[n];if(r.SERIALIZER_ID==t){a.serializer=r;break}}a.info.protocol=e.protocol,a.onopen()}),e.on("message",function(t,e){var n=a.serializer.unserialize(t);a.onmessage(n)}),e.on("close",function(t,e){var n={code:t,reason:e,wasClean:1e3===t};a.onclose(n)}),e.on("error",function(t){a.onclose({code:1006,reason:"",wasClean:!1})})):function(){var e;if("WebSocket"in t)(e=s._options.protocols?new t.WebSocket(s._options.url,s._options.protocols):new t.WebSocket(s._options.url)).binaryType="arraybuffer";else{if(!("MozWebSocket"in t))throw"browser does not support WebSocket or WebSocket in Web workers";e=s._options.protocols?new t.MozWebSocket(s._options.url,s._options.protocols):new t.MozWebSocket(s._options.url)}e.onmessage=function(t){i.debug("WebSocket transport receive",t.data);var e=a.serializer.unserialize(t.data);a.onmessage(e)},e.onopen=function(){var t=e.protocol.split(".")[2];for(var n in s._options.serializers){var r=s._options.serializers[n];if(r.SERIALIZER_ID==t){a.serializer=r;break}}a.info.protocol=e.protocol,a.onopen()},e.onclose=function(t){var e={code:t.code,reason:t.message,wasClean:t.wasClean};a.onclose(e)},a.send=function(t){var n=a.serializer.serialize(t);i.debug("WebSocket transport send",n),e.send(n)},a.close=function(t,n){e.close(t,n)}}(),a},e.Factory=s}).call(e,n(4))},function(t,e){},function(t,e,n){n(21);var r=n(24),i=n(13),o=n(67);function s(t){r.assert(void 0!==t.url,"options.url missing"),r.assert("string"==typeof t.url,"options.url must be a string"),this._options=t}s.prototype.type="longpoll",s.prototype.create=function(){var t=this;i.debug("longpoll.Factory.create");var e={protocol:void 0};return e.serializer=new o.JSONSerializer,e.send=void 0,e.close=void 0,e.onmessage=function(){},e.onopen=function(){},e.onclose=function(){},e.info={type:"longpoll",url:null,protocol:"wamp.2.json"},e._run=function(){var n=null,o=!1,s=t._options.request_timeout||12e3;r.http_post(t._options.url+"/open",JSON.stringify({protocols:["wamp.2.json"]}),s).then(function(a){n=JSON.parse(a);var c=t._options.url+"/"+n.transport;e.info.url=c,i.debug("longpoll.Transport: open",n),e.close=function(t,n){if(o)throw"transport is already closing";o=!0,r.http_post(c+"/close",null,s).then(function(){i.debug("longpoll.Transport: transport closed");e.onclose({code:1e3,reason:"transport closed",wasClean:!0})},function(t){i.debug("longpoll.Transport: could not close transport",t.code,t.text)})},e.send=function(t){if(o)throw"transport is closing or closed already";1,i.debug("longpoll.Transport: sending message ...",t);var n=JSON.stringify(t);r.http_post(c+"/send",n,s).then(function(){i.debug("longpoll.Transport: message sent")},function(t){i.debug("longpoll.Transport: could not send message",t.code,t.text),o=!0;var n={code:1001,reason:"transport send failure (HTTP/POST status "+t.code+" - '"+t.text+"')",wasClean:!1};e.onclose(n)})},function t(){1,i.debug("longpoll.Transport: polling for message ..."),r.http_post(c+"/receive",null,s).then(function(n){if(n){var r=JSON.parse(n);i.debug("longpoll.Transport: message received",r),e.onmessage(r)}o||t()},function(t){i.debug("longpoll.Transport: could not receive message",t.code,t.text),o=!0;var n={code:1001,reason:"transport receive failure (HTTP/POST status "+t.code+" - '"+t.text+"')",wasClean:!1};e.onclose(n)})}(),e.onopen()},function(t){i.debug("longpoll.Transport: could not open transport",t.code,t.text),o=!0;var n={code:1001,reason:"transport open failure (HTTP/POST status "+t.code+" - '"+t.text+"')",wasClean:!1};e.onclose(n)})},e._run(),e},e.Factory=s},function(t,e){},function(t,e,n){n(21),n(103);e.auth=function(t,e,n){var r=t.defer();return navigator.id.watch({loggedInUser:e,onlogin:function(t){r.resolve(t)},onlogout:function(){t.leave("wamp.close.logout")}}),r.promise.then?r.promise:r}},function(t,e,n){var r=n(232);e.sign=function(t,e){return r.HmacSHA256(e,t).toString(r.enc.Base64)},e.derive_key=function(t,e,n,i){n=n||1e3;var o={keySize:(i=i||32)/4,iterations:n,hasher:r.algo.SHA256};return r.PBKDF2(t,e,o).toString(r.enc.Base64)}},function(t,e,n){var r;r=function(t){return t},t.exports=r(n(0),n(46),n(233),n(234),n(25),n(26),n(68),n(105),n(235),n(106),n(236),n(237),n(238),n(69),n(239),n(27),n(5),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255))},function(t,e,n){var r;r=function(t){return function(){if("function"==typeof ArrayBuffer){var e=t.lib.WordArray,n=e.init;(e.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,r=[],i=0;i<e;i++)r[i>>>2]|=t[i]<<24-i%4*8;n.call(this,r,e)}else n.apply(this,arguments)}).prototype=e}}(),t.lib.WordArray},t.exports=r(n(0))},function(t,e,n){var r;r=function(t){return function(){var e=t,n=e.lib.WordArray,r=e.enc;r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return n.create(r,2*e)}};function i(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16LE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o+=2){var s=i(e[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(t){for(var e=t.length,r=[],o=0;o<e;o++)r[o>>>1]|=i(t.charCodeAt(o)<<16-o%2*16);return n.create(r,2*e)}}}(),t.enc.Utf16},t.exports=r(n(0))},function(t,e,n){var r;r=function(t){var e,n,r,i,o;return n=(e=t).lib.WordArray,r=e.algo,i=r.SHA256,o=r.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=i._doFinalize.call(this);return t.sigBytes-=4,t}}),e.SHA224=i._createHelper(o),e.HmacSHA224=i._createHmacHelper(o),t.SHA224},t.exports=r(n(0),n(105))},function(t,e,n){var r;r=function(t){var e,n,r,i,o,s,a;return n=(e=t).x64,r=n.Word,i=n.WordArray,o=e.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var t=s._doFinalize.call(this);return t.sigBytes-=16,t}}),e.SHA384=s._createHelper(a),e.HmacSHA384=s._createHmacHelper(a),t.SHA384},t.exports=r(n(0),n(46),n(106))},function(t,e,n){var r;r=function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.x64.Word,a=n.algo,c=[],l=[],u=[];!function(){for(var t=1,e=0,n=0;n<24;n++){c[t+5*e]=(n+1)*(n+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;t<5;t++)for(e=0;e<5;e++)l[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var a=0,h=0,f=0;f<7;f++){if(1&i){var p=(1<<f)-1;p<32?h^=1<<p:a^=1<<p-32}128&i?i=i<<1^113:i<<=1}u[o]=s.create(a,h)}}();var h=[];!function(){for(var t=0;t<25;t++)h[t]=s.create()}();var f=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=t[e+2*i],s=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(P=n[i]).high^=s,P.low^=o}for(var a=0;a<24;a++){for(var f=0;f<5;f++){for(var p=0,d=0,g=0;g<5;g++){p^=(P=n[f+5*g]).high,d^=P.low}var m=h[f];m.high=p,m.low=d}for(f=0;f<5;f++){var y=h[(f+4)%5],_=h[(f+1)%5],v=_.high,b=_.low;for(p=y.high^(v<<1|b>>>31),d=y.low^(b<<1|v>>>31),g=0;g<5;g++){(P=n[f+5*g]).high^=p,P.low^=d}}for(var w=1;w<25;w++){var E=(P=n[w]).high,A=P.low,S=c[w];if(S<32)p=E<<S|A>>>32-S,d=A<<S|E>>>32-S;else p=A<<S-32|E>>>64-S,d=E<<S-32|A>>>64-S;var x=h[l[w]];x.high=p,x.low=d}var C=h[0],I=n[0];C.high=I.high,C.low=I.low;for(f=0;f<5;f++)for(g=0;g<5;g++){var P=n[w=f+5*g],T=h[w],D=h[(f+1)%5+5*g],O=h[(f+2)%5+5*g];P.high=T.high^~D.high&O.high,P.low=T.low^~D.low&O.low}P=n[0];var B=u[a];P.high^=B.high,P.low^=B.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,c=a/8,l=[],u=0;u<c;u++){var h=s[u],f=h.high,p=h.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),l.push(p),l.push(f)}return new i.init(l,a)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});n.SHA3=o._createHelper(f),n.HmacSHA3=o._createHmacHelper(f)}(Math),t.SHA3},t.exports=r(n(0),n(46))},function(t,e,n){var r;r=function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),f=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,p,b,w,E,A,S,x,C,I,P=this._hash.words,T=h.words,D=f.words,O=a.words,B=c.words,k=l.words,M=u.words;E=o=P[0],A=s=P[1],S=p=P[2],x=b=P[3],C=w=P[4];for(n=0;n<80;n+=1)I=o+t[e+O[n]]|0,I+=n<16?d(s,p,b)+T[0]:n<32?g(s,p,b)+T[1]:n<48?m(s,p,b)+T[2]:n<64?y(s,p,b)+T[3]:_(s,p,b)+T[4],I=(I=v(I|=0,k[n]))+w|0,o=w,w=b,b=v(p,10),p=s,s=I,I=E+t[e+B[n]]|0,I+=n<16?_(A,S,x)+D[0]:n<32?y(A,S,x)+D[1]:n<48?m(A,S,x)+D[2]:n<64?g(A,S,x)+D[3]:d(A,S,x)+D[4],I=(I=v(I|=0,M[n]))+C|0,E=C,C=x,x=v(S,10),S=A,A=I;I=P[1]+p+x|0,P[1]=P[2]+b+C|0,P[2]=P[3]+w+E|0,P[3]=P[4]+o+A|0,P[4]=P[0]+s+S|0,P[0]=I},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function d(t,e,n){return t^e^n}function g(t,e,n){return t&e|~t&n}function m(t,e,n){return(t|~e)^n}function y(t,e,n){return t&n|e&~n}function _(t,e,n){return t^(e|~n)}function v(t,e){return t<<e|t>>>32-e}n.RIPEMD160=o._createHelper(p),n.HmacRIPEMD160=o._createHmacHelper(p)}(Math),t.RIPEMD160},t.exports=r(n(0))},function(t,e,n){var r;r=function(t){var e,n,r,i,o,s,a,c;return n=(e=t).lib,r=n.Base,i=n.WordArray,o=e.algo,s=o.SHA1,a=o.HMAC,c=o.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=a.create(n.hasher,t),o=i.create(),s=i.create([1]),c=o.words,l=s.words,u=n.keySize,h=n.iterations;c.length<u;){var f=r.update(e).finalize(s);r.reset();for(var p=f.words,d=p.length,g=f,m=1;m<h;m++){g=r.finalize(g),r.reset();for(var y=g.words,_=0;_<d;_++)p[_]^=y[_]}o.concat(f),l[0]++}return o.sigBytes=4*u,o}}),e.PBKDF2=function(t,e,n){return c.create(n).compute(t,e)},t.PBKDF2},t.exports=r(n(0),n(68),n(69))},function(t,e,n){var r;r=function(t){return t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();function n(t,e,n,r){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;r.encryptBlock(o,0);for(var s=0;s<n;s++)t[e+s]^=o[s]}return e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize;n.call(this,t,e,i,r),this._prevBlock=t.slice(e,e+i)}}),e.Decryptor=e.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,o=t.slice(e,e+i);n.call(this,t,e,i,r),this._prevBlock=o}}),e}(),t.mode.CFB},t.exports=r(n(0),n(5))},function(t,e,n){var r;r=function(t){var e,n;return t.mode.CTR=(e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[r-1]=o[r-1]+1|0;for(var a=0;a<r;a++)t[e+a]^=s[a]}}),e.Decryptor=n,e),t.mode.CTR},t.exports=r(n(0),n(5))},function(t,e,n){var r;r=function(t){return t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function n(t){if(255==(t>>24&255)){var e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}else t+=1<<24;return t}var r=e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=n(t[0]))&&(t[1]=n(t[1]))}(s);var a=s.slice(0);r.encryptBlock(a,0);for(var c=0;c<i;c++)t[e+c]^=a[c]}});return e.Decryptor=r,e}(),t.mode.CTRGladman},t.exports=r(n(0),n(5))},function(t,e,n){var r;r=function(t){var e,n;return t.mode.OFB=(e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var s=0;s<r;s++)t[e+s]^=o[s]}}),e.Decryptor=n,e),t.mode.OFB},t.exports=r(n(0),n(5))},function(t,e,n){var r;r=function(t){var e;return t.mode.ECB=((e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),e.Decryptor=e.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),e),t.mode.ECB},t.exports=r(n(0),n(5))},function(t,e,n){var r;r=function(t){return t.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,r=4*e,i=r-n%r,o=n+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Ansix923},t.exports=r(n(0),n(5))},function(t,e,n){var r;r=function(t){return t.pad.Iso10126={pad:function(e,n){var r=4*n,i=r-e.sigBytes%r;e.concat(t.lib.WordArray.random(i-1)).concat(t.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Iso10126},t.exports=r(n(0),n(5))},function(t,e,n){var r;r=function(t){return t.pad.Iso97971={pad:function(e,n){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,n)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.pad.Iso97971},t.exports=r(n(0),n(5))},function(t,e,n){var r;r=function(t){return t.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var e=t.words,n=t.sigBytes-1;!(e[n>>>2]>>>24-n%4*8&255);)n--;t.sigBytes=n+1}},t.pad.ZeroPadding},t.exports=r(n(0),n(5))},function(t,e,n){var r;r=function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding},t.exports=r(n(0),n(5))},function(t,e,n){var r;r=function(t){var e,n,r;return n=(e=t).lib.CipherParams,r=e.enc.Hex,e.format.Hex={stringify:function(t){return t.ciphertext.toString(r)},parse:function(t){var e=r.parse(t);return n.create({ciphertext:e})}},t.format.Hex},t.exports=r(n(0),n(5))},function(t,e,n){var r;r=function(t){return function(){var e=t,n=e.lib.BlockCipher,r=e.algo,i=[],o=[],s=[],a=[],c=[],l=[],u=[],h=[],f=[],p=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,r=0;for(e=0;e<256;e++){var d=r^r<<1^r<<2^r<<3^r<<4;d=d>>>8^255&d^99,i[n]=d,o[d]=n;var g=t[n],m=t[g],y=t[m],_=257*t[d]^16843008*d;s[n]=_<<24|_>>>8,a[n]=_<<16|_>>>16,c[n]=_<<8|_>>>24,l[n]=_;_=16843009*y^65537*m^257*g^16843008*n;u[d]=_<<24|_>>>8,h[d]=_<<16|_>>>16,f[d]=_<<8|_>>>24,p[d]=_,n?(n=g^t[t[t[y^g]]],r^=t[t[r]]):n=r=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],g=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],s=0;s<r;s++)if(s<n)o[s]=e[s];else{var a=o[s-1];s%n?n>6&&s%n==4&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=d[s/n|0]<<24),o[s]=o[s-n]^a}for(var c=this._invKeySchedule=[],l=0;l<r;l++){s=r-l;if(l%4)a=o[s];else a=o[s-4];c[l]=l<4||s<=4?a:u[i[a>>>24]]^h[i[a>>>16&255]]^f[i[a>>>8&255]]^p[i[255&a]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,a,c,l,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,u,h,f,p,o);n=t[e+1];t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,s,a){for(var c=this._nRounds,l=t[e]^n[0],u=t[e+1]^n[1],h=t[e+2]^n[2],f=t[e+3]^n[3],p=4,d=1;d<c;d++){var g=r[l>>>24]^i[u>>>16&255]^o[h>>>8&255]^s[255&f]^n[p++],m=r[u>>>24]^i[h>>>16&255]^o[f>>>8&255]^s[255&l]^n[p++],y=r[h>>>24]^i[f>>>16&255]^o[l>>>8&255]^s[255&u]^n[p++],_=r[f>>>24]^i[l>>>16&255]^o[u>>>8&255]^s[255&h]^n[p++];l=g,u=m,h=y,f=_}g=(a[l>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&f])^n[p++],m=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^n[p++],y=(a[h>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&u])^n[p++],_=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^n[p++];t[e]=g,t[e+1]=m,t[e+2]=y,t[e+3]=_},keySize:8});e.AES=n._createHelper(g)}(),t.AES},t.exports=r(n(0),n(25),n(26),n(27),n(5))},function(t,e,n){var r;r=function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=n.BlockCipher,o=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var r=s[n]-1;e[n]=t[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var l=i[o]=[],u=c[o];for(n=0;n<24;n++)l[n/6|0]|=e[(a[n]-1+u)%28]<<31-n%6,l[4+(n/6|0)]|=e[28+(a[n+24]-1+u)%28]<<31-n%6;l[0]=l[0]<<1|l[0]>>>31;for(n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var h=this._invSubKeys=[];for(n=0;n<16;n++)h[n]=i[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],f.call(this,4,252645135),f.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),f.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,s=this._rBlock,a=0,c=0;c<8;c++)a|=l[c][((s^i[c])&u[c])>>>0];this._lBlock=s,this._rBlock=o^a}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,f.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function p(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}e.DES=i._createHelper(h);var d=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=h.createEncryptor(r.create(t.slice(0,2))),this._des2=h.createEncryptor(r.create(t.slice(2,4))),this._des3=h.createEncryptor(r.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(d)}(),t.TripleDES},t.exports=r(n(0),n(25),n(26),n(27),n(5))},function(t,e,n){var r;r=function(t){return function(){var e=t,n=e.lib.StreamCipher,r=e.algo,i=r.RC4=n.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var s=i%n,a=e[s>>>2]>>>24-s%4*8&255;o=(o+r[i]+a)%256;var c=r[i];r[i]=r[o],r[o]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[n],t[n]=o,r|=t[(t[e]+t[n])%256]<<24-8*i}return this._i=e,this._j=n,r}e.RC4=n._createHelper(i);var s=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});e.RC4Drop=n._createHelper(s)}(),t.RC4},t.exports=r(n(0),n(25),n(26),n(27),n(5))},function(t,e,n){var r;r=function(t){return function(){var e=t,n=e.lib.StreamCipher,r=[],i=[],o=[],s=e.algo.Rabbit=n.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(n=0;n<4;n++)a.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(e){var o=e.words,s=o[0],c=o[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),h=l>>>16|4294901760&u,f=u<<16|65535&l;i[0]^=l,i[1]^=h,i[2]^=u,i[3]^=f,i[4]^=l,i[5]^=h,i[6]^=u,i[7]^=f;for(n=0;n<4;n++)a.call(this)}},_doProcessBlock:function(t,e){var n=this._X;a.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),t[e+i]^=r[i]},blockSize:4,ivSize:2});function a(){for(var t=this._X,e=this._C,n=0;n<8;n++)i[n]=e[n];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0;for(n=0;n<8;n++){var r=t[n]+e[n],s=65535&r,a=r>>>16,c=((s*s>>>17)+s*a>>>15)+a*a,l=((4294901760&r)*r|0)+((65535&r)*r|0);o[n]=c^l}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.Rabbit=n._createHelper(s)}(),t.Rabbit},t.exports=r(n(0),n(25),n(26),n(27),n(5))},function(t,e,n){var r;r=function(t){return function(){var e=t,n=e.lib.StreamCipher,r=[],i=[],o=[],s=e.algo.RabbitLegacy=n.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)a.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(e){var o=e.words,s=o[0],c=o[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),h=l>>>16|4294901760&u,f=u<<16|65535&l;r[0]^=l,r[1]^=h,r[2]^=u,r[3]^=f,r[4]^=l,r[5]^=h,r[6]^=u,r[7]^=f;for(i=0;i<4;i++)a.call(this)}},_doProcessBlock:function(t,e){var n=this._X;a.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),t[e+i]^=r[i]},blockSize:4,ivSize:2});function a(){for(var t=this._X,e=this._C,n=0;n<8;n++)i[n]=e[n];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0;for(n=0;n<8;n++){var r=t[n]+e[n],s=65535&r,a=r>>>16,c=((s*s>>>17)+s*a>>>15)+a*a,l=((4294901760&r)*r|0)+((65535&r)*r|0);o[n]=c^l}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.RabbitLegacy=n._createHelper(s)}(),t.RabbitLegacy},t.exports=r(n(0),n(25),n(26),n(27),n(5))},function(t,e,n){var r=n(99),i=n(24),o=n(13),s=n(104);function a(t,e){var n=i.htob(e.challenge),o=r.sign.detached(n,t.secretKey);return i.btoh(o)+i.btoh(n)}function c(t){return i.btoh(t.publicKey)}e.load_private_key=function(t,e){var n=i.atob(localStorage.getItem(t));return!n||e?(n=r.randomBytes(r.sign.seedLength),localStorage.setItem(t,i.btoa(n)),o.debug('new key seed "'+t+'" saved to local storage!')):o.debug('key seed "'+t+'" loaded from local storage!'),r.sign.keyPair.fromSeed(n)},e.delete_private_key=function(t){for(var e=0;e<5;++e)seed=r.randomBytes(r.sign.seedLength),localStorage.setItem(t,i.btoa(seed)),localStorage.setItem(t,""),localStorage.setItem(t,null)},e.sign_challenge=a,e.public_key=c,e.create_connection=function(t){var e=t.url,n=t.realm,r=t.authid,i=t.pkey,o=t.activation_code,l=t.request_new_activation_code,u=t.serializers;return t.debug&&(console.log(e),console.log(n),console.log(r),console.log(i),console.log(o),console.log(l),console.log(u)),authextra={pubkey:c(i),trustroot:null,challenge:null,channel_binding:null,activation_code:o,request_new_activation_code:l},new s.Connection({url:e,realm:n,authid:r,authmethods:["cryptosign"],onchallenge:function(t,e,n){if("cryptosign"==e)return a(i,n);throw"don't know how to authenticate using '"+e+"'"},authextra:authextra,serializers:t.serializers})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30),i=n(70),o=function(){function t(t,e){this.timeout=t,this.fs=e}return Object.defineProperty(t.prototype,"events",{get:function(){return this.fs.events},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this.fs.baseUrl},enumerable:!0,configurable:!0}),t.prototype.saveFile=function(t,e,n){return i.timeoutPromise(this.fs.saveFile(t,e,n),this.timeout)},t.prototype.deleteFile=function(t,e){return i.timeoutPromise(this.fs.deleteFile(t,e),this.timeout)},t.prototype.deleteDirectory=function(t,e,n){return i.timeoutPromise(this.fs.deleteDirectory(t,e,n),this.timeout)},t.prototype.loadTextFile=function(t){return i.timeoutPromise(this.fs.loadTextFile(t),this.timeout)},t.prototype.loadDirectoryTree=function(t){return i.timeoutPromise(this.fs.loadDirectoryTree(t),this.timeout)},t.prototype.loadDirectoryChildren=function(t){return i.timeoutPromise(this.fs.loadDirectoryChildren(t),this.timeout)},t.prototype.stat=function(t){return i.timeoutPromise(this.fs.stat(t),this.timeout)},t.prototype.ensureDirectory=function(t,e){return i.timeoutPromise(this.fs.ensureDirectory(t,e),this.timeout)},t.prototype.dispose=function(){r.isDisposable(this.fs)&&this.fs.dispose()},t}();e.TimeoutFileSystem=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=n(30),o=n(259),s=n(17),a=function(){function t(t,e){void 0===e&&(e={delayEvents:1,correlationWindow:1e4});var n=this;this.fs=t,this.options=e,this.eventsManager=new o.EventsManager({delay:this.options.delayEvents}),this.events=this.eventsManager.events,this.correlateOnce=new Set,this.correlateByWindow=new Set,this.baseUrl=t.baseUrl,this.eventsManager.addEventHandler({types:i.fileSystemEventNames,filter:function(t){return!!t.correlation&&(n.correlateByWindow.has(t.correlation)||n.correlateOnce.delete(t.correlation))},apply:function(){}});var r=this.eventsManager.emit.bind(this.eventsManager);i.fileSystemEventNames.forEach(function(t){return n.fs.events.on(t,r)})}return t.prototype.saveFile=function(t,e,n){return void 0===n&&(n=s.makeCorrelationId()),r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(r){switch(r.label){case 0:return this.registerCorrelation(n,!1),[4,this.fs.saveFile(t,e,n)];case 1:return[2,r.sent()]}})})},t.prototype.deleteFile=function(t,e){return void 0===e&&(e=s.makeCorrelationId()),r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(n){switch(n.label){case 0:return this.registerCorrelation(e,!0),[4,this.fs.deleteFile(t,e)];case 1:return[2,n.sent()]}})})},t.prototype.deleteDirectory=function(t,e,n){return void 0===n&&(n=s.makeCorrelationId()),r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(r){switch(r.label){case 0:return this.registerCorrelation(n,!e),[4,this.fs.deleteDirectory(t,e,n)];case 1:return[2,r.sent()]}})})},t.prototype.ensureDirectory=function(t,e){return void 0===e&&(e=s.makeCorrelationId()),r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(n){switch(n.label){case 0:return this.registerCorrelation(e,!1),[4,this.fs.ensureDirectory(t,e)];case 1:return[2,n.sent()]}})})},t.prototype.loadTextFile=function(t){return this.fs.loadTextFile(t)},t.prototype.loadDirectoryTree=function(t){return this.fs.loadDirectoryTree(t)},t.prototype.loadDirectoryChildren=function(t){return this.fs.loadDirectoryChildren(t)},t.prototype.stat=function(t){return this.fs.stat(t)},t.prototype.registerCorrelation=function(t,e){var n=e?this.correlateOnce:this.correlateByWindow;return n.add(t),setTimeout(function(){return n.delete(t)},this.options.correlationWindow),t},t}();e.NoFeedbackEventsFileSystem=a;var c=function(t){function e(e){var n=t.call(this,e)||this;return n.syncFs=e,n}return r.__extends(e,t),e.prototype.loadTextFileSync=function(t){return this.syncFs.loadTextFileSync(t)},e.prototype.loadDirectoryTreeSync=function(t){return this.syncFs.loadDirectoryTreeSync(t)},e.prototype.loadDirectoryChildrenSync=function(t){return this.syncFs.loadDirectoryChildrenSync(t)},e.prototype.loadDirectoryContentSync=function(t){return void 0===t&&(t=""),this.syncFs.loadDirectoryContentSync(t)},e.prototype.statSync=function(t){return this.syncFs.statSync(t)},e}(a);e.NoFeedbackEventsFileSystemSync=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),i=n(70),o=function(){function t(t){void 0===t&&(t={}),this.options=t,this.events=r.makeEventsEmitter(),this.eventHandlers=new Set}return t.prototype.emit=function(t){var e=this;this.options.delay?i.delayedPromise(this.options.delay).then(function(){return e._emit(t)}):this._emit(t)},t.prototype.addEventHandler=function(t,e){var n=this,r=t;e&&(r.timer=setTimeout(function(){return n.eventHandlers.delete(r)},e)),this.eventHandlers.add(r)},t.prototype.removeEventHandler=function(t){this.eventHandlers.delete(t),clearTimeout(t.timer)},t.prototype._emit=function(t){this.eventHandlers.forEach(function(e){t&&~e.types.indexOf(t.type)&&e.filter(t)&&(t=e.apply(t))}),t&&this.events.emit(t.type,t)},t}();e.EventsManager=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(56);e.PanelBase=class extends r.Component{constructor(t,e){super(t,e)}componentWillMount(){this.props.registerPanel(this)}updateTabDisplay(t,e,n,r){this.icon=this.icon&&this.icon.parentElement===t?this.icon:document.createElement("div"),this.icon.setAttribute("style",`float:left;\n                                        width:12px;\n                                        height:12px;\n                                        background-image:url(${n});\n                                        margin-left:-5px;\n                                        margin-right:5px;\n                                        background-size:12px`),this.icon.setAttribute("data-automation-id","icon"),t&&t.children&&t.children.length&&(r?t.children[1]&&t.children[1].setAttribute("style","text-decoration:underline dashed red;"):t.children[1]&&t.children[1].setAttribute("style","text-decoration:none;"),t.setAttribute("title",e),t.appendChild(this.icon))}componentWillUnmount(){this.props.unregisterPanel(this)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PREVIEW_ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAJg0lEQVR4nO3deahc9RmH8eeGSwghpCGEIEHEiqQSghURCSKSiohIkSJFRKxIkFZEgoiGNFghSBqsiEjrUo1b3W21at23uG+1aq21Vo17bYxR64LGNObtHz/DTbN5594z5z3nzPMZ8v93Bt/HuXozA5IkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIktcFQ9oDaBJOBOd/8+R7wJbAWWAM8yhBrEtdJ6otgDsFvCb4ktvv4L8GdBEcTTMqeLGm8gmkENxJ8vYPD39bjXwQLDYHUVsFcglU9Hv6Wj38TnPzNjw6SWiGYR/DZOI9/88f7hkBqg2A6wVsVHv+WIVhEMCX7aUraUgDBn/p0/Js/PiBYbAikJgnm13D8W4ZgCcHU7KcuKbi25gBsenxIcJohkLIEMwm+SgrApsfHBKcTTMt+OaTBEhyafPxbhmCpIZDqEpyYfvZbPz4hOINgevbLI23PhOwBFflu9oBtmAqcBrxBsMwQqIm6EoAmH9dUYAnwFsFyghnZg6RNuhKANpgCLKa8IzjTEKgJDED9pgCLKO8IziKYmT1Ig8sA5JkMnEJ5R3A2wU7ZgzR4DEC+ycDJwCqCcwhmZQ/S4DAAzTEZOIkSgnMNgepgAJpnErCQEoLzCHbOHqTuMgDNNQk4gRKCCwh2yR6k7jEAzTcROB54lfLZhoZAlTEA7TER+CklBBcT7Jq8Rx1gANpnInAcJQSXEOyWPUjtZQDaaxhYAPyT4DKC3bMHqX0MQPsNA8cC/yC4gmB28h61iAHojmHgGODvBFcaAo2GAeieYeBoyjuCqwn2yB6k5jIA3TUBOIryjuBagjnZg9Q8BqD7JgBHAn8juJ5gbvYgNYcBGBwTgCOAv1K+M3HP7EHKZwAGzwTgcOA5gj8S7JU9SHkMwOCaAPyIEoJbCPbOHqT6GQABHAb8hfLVavtkj1F9DIA290PgzwS3E+ybPUb9ZwC0LYcCTxHcSTAve4z6xwBoRw4BniC4m2C/7DGqngHQaBwMPEZwL8H+2WNUHQOgXhwEPEJwP8EB2WM0fgZAY3Eg8BDBSoL52WM0dgZA4zEfWEnwEMGB2WPUOwOgKhwA3E/wCMFB2WM0egZAVdofuJfgMYKDs8fo2xkA9cN+wN0ETxAckj1G22cA1E/zgDsJniI4lMieoy0ZANVhX+B2yq8ZH2YImsMAqE77ALdQ/uKRIWgAA6AMe1NC8BzB4YYgjwFQpr2AGymfUvRjwn8e6+YLribYE/g9JQRHGIL6+EKrSeYC11M+wPRIQ9B/vsBqojnAtZSPND/KEPSPL6yabA/gasqXnBxtCKrnC6o2mA1cSfki1GMIhrMHdYUBUJvsDlxBeUdwrCEYPwOgNtoduIzyjmCBIRg7A6A22w24BHiV4DiCidmD2sYAqAt2BS6mhOB4QzB6BkBdsgtwASUEJxiCb2cA1EW7AOcBqwhOJJiUPaipDIC6bGfg15QQLDQEWzMAGgSzgHMpITiJYHL2oKYwABoks4BzKCE42RAYAA2mnYCzgTcIThnkEBgADbKZwFnAWwSLCKZkD6qbAZBgBnAm5R3B4kEKgQGQRswAllPeESwZhB8NDIC0tenAMspnFs7LHtNPBkDavtmUb0Ne3tXPIujkk5IqNAwspvxo0DkGQBqdRQQLskdUzQBIo3cBwdzsEVUyANLoTQROzR5RJQMg9eZIglnZI6piAKTeTASOyx5RFQMg9e4H2QOqYgCk3nXmPwQaAKl307vyi0GdeBKSxsYASL37iCE2Zo+oggGQevdC9oCqGACpdyuzB1TFAEi9WQ+syB5RFQMg9eYahlidPaIqBkAavfWUzxDsDAMgjd7PGOKl7BFVMgDS6PyKIS7PHlE1AyDt2Abgl8DPs4f0w3D2AKnBXgN+whBPZg/pF98BSFv7CPgF8P0uHz/4DkDa3EeUrwz7DUN8mj2mDgZAgrWMHP7n2WPqZAA0yNZS/r/++YN2+JsYAA2iNYwc/hfZYzIZAA2S1ZTDv3DQD38TA6BBsJry7b8Xefj/zwCoy95j5PDXZY9pIgOgLnqXcvgrPPwdMwDqkncpX+K5giHWZ49pAwOgLnibcviXevi9MQBqszcph3+5hz82BkBt9Dojh78he0ybGQC1yevAGcBVHn41DIDa4DXK4V/j4VfLAKjJXqEc/nUefn8YADXRy4wcfie+gaepDICa5CXK4d/g4dfDAKgJXqQc/h88/HoZAGV6EVgK3OTh5zAAyvAC5fBv9vBzGQDV6XlGDl8NYABUh2cph3+rh98sBkD99Azl8G/z8JvJAKgfnqYc/h0efrMZAFXpSWApQ9yVPUSjYwBUhccph39P9hD1xgBoPB6lHP592UM0NgZAY/Ew5fAfyB6i8TEA6sWDlMN/MHmHKmIANBoPUA7/4ewhqpYB0I7cRzn8R7OHqD8MgLblHsrhP549RP1lALS5uyiH/2T2ENXDAAjgDsrhP509RPUyAIPtNsrhP5M9RDkMwGC6lXL4z2YPUS4DMDg2MnL4z2ePUTMYgO7bCNxMOfwXsseoWQxAd20EbqIc/ovZY9RMBqB7NgI3AGcwxEvZY9RsBqA7NgLXUQ7/5ewxagcD0H4bGDn8V7LHqF0MQHttAK4Blnn4GisD0D4bgKsoh/9a9hi1mwFojw3A7yiH/3r2GHWDAWi+9Ywc/pvJW9QxBqC51gOXA8s9fPWLAWie9cCllMN/O3uMus0ANMc6Rg7/3ewxGgwGIN86YAXl8N/LHqPBYgDyrAMuAs708JXFANTvC0YOf3X2GA02A1CfL4ALKYe/JnuMBN0JwH+yB+zA55TDP8vDV9N0JQCrsgdsw+fA+ZTDX5s9RtqWrgSgSb8a+ynl8M/28KU6BDMJviJSH58QLCOYnv1ySIMnuD7p8D8mWOrhS5mC+QmHfzrBtOynLimA4PYaDv9DgtMIpmY/ZUmbC2YQvNPHw1/i4UtNFswj+KzCw/+AYDHBlOynJmk0grkEqyo4/EUevtRGwTSCGwm+7vHw3yc4xcOXuiCYTXDet/xY8DXBSoIFBJOzJ0t1GcoeUJvyb/Q5wG7f/PkO8A7wNvCsH8IhSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZLUVP8DlMmaaS7F1EYAAAAASUVORK5CYII=",e.REACT_ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUqSURBVFiF7ZdbbJRVEMd/c7bd2mBFLQZDCHIp1wIp7EflKlUBS+VBISDGB3hSTBUUoe1uS7IFu6VcRALGBF+IMRKKQR+IpBBBCyG0/XaxBeQiEIGSGEQREGm3u9/40Aa73e02KQ+8MI+T/8z/f+bMOXMOPLKHbNIjYmG1i+FD80EzQZsITGoE0YRYvxpagrMwjAYu4Pbsxy9OsvSmRwHDh34J7AJZDaYBX9DGZ78ah/ParxEONmLYC7wJfE1baGdP6ZNXwFs/EzE1KDlUWmcpaXoKE/4Q+AjYyZ2+K8lsFsIZ29pJdRNR2UKVdYs19dlETROGEXxsXeylgIYixBQQ8OTF+H3B8aB7UG5ipA3VZ3A5C1iXezoWZ9cBXxGwtnVHkXwLRJ4EvR7nD3ia6EMeQjaqE3AzJ44cAG1u753urYce0BSQaJzbr4a7uh1oBrlMmK34NUEuiYK4H0CAXAXnuTh3W7Aclek4rrlEdS4whXBobYIEg1CuJmNISS5Az4KMwVuXiUnNBmcsyjSQxeDUYqJbOoC/IHjx2UMQjgCniHASGI7Ipd4JKA1ZqM5F9QnE9QfqtKB6FpFRqNqI1IG2gFHQdFT7oLwOjALG4BI3qKA6h+LQ71RNbExEE38KyoIv4bAONBeoARkB+gO/XnqP4UOrgALc6Tn4s8MxcW/bqfTjZ5TvSbvjJZyxFXgFuADMAo4huoqKSfWdwzr1gAo+exOO7kf1GJHIEALWPFS3ALMYOSQLWA4U4s8O463LpNRejs9+H29dJjusNowWIqwg8vgw4GVEPyVg5SNmGHASlaP47PUsrHbFV8AXXA1ajJh8Kiba9/1+ux9hroEeB/mTgDUf/7GnCbtPAIM6UFdw3DmsH38TX/Ab1HkWkVzcDMBv3fh/W+3pKN+h8gmVnkDXChSBfBBDDuC3biByEJUZGPUC0Op+oxM5wCCkdREADiUgU1EOxZADVFhHQYsQLUywBbSgThqJTLvOHonEYaTjvhDtaGxJ3OBiYvydBWxHZDNe+/mYAL/dD5iNaC2OVAKQ1rYbON8JdY5Iy+52AgKgPyKaR9HxgTG5yhryUN2MSHm8ALdnI8oXCLWUBqvwHe8PQCsLgcsY3gHmUdaQh3/ybSItFugS0CW40y02TL9DaegFYB4u3kVoIiXlLQBKTgzGZ3+OIwdA11Ph2XG/IHEl8gZnILodGAnyLWgOwgEqrBV47Y0IBbjTJ8QdQ//hFFozQsBB0jyrCYfWI7oYaEQpADmCyKquPdb9NPTWz8S4luDoUgQB/gY5BzoO9BTIYeAuiAFNB2Z2iD2DykjgsfYK6w4wnxHwNCWi6f4mrMz9iRI7DcN8IpGxmJQxGCcbkStgFuA49xBzC9QBzQDJRdmDSC3qnCYttZFwtBExh6hITJ5cAICLUSin2DC5GWgGDgBbKLXLQZbhOFMwcg+kDmQrldbKmHiffQ51spJRJBegOhBM/DRL9ZQTDo5BZD/wD8IZUm8XJchwDWRAMoqexrFpL3EX84uDRpeh2h8YTVQK8b8YfzegKSj/9l6A6nXQgXH+MnsYxlUD0gyEMLqPNfa4BAsYjPBX7wU4rhqQqXjrRgBQdDQDn12MQwiV33CYxr3wbITjRKnDa5dRbPcFYE19NjAF1dpkFD3/C3x2NZCPcAllJHAZWEvAsyvmf1DasACVKmAAwlmULIS9VFhLH0zAwmoXWcPmgtMfY05z/mIDexbFvxOh/a3Y2jADcY1FnaukWft6+pg8sodu/wG5IPuJUksW5wAAAABJRU5ErkJggg==",e.TYPESCRIPT_ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUqSURBVFiF7ZdbbJRVEMd/c7bd2mBFLQZDCHIp1wIp7EflKlUBS+VBISDGB3hSTBUUoe1uS7IFu6VcRALGBF+IMRKKQR+IpBBBCyG0/XaxBeQiEIGSGEQREGm3u9/40Aa73e02KQ+8MI+T/8z/f+bMOXMOPLKHbNIjYmG1i+FD80EzQZsITGoE0YRYvxpagrMwjAYu4Pbsxy9OsvSmRwHDh34J7AJZDaYBX9DGZ78ah/ParxEONmLYC7wJfE1baGdP6ZNXwFs/EzE1KDlUWmcpaXoKE/4Q+AjYyZ2+K8lsFsIZ29pJdRNR2UKVdYs19dlETROGEXxsXeylgIYixBQQ8OTF+H3B8aB7UG5ipA3VZ3A5C1iXezoWZ9cBXxGwtnVHkXwLRJ4EvR7nD3ia6EMeQjaqE3AzJ44cAG1u753urYce0BSQaJzbr4a7uh1oBrlMmK34NUEuiYK4H0CAXAXnuTh3W7Aclek4rrlEdS4whXBobYIEg1CuJmNISS5Az4KMwVuXiUnNBmcsyjSQxeDUYqJbOoC/IHjx2UMQjgCniHASGI7Ipd4JKA1ZqM5F9QnE9QfqtKB6FpFRqNqI1IG2gFHQdFT7oLwOjALG4BI3qKA6h+LQ71RNbExEE38KyoIv4bAONBeoARkB+gO/XnqP4UOrgALc6Tn4s8MxcW/bqfTjZ5TvSbvjJZyxFXgFuADMAo4huoqKSfWdwzr1gAo+exOO7kf1GJHIEALWPFS3ALMYOSQLWA4U4s8O463LpNRejs9+H29dJjusNowWIqwg8vgw4GVEPyVg5SNmGHASlaP47PUsrHbFV8AXXA1ajJh8Kiba9/1+ux9hroEeB/mTgDUf/7GnCbtPAIM6UFdw3DmsH38TX/Ab1HkWkVzcDMBv3fh/W+3pKN+h8gmVnkDXChSBfBBDDuC3biByEJUZGPUC0Op+oxM5wCCkdREADiUgU1EOxZADVFhHQYsQLUywBbSgThqJTLvOHonEYaTjvhDtaGxJ3OBiYvydBWxHZDNe+/mYAL/dD5iNaC2OVAKQ1rYbON8JdY5Iy+52AgKgPyKaR9HxgTG5yhryUN2MSHm8ALdnI8oXCLWUBqvwHe8PQCsLgcsY3gHmUdaQh3/ybSItFugS0CW40y02TL9DaegFYB4u3kVoIiXlLQBKTgzGZ3+OIwdA11Ph2XG/IHEl8gZnILodGAnyLWgOwgEqrBV47Y0IBbjTJ8QdQ//hFFozQsBB0jyrCYfWI7oYaEQpADmCyKquPdb9NPTWz8S4luDoUgQB/gY5BzoO9BTIYeAuiAFNB2Z2iD2DykjgsfYK6w4wnxHwNCWi6f4mrMz9iRI7DcN8IpGxmJQxGCcbkStgFuA49xBzC9QBzQDJRdmDSC3qnCYttZFwtBExh6hITJ5cAICLUSin2DC5GWgGDgBbKLXLQZbhOFMwcg+kDmQrldbKmHiffQ51spJRJBegOhBM/DRL9ZQTDo5BZD/wD8IZUm8XJchwDWRAMoqexrFpL3EX84uDRpeh2h8YTVQK8b8YfzegKSj/9l6A6nXQgXH+MnsYxlUD0gyEMLqPNfa4BAsYjPBX7wU4rhqQqXjrRgBQdDQDn12MQwiV33CYxr3wbITjRKnDa5dRbPcFYE19NjAF1dpkFD3/C3x2NZCPcAllJHAZWEvAsyvmf1DasACVKmAAwlmULIS9VFhLH0zAwmoXWcPmgtMfY05z/mIDexbFvxOh/a3Y2jADcY1FnaukWft6+pg8sodu/wG5IPuJUksW5wAAAABJRU5ErkJggg==",e.JAVASCRIPT_ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUqSURBVFiF7ZdbbJRVEMd/c7bd2mBFLQZDCHIp1wIp7EflKlUBS+VBISDGB3hSTBUUoe1uS7IFu6VcRALGBF+IMRKKQR+IpBBBCyG0/XaxBeQiEIGSGEQREGm3u9/40Aa73e02KQ+8MI+T/8z/f+bMOXMOPLKHbNIjYmG1i+FD80EzQZsITGoE0YRYvxpagrMwjAYu4Pbsxy9OsvSmRwHDh34J7AJZDaYBX9DGZ78ah/ParxEONmLYC7wJfE1baGdP6ZNXwFs/EzE1KDlUWmcpaXoKE/4Q+AjYyZ2+K8lsFsIZ29pJdRNR2UKVdYs19dlETROGEXxsXeylgIYixBQQ8OTF+H3B8aB7UG5ipA3VZ3A5C1iXezoWZ9cBXxGwtnVHkXwLRJ4EvR7nD3ia6EMeQjaqE3AzJ44cAG1u753urYce0BSQaJzbr4a7uh1oBrlMmK34NUEuiYK4H0CAXAXnuTh3W7Aclek4rrlEdS4whXBobYIEg1CuJmNISS5Az4KMwVuXiUnNBmcsyjSQxeDUYqJbOoC/IHjx2UMQjgCniHASGI7Ipd4JKA1ZqM5F9QnE9QfqtKB6FpFRqNqI1IG2gFHQdFT7oLwOjALG4BI3qKA6h+LQ71RNbExEE38KyoIv4bAONBeoARkB+gO/XnqP4UOrgALc6Tn4s8MxcW/bqfTjZ5TvSbvjJZyxFXgFuADMAo4huoqKSfWdwzr1gAo+exOO7kf1GJHIEALWPFS3ALMYOSQLWA4U4s8O463LpNRejs9+H29dJjusNowWIqwg8vgw4GVEPyVg5SNmGHASlaP47PUsrHbFV8AXXA1ajJh8Kiba9/1+ux9hroEeB/mTgDUf/7GnCbtPAIM6UFdw3DmsH38TX/Ab1HkWkVzcDMBv3fh/W+3pKN+h8gmVnkDXChSBfBBDDuC3biByEJUZGPUC0Op+oxM5wCCkdREADiUgU1EOxZADVFhHQYsQLUywBbSgThqJTLvOHonEYaTjvhDtaGxJ3OBiYvydBWxHZDNe+/mYAL/dD5iNaC2OVAKQ1rYbON8JdY5Iy+52AgKgPyKaR9HxgTG5yhryUN2MSHm8ALdnI8oXCLWUBqvwHe8PQCsLgcsY3gHmUdaQh3/ybSItFugS0CW40y02TL9DaegFYB4u3kVoIiXlLQBKTgzGZ3+OIwdA11Ph2XG/IHEl8gZnILodGAnyLWgOwgEqrBV47Y0IBbjTJ8QdQ//hFFozQsBB0jyrCYfWI7oYaEQpADmCyKquPdb9NPTWz8S4luDoUgQB/gY5BzoO9BTIYeAuiAFNB2Z2iD2DykjgsfYK6w4wnxHwNCWi6f4mrMz9iRI7DcN8IpGxmJQxGCcbkStgFuA49xBzC9QBzQDJRdmDSC3qnCYttZFwtBExh6hITJ5cAICLUSin2DC5GWgGDgBbKLXLQZbhOFMwcg+kDmQrldbKmHiffQ51spJRJBegOhBM/DRL9ZQTDo5BZD/wD8IZUm8XJchwDWRAMoqexrFpL3EX84uDRpeh2h8YTVQK8b8YfzegKSj/9l6A6nXQgXH+MnsYxlUD0gyEMLqPNfa4BAsYjPBX7wU4rhqQqXjrRgBQdDQDn12MQwiV33CYxr3wbITjRKnDa5dRbPcFYE19NjAF1dpkFD3/C3x2NZCPcAllJHAZWEvAsyvmf1DasACVKmAAwlmULIS9VFhLH0zAwmoXWcPmgtMfY05z/mIDexbFvxOh/a3Y2jADcY1FnaukWft6+pg8sodu/wG5IPuJUksW5wAAAABJRU5ErkJggg==",e.STYLABLE_ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAQCAYAAADJViUEAAAAAXNSR0IArs4c6QAAAppJREFUKBV9k01IVFEUgM+977350eeMM5YjhEoTLXLChYKZUbYo25SFokUu+nNRi6DaiLkJimplBBGRm5ICg4RsYYvSomiRUJNoiiVBiqD4M86Y89689+69natNTFKe9w7n3XvOd+65955HIEMuf28OpZaTNwSQOtRZQmlje6QzmhHy16eaHp3/fKYiHme9XHjyhADA1w+EtqD/WDpmrV2Bmz+eq1y24aXgQkcIhUpYUFB61gKZY+Vk9EJuylRf2UzNt7kKDtPA5prjMPX0o6rbjzEJIZjtzUoxmShOLv10X0tarmLDdoNpeyCJdnbed/HJ7vbO7lCk9k5gcywUCBufinb1iEhDQSZOEWw0HQ+CbpAJRgdyrX5f9T0ZFONWqw3MP2MZrqcz47VzVuKLKK3fkU5ATctDDFxRJojNuWC8X2gwNKTIgBxF7ZU2ZlowmIrDw+mRIONWnyitq5Tz1GRZ3QaCBvPA2AsTRCxOApPwXDqPTo9eDWfp13PdGl8CB6LGAnDg2ZigS5Q3+CnzBNtSStaUQbPBmGMAixMQG3ZqfC13P4AQ5MjUSFuJz3erRNEhqGgSBga82LaSV+jAvhPzKSXnuEG8hhrG88hBTQEkfjgVetv9Z7KCLdNfWwOaxg9vKAJBBF6jTCHqqHSOHmh6m1Ky9+tVGxNQWCw3K6fxypRCab0QIVt1P9+ZF0IYQVS02Ae/ZaKm/j0vytvmrc5/R4IapwF3kud7z0q3EXZdqi3YpK6uyFYSEMK68P7Xl0RZ9SnCoAN7XSGw+mD7jumglq/W9x8+XranCQ/tARZJkcO9yn6DRUrhoHuwb/JP2f/iGbBDqEQekjxjbPkZSshePfp6UMavCxNF3ETwmwC2ICjpwF90exqU8C/T0SC3r6JSGQAAAABJRU5ErkJggg==",e.getIcon=function(t){return t.endsWith(".st.css")?e.STYLABLE_ICON:t.endsWith(".jsx")||t.endsWith(".tsx")?e.REACT_ICON:t.endsWith(".ts")?e.TYPESCRIPT_ICON:t.endsWith("js")?e.JAVASCRIPT_ICON:""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(52);e.exposeStage=async function(t,e){return await r.connect(t,e)},e.exposeServices=async function(t,e){const n={generateCompiledCode:t.generateCompiledCode.bind(t),generateResolutionMap:t.generateResolutionMap.bind(t)};return await r.connect(e,n)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7),i=n(16);function o(t,e,n=!1,r){return s({component:t,targetPath:e,props:r,isClosable:n})}function s(t){return{component:t.component,targetPath:t.targetPath,id:t.id||t.component+":"+t.targetPath,props:t.props,isClosable:t.isClosable,title:t.title||r.basename(t.targetPath),width:t.width}}function a(t){return l(t)?{type:t.type,content:function(t){let e=[];return t.forEach(t=>{i.isArray(t)?e=e.concat(t):e.push(t)}),e}(t.content.map(a))}:-1!==t.targetPath.indexOf(",")?t.targetPath.split(",").map(e=>(e=e.trim(),s({component:t.component,targetPath:e,isClosable:t.isClosable,props:t.props,title:t.title}))):s(t)}function c(t,e){return{component:t,targetPath:e}}function l(t){return"row"===t.type||"column"===t.type||"stack"===t.type}e.getPanelConfig=o,e.normalizePanelConfig=s,e.normalizePlaygroundLayout=function(t){return a(t)},e.normalizePlaygroundLayoutRecurse=a,e.minConfigFromPath=c,e.isPanelConfig=function(t){return!!t.component},e.isPlaygroundLayout=l,e.monacoPreviewLayout=function(t,e,n={}){const{filePanelPath:r,outputPanelPath:i}=n;let a=[];return void 0!==r&&a.push(s({component:"file-panel",targetPath:r,props:{previewPath:t},isClosable:!0,title:"Browse",width:18})),a.push({type:"stack",content:e.map(t=>c("code-editor",t))}),a.push(c("preview",t)),i&&a.push(o("output-panel",i,!0,{})),{type:"row",content:a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(36);e.SELECTION_EVENTS={CODE_HOVER_CHANGED:"codeHoverChanged",CODE_SELECTION_CHANGED:"codeSelectionChange",CODE_OVERRIDE_CHANGED:"codeOverrideChange"};e.SelectionManager=class{constructor(){this.events=new r.EventEmitter}setCodeSelection(t){this.currentCodeSelection=t,this.events.emit(e.SELECTION_EVENTS.CODE_SELECTION_CHANGED,{item:t})}setCodeHover(t){this.currentHover=t,this.events.emit(e.SELECTION_EVENTS.CODE_HOVER_CHANGED,{item:t})}setCodeOverride(t){this.currentOverride=t,this.events.emit(e.SELECTION_EVENTS.CODE_OVERRIDE_CHANGED,{item:t})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(16);function i(t){return{endColumn:t.end.character+1,endLineNumber:t.end.line+1,startColumn:t.start.character+1,startLineNumber:t.start.line+1}}function o(t){return{character:t.column-1,line:t.lineNumber-1}}function s(t,e){return{textDocument:{uri:decodeURIComponent("/"+t.uri.toString())},position:o(e)}}e.translateRangeLSPToMonaco=i,e.translateDiagnostic=function(t){return Object.assign({},i(t.range),{code:t.code&&"null"!==t.code.toString()?t.code.toString():"Error",severity:5,message:t.message,source:t.source||"source"})},e.translateCompletion=function(t){return{label:t.label,range:i(t.textEdit.range),insertText:{value:t.textEdit.newText},kind:monaco.languages.CompletionItemKind.Text,sortText:t.sortText}},e.translateSeverity=function(t){return t?t>0?1:3:1},e.translatePosMonToLSP=o,e.translateLocationArrLSPToMon=function(t){return r.isArray(t)||(t=[t]),t.map(t=>({uri:monaco.Uri.parse(t.uri),range:i(t.range)}))},e.getTextPositionParams=s,e.getTextReferenceParams=function(t,e){return Object.assign({},s(t,e),{context:{includeDeclaration:!0}})}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(o).concat([i]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){var r,i,o={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),a=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),c=null,l=0,u=[],h=n(512);function f(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(_(r.parts[s],e))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(_(r.parts[s],e));o[r.id]={id:r.id,refs:1,parts:a}}}}function p(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function d(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,i)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function m(t){var e=document.createElement("style");return t.attrs.type="text/css",y(e,t.attrs),d(t,e),e}function y(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function _(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var s=l++;n=c||(c=m(e)),r=w.bind(null,n,s,!1),i=w.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",y(e,t.attrs),d(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=h(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return f(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var s=n[i];(a=o[s.id]).refs--,r.push(a)}t&&f(p(t,e),e);for(i=0;i<r.length;i++){var a;if(0===(a=r[i]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete o[a.id]}}}};var v,b=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function w(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(488)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(152),i=n(56),o=n(489),s=n(517),a=n(518);async function c(t,e,n=!1){let a=await s.getProjectFilesText(e.projectFilesPath);const c=JSON.parse(a),l=window.comp=r.render(i.createElement(o.Playground,{layout:e.layout,projectFiles:c,monacoPath:"https://static.parastorage.com/unpkg/monaco-editor-core@0.10.1/min",codePath:e.codePath,recipePath:e.recipePath,style:e.style,allowFullScreen:e.allowFullscreen}),t);n&&setInterval(async()=>{const t=await s.getProjectFilesText(e.projectFilesPath);if(t!==a){a=t;const e=JSON.parse(a);l.setProjectFiles({src:e.src})}},50)}function l(){const t=document.querySelectorAll("Wix-playground");if(t.length){if(t.length>1)throw new Error("multiple playgrounds in the same page are not supported");const e=t[0],n=e.getAttribute("data-code-path"),r=e.getAttribute("data-recipe-path"),i=e.getAttribute("data-project-files"),o=e.getAttribute("data-layout"),s=e.getAttribute("data-allow-fullscreen"),l=a.getUrlParams();c(t[0],{codePath:n,recipePath:r,projectFilesPath:i,style:{height:"100%"},allowFullscreen:!("false"===s),layout:JSON.parse(o)},!!l.watch)}}e.initPlayground=c,e.loadPlayground=l,l()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(56),i=n(490),o=n(152);n(491);const s=n(328),a=n(492),c=n(493),l=n(155),u=n(501),h=n(515),f=n(516);e.Playground=class extends r.Component{constructor(){super(...arguments),this.registry=new a.Registry,this.state={connectionInited:!1,fullscreen:!1},this.getScriptPath=(t=>location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+this.props.codePath+"/"+t),this.onResize=(()=>{this.layout.updateSize()}),this.toggleFullscreen=(()=>{this.setState({fullscreen:!this.state.fullscreen},this.onResize)}),this.openOrFocusPanel=((t,e)=>{if(this.registry.provider.getPanel(t,e)){let n=this.getPanelItem(t,e);for(;n.parent;)n.parent.setActiveContentItem&&n.parent.setActiveContentItem(n),n=n.parent}else this.layout.root.contentItems[0].addChild(u.injectDepsToLayout(this.registry,this.getScriptPath,this.getPanelConfig(t,e,!0)))})}async setProjectFiles(t){const e=await this.registry.provider.getDependency("servicesManager");h.addContentAsync(t,e.fs)}render(){return r.createElement("div",Object.assign({},i.default("root",{fullscreen:this.state.fullscreen},this.props),{style:this.props.style||{}}),r.createElement("div",Object.assign({},i.default("golden"),{ref:"golden"})),r.createElement("div",Object.assign({},i.default("toolbar")),this.props.allowFullScreen?r.createElement("button",Object.assign({},i.default("toggle-fullscreen"),{onClick:this.toggleFullscreen}),r.createElement("span",Object.assign({},i.default("toggle-span")))):null))}async componentDidMount(){window.addEventListener("resize",this.onResize),c.registerCommons(l.noLogger,this.registry,f.getWorkerEndpoint(this.getScriptPath("services.bundle.js"),this.props.recipePath,this.props.projectFiles),this.props.monacoPath,this.openOrFocusPanel),this.setState({connectionInited:!0}),window.ReactDOM=o,window.React=r,this.layout=u.initLayout(this.refs.golden,this.props.layout,this.registry,this.getScriptPath)}componentWillUnmount(){this.registry.dispose(),window.removeEventListener("resize",this.onResize),this.layout.destroy()}getPanelConfig(t,e,n=!1){return s.getPanelConfig(t,e,n,Object.assign({},this.registry.getPanelApi(t,e),{provider:this.registry.provider,currentPath:e,getScriptPath:this.getScriptPath}))}getPanelItem(t,e){return this.layout.root.getItemsById(t+":"+e)[0]}},e.PLAYGROUND_RECIPE_PATH="/dist/playground-recipe.json",e.STUDIO_RECIPE_PATH="/dist/studio-recipe.json"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),t.exports.default=n(126).create("root","playground1951724333",{root:"playground1951724333--root",golden:"playground1951724333--golden",toolbar:"playground1951724333--toolbar","toggle-fullscreen":"playground1951724333--toggle-fullscreen",backgroundColor:"#2A2B41",tabsBackground:"#0D0D12",tabFontColor:"#596A9E",tabBorder:"black",tabSelectedBottomBorderColor:"#9D507F",tabSelectedFontColor:"white",fontFamily:"HelveticaNeueW01-45Ligh, HelveticaNeueW02-45Ligh, HelveticaNeueW10-45Ligh, Helvetica Neue, Helvetica, Arial, メイリオ, meiryo, ヒラギノ角ゴ pro w3, hiragino kaku gothic pro, sans-serif"},null,t.i)},function(t,e,n){"use strict";const r=document.createElement("link");r.rel="stylesheet",r.href="//static.parastorage.com/services/third-party/fonts/Helvetica/fontFace.css",document.head.appendChild(r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Registry=class{constructor(){this.servicesProviderMap={},this.servicesMap={},this.panelMap={},this.provider={getDependency:async t=>{let e=this.servicesMap[t];return e||this.servicesProviderMap[t]&&(e=this.servicesProviderMap[t](this.provider),this.servicesMap[t]=e),await e||null},getPanel:(t,e)=>this.panelMap[t]?this.panelMap[t][e]:null}}getPanelApi(t,e){return{registerPanel:n=>{this.panelMap[t]=this.panelMap[t]||{},this.panelMap[t][e]=n},unregisterPanel:n=>{if(!this.panelMap[t]||!this.panelMap[t][e]||this.panelMap[t][e]!==n)throw new Error("trying to unregister unknown panel");delete this.panelMap[t][e]}}}registerDependencyProvider(t,e){this.servicesProviderMap[t]=e}registerDependency(t,e){this.servicesMap[t]=Promise.resolve(e)}dispose(){Object.values(this.servicesMap).forEach(async t=>{let e=await t;e.dispose&&e.dispose()})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(329),i=n(494),o=n(495),s=n(496),a=n(500);e.registerCommons=function(t,e,n,c,l){e.registerDependencyProvider("servicesManager",async()=>{const e=new i.ServicesClient(t);return await e.init(n),e}),e.registerDependencyProvider("selectionManager",async t=>new r.SelectionManager),e.registerDependencyProvider("fileSystem",async t=>(await t.getDependency("servicesManager")).fs),e.registerDependencyProvider("rabbit",async t=>{const e=await t.getDependency("servicesManager");return new a.RabbitOverservicesManager(e)}),e.registerDependencyProvider("monaco",o.monacoProvider.bind(null,c)),e.registerDependencyProvider("kissFSMonaco",async t=>{const e=await t.getDependency("monaco"),n=await t.getDependency("servicesManager"),r=await t.getDependency("selectionManager"),i=new s.KissFSMonaco(e,n,r,async e=>(l("code-editor",e),t.getPanel("code-editor",e).kissFsMonacoEditor));return await i.ready,i}),e.registerDependency("openOrFocusPanel",l)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(50),i=n(51),o=n(52),s=n(128),a=()=>{throw new Error("implement")};function c(t,e){return{events:e,baseUrl:"",stat:t.stat.bind(t),saveFile:t.saveFile.bind(t),deleteFile:t.deleteFile.bind(t),deleteDirectory:t.deleteDirectory.bind(t),loadTextFile:t.loadTextFile.bind(t),loadDirectoryTree:t.loadDirectoryTree.bind(t),loadDirectoryChildren:t.loadDirectoryChildren.bind(t),ensureDirectory:t.ensureDirectory.bind(t)}}e.ServicesClient=class{constructor(t){this.logger=t,this.events=new i.EventEmitter,this.languagesReady=new Promise(async t=>{this.languageReadyResolver=t})}async init(t){this.remote=t;let e=(n=this.logger,i=this.events,{log(t){n.log(t)},error(t){n.error(t)},info(t){n.info(t)},warn(t){n.warn(t)},initLanguages:(l={completionHandler:a,definitionHandler:a,referencesHandler:a,didChangeHandler:a,signatureHandler:a,didOpenHandler:a,hoverHandler:a,initializeHandler:t=>{this.languageReadyResolver(t)}}).initializeHandler.bind(l),handleFSEvent:t=>{i.emit(t.type,t)},sendDiagnostics(t,e){i.emit(r.ConnectionEvents.DIAGNOSTICS,e,t)},async compiledChanged(t){i.emit(r.ConnectionEvents.COMPILED_CHANGED,{changedFiles:t})}});var n,i,l;this.remoteApi=await o.connect({target:t.endPoint,thisSideId:"main",otherSideId:"worker"},e),this.fs=new s.CacheFileSystem(c(this.remoteApi,this.events)),await this.languagesReady}dispose(){o.disposeConnection(this.remoteApi),this.remote.dispose()}},e.getFSProxy=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let r=null;e.monacoProvider=async function(t){return window.MonacoEnvironment={getWorkerUrl:function(t,e){const n=new Blob([""]);return URL.createObjectURL(n)}},r=r||new Promise(e=>{window.setPlaygroundMonaco=e;const n=document.createElement("script");n.type="text/javascript",n.setAttribute("src",`${t}/vs/loader.js`),n.onload=(()=>{const e=document.createElement("script");e.type="text/javascript";const n=document.createTextNode(` \n            require.config({ paths: { 'vs': '${t}/vs' }});\n            require(["vs/editor/editor.main"], window.setPlaygroundMonaco);\n            `);e.appendChild(n),document.head.appendChild(e)}),document.head.appendChild(n)}),await r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(330),i=n(50),o=n(155),s=n(16),a=n(497),c=n(499);e.KissFSMonaco=class{constructor(t,e,n,a){this.mon=t,this.servicesManager=e,this.selectionManager=n,this.getEditor=a,this.disposables=[],this.languages={},this.editors=[],this.getCompletionProvider=(t=>async(e,n,i)=>{const s=await this.servicesManager.remoteApi.getCompletions(t,r.getTextPositionParams(e,n));return o.getCompletionArray(s).map(r.translateCompletion)}),this.getDefinitionProvider=(t=>async(e,n,i)=>{const o=await this.servicesManager.remoteApi.getDefinition(t,r.getTextPositionParams(e,n));return r.translateLocationArrLSPToMon(o)}),this.getHoverProvider=(t=>async(e,n,i)=>{const o=await this.servicesManager.remoteApi.getHover(t,r.getTextPositionParams(e,n));if(!o)return{range:{endColumn:0,endLineNumber:0,startColumn:0,startLineNumber:0},contents:[]};let a=o.contents;return s.isArray(a)||(a=[a]),{range:r.translateRangeLSPToMonaco(o.range||{start:{line:0,character:0},end:{line:0,character:0}}),contents:a}}),this.getSignatureHelpProvider=(t=>async(e,n,i)=>{const o=await this.servicesManager.remoteApi.getSignatureHelp(t,r.getTextPositionParams(e,n));return o?{activeParameter:o.activeParameter||0,activeSignature:o.activeSignature||0,signatures:o.signatures.map(t=>({documentation:t.documentation,label:t.label,parameters:t.parameters||[]}))}:{activeParameter:0,activeSignature:0,signatures:[]}}),this.getRefrencesProvider=(t=>async(e,n,i,o)=>{const s=await this.servicesManager.remoteApi.getReferences(t,r.getTextReferenceParams(e,n));return r.translateLocationArrLSPToMon(s)}),this.servicesManager.events.addListener(i.ConnectionEvents.DIAGNOSTICS,(t,e)=>{const n=t.diagnostics.map(r.translateDiagnostic);this.editors.forEach(r=>{r.updateDiagnostics(e,n,t.uri.startsWith("/")?t.uri.slice(1):t.uri)})}),this.ready=this.init()}async init(){const t=await this.servicesManager.languagesReady;this.modelService=new c.TextModelService(this.servicesManager.fs,this),Object.keys(t).forEach(e=>{const n=t[e];this.registerLanguage(e,n.capabilities,n.extensions,n.languageConfig,n.monarchConfig,n.tokenProvider)})}dispose(){this.editors.forEach(t=>t.dispose()),this.modelService.dispose(),this.disposables.forEach(t=>t.dispose())}_getMonacoForTests(){return this.mon}create(t,e,n="vs-dark"){const r=new a.KissFSMonacoEditor(this.mon,this,t,this.servicesManager.fs,e,n,this.getEditor);return this.editors.push(r),r}onEditorDispose(t){const e=this.editors.indexOf(t);-1!==e&&this.editors.splice(e,1)}registerLanguage(t,e,n,r,i,o){this.languages[t]={extensions:n},this.mon.languages.register({id:t}),i&&this.mon.languages.setMonarchTokensProvider(t,i),o&&this.mon.languages.setTokensProvider(t,o),r&&this.mon.languages.setLanguageConfiguration(t,r),this.servicesManager&&(e.completionProvider&&this.disposables.push(this.mon.languages.registerCompletionItemProvider(t,{provideCompletionItems:this.getCompletionProvider(t),triggerCharacters:e.completionProvider.triggerCharacters})),e.definitionProvider&&this.disposables.push(this.mon.languages.registerDefinitionProvider(t,{provideDefinition:this.getDefinitionProvider(t)})),e.hoverProvider&&this.disposables.push(this.mon.languages.registerHoverProvider(t,{provideHover:this.getHoverProvider(t)})),e.referencesProvider&&this.disposables.push(this.mon.languages.registerReferenceProvider(t,{provideReferences:this.getRefrencesProvider(t)})),e.signatureHelpProvider&&this.disposables.push(this.mon.languages.registerSignatureHelpProvider(t,{provideSignatureHelp:this.getSignatureHelpProvider(t),signatureHelpTriggerCharacters:e.signatureHelpProvider.triggerCharacters})))}getRegisteredLanguage(t){return Object.keys(this.languages).find(e=>!!this.languages[e].extensions.find(e=>t.endsWith(e)))||o.UnknownLang}async onTextDocOpened(t,e){if(this.servicesManager){const n=this.getRegisteredLanguage(t);n!==o.UnknownLang&&await this.servicesManager.remoteApi.handleDidOpen(n,{textDocument:{text:e,languageId:n,uri:"/"+t,version:0}})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(40),i=n(498),o=n(36),s=n(50),a=t=>({lineNumbers:"on",lineNumbersMinChars:4,scrollBeyondLastLine:!1,fontSize:11,automaticLayout:!0,minimap:{enabled:!1},quickSuggestionsDelay:50,theme:t});e.KissFSMonacoEditor=class{constructor(t,e,n,a,c,l="vs-dark",u){this.monacoLib=t,this.KM=e,this.element=n,this.theme=l,this.getEditor=u,this.events=new o.EventEmitter,this.fileChanged=(t=>{t.fullPath===this.currentPath&&!this.updatingFs&&this.editor&&(this.updatingEditor=!0,this.editor.setValue(t.newContent),this.updatingEditor=!1)}),this.updatingEditor=!1,this.updatingFs=!1,this.editorUpdated=(async()=>{this.updatingEditor||(this.updatingFs=!0,this.updatingTimeout&&clearTimeout(this.updatingTimeout),await this.fs.saveFile(this.currentPath,this.editor.getValue()),this.updatingTimeout=setTimeout(()=>{this.updatingFs=!1},3e3))}),this.selectionUpdated=(t=>{this.events.emit(s.EditorEvents.CURSOR_POSITION_CHANGED,t.position)}),this.currentPath=c,this.fs=new r.NoFeedbackEventsFileSystem(a,{delayEvents:0,correlationWindow:2e5}),this.fs.events.on("fileChanged",this.fileChanged),u=u||(async t=>(await this.setEditedFile(t),this)),this.editorService=new i.EditorService(this.fs,this,u),this.ready=this.reCreate(this.element)}async reCreate(t){await this.recreateModel(this.currentPath),this.editor=this.monacoLib.editor.create(t,Object.assign({model:this.monacoModel.object.textEditorModel,language:this.KM.getRegisteredLanguage(this.currentPath)},a(this.theme)),{textModelService:this.KM.modelService,editorService:this.editorService}),await this.KM.onTextDocOpened(this.currentPath,this.monacoModel.object.textEditorModel.getValue()),this.editor.onDidChangeModelContent(this.editorUpdated),this.editor.onDidChangeCursorPosition(this.selectionUpdated),this.editor.onMouseMove(t=>{this.events.emit(s.EditorEvents.MOUSE_POSITION_CHANGED,t.target?t.target.position:void 0)}),this.events.emit(s.EditorEvents.EDITED_FILE_CHANGED,this.currentPath)}async recreateModel(t){this.monacoModel&&this.monacoModel.dispose(),this.monacoModel=await this.KM.modelService.createModelReference(monaco.Uri.parse(t)),monaco.editor.setModelMarkers(this.monacoModel.object.textEditorModel,this.monacoModel.object.langauge,[])}getEditedFile(){return this.currentPath}async setEditedFile(t){this.currentPath=t,this.events.emit(s.EditorEvents.EDITED_FILE_CHANGED,this.currentPath);const e=await this.fs.loadTextFile(this.currentPath);await this.recreateModel(this.currentPath),this.editor.setModel(this.monacoModel.object.textEditorModel),await this.KM.onTextDocOpened(this.currentPath,e)}_getEditorForTests(){return this.editor}getValue(){return this.editor.getValue()}dispose(){this.editor.dispose(),this.KM.onEditorDispose(this)}updateDiagnostics(t,e,n){if(this.currentPath!==n||!this.editor)return;const r=this.editor.getModel();monaco.editor.setModelMarkers(r,t,e),this.events.emit(s.EditorEvents.DIAGNOSTICS_CHANGED,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.EditorService=class{constructor(t,e,n){this.fs=t,this.kissFsMonacoEditor=e,this.getEditor=n,this._serviceBrand="core3"}async openEditor(t,e){const n=t.resource.path.startsWith("/")?t.resource.path.slice(1):t.resource.path,r=await this.getEditor(n);await r.ready;const i=r._getEditorForTests();let o=t.options.selection;if(i.focus(),o)if("number"==typeof o.endLineNumber&&"number"==typeof o.endColumn)i.setSelection(o),i.revealRangeInCenter(o);else{let t={lineNumber:o.startLineNumber,column:o.startColumn};i.setPosition(t),i.revealPositionInCenter(t)}return{getControl:()=>r._getEditorForTests()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(155);class i extends r.ReferenceCollection{constructor(t,e){super(),this.fs=t,this.kissFsMonaco=e}async createReferencedObject(t){const e=monaco.Uri.parse(t),n=await this.fs.loadTextFile(t),r=this.kissFsMonaco.getRegisteredLanguage(t);return{textEditorModel:monaco.editor.createModel(n,r,e),langauge:r}}destroyReferencedObject(t){t.then(t=>{monaco.editor.setModelMarkers(t.textEditorModel,t.langauge,[]),t.textEditorModel.dispose()})}}e.TextModelService=class{constructor(t,e){this.fs=t,this.kissFsMonaco=e,this.resourceModelCollection=new i(t,e)}async createModelReference(t){const e=this.resourceModelCollection.acquire(t.path);return e.object.then(t=>({object:t,dispose:()=>e.dispose()}),t=>(e.dispose(),Promise.reject(t)))}dispose(){this.resourceModelCollection.dispose()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(50);e.RabbitOverservicesManager=class{constructor(t){this.servicesManager=t,this.generateCompiledCode=this.servicesManager.remoteApi.generateCompiledCode,this.generateResolutionMap=this.servicesManager.remoteApi.generateResolutionMap,this.playgroundRender=(()=>Promise.resolve()),this.changeListener=(async t=>await this.playgroundRender(t.changedFiles)),this.servicesManager.events.on(r.ConnectionEvents.COMPILED_CHANGED,this.changeListener)}setRender(t){this.playgroundRender=t}dispose(){this.servicesManager.events.removeListener(r.ConnectionEvents.COMPILED_CHANGED,this.changeListener)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(152),i=n(56),o=n(502),s=n(504),a=n(506),c=n(508),l=n(328);function u(t,e,n){return l.isPlaygroundLayout(n)?{content:n.content.map(u.bind(null,t,e)),type:n.type}:{type:"react-component",component:n.component,id:n.id,isClosable:n.isClosable,title:n.title,width:n.width,props:Object.assign({},n.props,t.getPanelApi(n.component,n.targetPath),{provider:t.provider,currentPath:n.targetPath,getScriptPath:e})}}n(510),n(513),e.initLayout=function(t,e,n,h){window.ReactDOM=r,window.React=i;const f=new c({settings:{showPopoutIcon:!1,selectionEnabled:!0},dimensions:{headerHeight:36},content:[u(n,h,l.normalizePlaygroundLayout(e))]},t);return f.registerComponent("preview",o.PreviewPanel),f.registerComponent("code-editor",s.CodePanel),f.registerComponent("file-panel",a.FilePanel),setTimeout(()=>{f.init(),f.updateSize()},0),f},e.injectDepsToLayout=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(56),i=n(503),o=n(52),s=n(130),a=n(50),c=n(260),l=n(329),u=n(261),h=n(262),f={named:{}};e.PreviewPanel=class extends c.PanelBase{constructor(){super(...arguments),this.state={codeHover:{item:void 0,selectorTargets:[]},codeSelection:{item:void 0,selectorTargets:[]},descriptionVersion:0,currentExport:"",selectedSimulation:""},this.moduleDescription=f,this.refreshFrame=(async()=>{if(this.refs.frame.contentWindow){const t=await this.props.provider.getDependency("rabbit");this.stage=await h.exposeServices(t,{thisSideId:"main",otherSideId:"preview",target:o.windowEndpoint(this.refs.frame.contentWindow)}),await this.onRequestRender({}),t.setRender(this.onRequestRender)}else setTimeout(this.refreshFrame,20)}),this.updateTab=(t=>{if(!t)return;let e=u.PREVIEW_ICON;this.updateTabDisplay(t.element[0],this.props.currentPath,e,!1)}),this.magicBlob="",this.onRequestRender=(async t=>{if(this.stage)if(this.state.currentExport){const e=this.moduleDescription.named[this.state.currentExport],n=e.preview_plugins&&e.preview_plugins.length?e.preview_plugins[0]:null,r=this.getExportsSimulation(this.state.currentExport,this.state.selectedSimulation);n&&await this.requestStageRender(t,[{exportName:this.state.currentExport,renderer:n,simulation:r}])}else await this.requestStageRender(t,this.getAllPreviewables())}),this.fileChanged=(t=>{}),this.updateModuleDescription=(async()=>{let t;try{t=await this.servicesManager.remoteApi.getModuleDescription("typescript","/"+this.props.currentPath)}catch(e){t=f}t&&!a.isResponseError(t)||(t=f),this.moduleDescription=t;const e=this.getExports();let n="",r="";e.length>1?r=(n=this.state.currentExport&&e.find(t=>t.name===this.state.currentExport)?this.state.currentExport:"")&&this.state.selectedSimulation&&this.hasSim(n,this.state.selectedSimulation)?this.state.selectedSimulation:"":1==e.length&&(this.getRendererForSchema(e[0].schema),n=e[0].name,r=this.state.currentExport===n&&this.state.selectedSimulation&&this.hasSim(n,this.state.selectedSimulation)?this.state.selectedSimulation:""),this.setState({descriptionVersion:this.state.descriptionVersion+1,currentExport:n,selectedSimulation:r}),n?this.requestStageRender({},[{renderer:this.getRendererForSchema(this.moduleDescription.named[n]),exportName:n,simulation:r}]):this.requestStageRender({},this.getAllPreviewables())}),this.updateCodeSelection=(t=>{this.updateSelection("codeSelection",t.item)}),this.updateCodeHover=(t=>{this.updateSelection("codeHover",t.item)}),this.setSelectedSimulation=(t=>{const e=t.target.value;this.setState({selectedSimulation:e});const n=this.getRendererForSchema(this.moduleDescription.named[this.state.currentExport]);this.requestStageRender({},[{exportName:this.state.currentExport,renderer:n,simulation:this.getExportsSimulation(this.state.currentExport,e)}])}),this.resetSelectedExport=(async()=>{this.setState({currentExport:"",selectedSimulation:""}),await this.requestStageRender({},this.getAllPreviewables())})}componentWillMount(){super.componentWillMount(),this.updateMagicBlob()}getExportsSimulation(t,e){e||(e="default"),this.moduleDescription.named[t];const n=this.moduleDescription.simulations&&this.moduleDescription.simulations.description&&this.moduleDescription.simulations.description.named[t]?this.moduleDescription.simulations.description.named[t]:[];return n.includes(e)?e:n[0]||""}async listenToModuleDescription(){this.servicesManager=await this.props.provider.getDependency("servicesManager"),this.servicesManager.fs.events.on("fileChanged",async t=>{t.fullPath===this.props.currentPath&&this.delayedUpdateModuleDescription()}),this.updateModuleDescription()}delayedUpdateModuleDescription(){this.moduleDescriptionTimeout&&clearTimeout(this.moduleDescriptionTimeout),this.moduleDescriptionTimeout=setTimeout(this.updateModuleDescription,1e3)}hasSim(t,e){return this.moduleDescription.simulations&&this.moduleDescription.simulations.description.named[t]&&this.moduleDescription.simulations.description.named[t].includes(e)}getAllPreviewables(){return this.getExports().map(t=>({exportName:t.name,renderer:this.getRendererForSchema(t.schema),simulation:this.getExportsSimulation(t.name,"default")}))}getRendererForSchema(t){return t.preview_plugins&&t.preview_plugins.length?t.preview_plugins[0]:""}async listenToSelection(){this.selectionManager=await this.props.provider.getDependency("selectionManager"),this.selectionManager.events.on(l.SELECTION_EVENTS.CODE_SELECTION_CHANGED,this.updateCodeSelection),this.selectionManager.events.on(l.SELECTION_EVENTS.CODE_HOVER_CHANGED,this.updateCodeHover)}updateSelection(t,e){const n=this.refs.frame;if(e&&n&&n.contentDocument&&n.contentDocument.body){const r=Array.from(n.contentDocument.body.querySelectorAll(e.selector));this.setState({[t]:{item:e,selectorTargets:r.map(t=>{const e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,left:e.left}})}})}else this.setState({[t]:{item:void 0,selectorTargets:[]}})}render(){return r.createElement("div",Object.assign({},i.default("root",{},this.props)),this.renderStatusBar(),this.renderFloatingControls(),this.renderPreview())}renderFloatingControls(){return r.createElement("div",Object.assign({},i.default("floating-controls-wrapper")),this.renderHighlights(),this.renderExportsGui())}renderHighlights(){return[r.createElement("div",Object.assign({key:"highlights"},i.default("highlights")),this.state.codeSelection?this.renderHighlight(this.state.codeSelection,"highlightCodeSelection"):null,this.state.codeHover?this.renderHighlight(this.state.codeHover,"highlightCodeHover"):null)]}renderHighlight(t,e){return t.selectorTargets.map((n,o)=>r.createElement("div",Object.assign({},i.default(e),{style:{width:n.width+"px",height:n.height+"px",top:n.top+"px",left:n.left+"px"},key:o,title:t.item?t.item.label:""})))}renderPreview(){return this.state.descriptionVersion>0?r.createElement("iframe",Object.assign({key:"frame"},i.default("frame",{}),{onLoad:this.refreshFrame,name:"preview",src:this.magicBlob,ref:"frame"})):null}renderStatusBar(){let t=[],e=[];if(this.state.currentExport){const n=this.moduleDescription.named[this.state.currentExport];t=r.createElement("span",null,"Rendering: ",this.getSchemaDescription(n,this.state.currentExport)," from: ",this.props.currentPath," "),e=this.moduleDescription.simulations&&this.moduleDescription.simulations.description.named[this.state.currentExport]||[]}else t=r.createElement("span",null,"Evaluating Module: ",this.props.currentPath);return r.createElement("div",Object.assign({key:"status-bar"},i.default("status-bar")),t,e.length>1?r.createElement("select",Object.assign({},i.default("sim-selector"),{onChange:this.setSelectedSimulation,value:this.getExportsSimulation(this.state.currentExport,this.state.selectedSimulation)}),e.map(t=>r.createElement("option",{key:t,label:t,value:t},t))):null,this.state.currentExport?r.createElement("button",Object.assign({},i.default("back-btn"),{onClick:this.resetSelectedExport}),"back"):null)}getSchemaDescription(t,e){const n=`"${e}" `;return s.isRefSchema(t)?s.isFunctionSchema(t)?n+"Function: "+t.title:s.isClassSchema(t)?n+"Class: "+t.title+" extends: "+t.bases:void 0:s.isUnionSchema(t)?n+"Union: "+t.title:n+t.type}renderExportsGui(){const t=this.getExports();return this.state.currentExport?null:r.createElement("div",Object.assign({},i.default("exports-wrapper",{})),t.map(t=>this.renderExport(t.schema,t.name)))}renderExport(t,e){return r.createElement("div",Object.assign({},i.default("export-box",{}),{onClick:()=>this.setSelectedExport(e),key:e}),r.createElement("div",Object.assign({},i.default("export-header",{})),this.getSchemaDescription(t,e)))}filterExport(t){return!(!t||"object"===t.type&&!Object.keys(t.properties).length)}getExports(){const t=Object.entries(this.moduleDescription.named).map(t=>({name:t[0],schema:t[1]}));return this.filterExport(this.moduleDescription.defaultExport)&&t.unshift({name:"Default export",schema:this.moduleDescription.defaultExport}),t}async setSelectedExport(t){const e=this.getRendererForSchema(this.moduleDescription.named[t]);this.setState({currentExport:t,selectedSimulation:""}),await this.requestStageRender({},[{exportName:t,renderer:e,simulation:this.getExportsSimulation(t,"default")}])}requestStageRender(t,e){return this.stage&&this.stage.render("/"+this.props.currentPath,t,e,this.moduleDescription.simulations?this.moduleDescription.simulations.path:"")}componentDidMount(){this.listenToSelection(),this.listenToModuleDescription(),this.updateTab(this.props.glContainer.tab),this.props.glContainer.on("tab",this.updateTab)}updateMagicBlob(){const t=new Blob([this.generateMagicHTML("/"+this.props.currentPath)],{type:"text/html"});this.magicBlob=URL.createObjectURL(t)}componentWillUnmount(){super.componentWillUnmount(),this.selectionManager&&(this.selectionManager.events.off(l.SELECTION_EVENTS.CODE_SELECTION_CHANGED,this.updateCodeSelection),this.selectionManager.events.off(l.SELECTION_EVENTS.CODE_HOVER_CHANGED,this.updateCodeHover)),this.moduleDescriptionTimeout&&clearTimeout(this.moduleDescriptionTimeout)}generateMagicHTML(t){return`<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <title>${t}</title>\n    <script>\n       exports = {};\n       function resetRootModule(){\n           document.body.innerHTML = '<div id="root"/>';\n       }\n    <\/script>\n</head>\n<body style="display: block; margin: 0;" />\n<script src="${this.props.getScriptPath("stage.bundle.js")}"><\/script>\n<script>\n   initPlayground(self.parent);\n<\/script>\n</html>`}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),t.exports.default=n(126).create("root","previewpanel3502187295",{root:"previewpanel3502187295--root",title:"previewpanel3502187295--title",frame:"previewpanel3502187295--frame","floating-controls-wrapper":"previewpanel3502187295--floating-controls-wrapper","status-bar":"previewpanel3502187295--status-bar",highlightCodeHover:"previewpanel3502187295--highlightCodeHover",highlightCodeSelection:"previewpanel3502187295--highlightCodeSelection","exports-wrapper":"previewpanel3502187295--exports-wrapper",exports:"previewpanel3502187295--exports","sim-selector":"previewpanel3502187295--sim-selector","export-box":"previewpanel3502187295--export-box","export-header":"previewpanel3502187295--export-header","exports-header":"previewpanel3502187295--exports-header",export:"previewpanel3502187295--export","back-btn":"previewpanel3502187295--back-btn",backgroundColor:"#191A28",statusBarBackgroundColor:"#2A2B41",previewTitleBackground:"#F0F4F7",previewFontColor:"#596A9E",highlightBackground:"rgba(89, 106, 158, 0.56)"},null,t.i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(56),i=n(505),o=n(50),s=n(260),a=n(261),c=n(131),l=n(330);e.CodePanel=class extends s.PanelBase{constructor(){super(...arguments),this.diagnostics=0,this.selectionMap=[],this.selectionMapTimeout=void 0,this.updateTab=(t=>{const e=a.getIcon(this.props.currentPath)||a.JAVASCRIPT_ICON;this.updateTabDisplay(t.element[0],this.props.currentPath,e,!!this.diagnostics)}),this.updateSelectionMap=(async()=>{const t=await this.servicesManager.remoteApi.getSelectionMap(this.k0Monaco.getRegisteredLanguage(this.props.currentPath),"/"+this.props.currentPath)||[];if(o.isResponseError(t))throw this.selectionMap=[],new Error(t.toString());this.selectionMap=t})}render(){return r.createElement("div",Object.assign({},i.default("root",{},this.props)),r.createElement("div",{className:i.default.monacoContainer,ref:"container"}))}delayedUpdateSelectionMap(){this.selectionMapTimeout&&clearTimeout(this.selectionMapTimeout),this.selectionMapTimeout=setTimeout(this.updateSelectionMap,100)}getSelectionNodeFromPosition(t){const e=this.k0MEditor.getValue(),n=c.lspPosToTs(l.translatePosMonToLSP(t),e);return this.selectionMap.sort((t,n)=>c.lspPosToTs(t.range.end,e)-c.lspPosToTs(t.range.start,e)-(c.lspPosToTs(n.range.end,e)-c.lspPosToTs(n.range.start,e))).find(t=>{const r=c.lspPosToTs(t.range.start,e),i=c.lspPosToTs(t.range.end,e);return n>=r&&n<=i})}componentDidMount(){this.updateTab(this.props.glContainer.tab),this.props.glContainer.on("tab",this.updateTab),this.kissFsMonacoEditor=new Promise(async t=>{this.servicesManager=await this.props.provider.getDependency("servicesManager"),this.selectionManager=await this.props.provider.getDependency("selectionManager"),this.k0Monaco=await this.props.provider.getDependency("kissFSMonaco"),this.k0MEditor=this.k0Monaco.create(this.refs.container,this.props.currentPath),this.k0MEditor.events.on(o.EditorEvents.DIAGNOSTICS_CHANGED,t=>{this.diagnostics=t.length,this.updateTab(this.props.glContainer.tab)}),this.k0MEditor.events.on(o.EditorEvents.CURSOR_POSITION_CHANGED,t=>{this.selectionManager.setCodeSelection(this.getSelectionNodeFromPosition(t))}),this.k0MEditor.events.on(o.EditorEvents.MOUSE_POSITION_CHANGED,t=>{const e=t?this.getSelectionNodeFromPosition(t):void 0;this.selectionManager.setCodeHover(e)}),this.servicesManager.fs.events.on("fileChanged",async t=>{t.fullPath===this.props.currentPath&&this.delayedUpdateSelectionMap()}),await this.k0MEditor.ready,await this.updateSelectionMap(),t(this.k0MEditor)})}componentWillUnmount(){super.componentWillUnmount(),this.selectionMapTimeout&&clearTimeout(this.selectionMapTimeout)}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),t.exports.default=n(126).create("root","codepanel2998173777",{root:"codepanel2998173777--root",monacoContainer:"codepanel2998173777--monacoContainer",backgroundColor:"#2A2B41",lineNumbersColor:"#6679B3"},null,t.i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(56),i=n(40),o=n(260),s=n(261),a=n(507);function c(t){return t&&"lazy-directory"===t.kind}e.FilePanel=class extends o.PanelBase{constructor(){super(...arguments),this.state={root:null,expandedPaths:[]}}async componentWillMount(){super.componentWillMount(),this.init()}async init(){const{currentPath:t,previewPath:e}=this.props,n=await this.props.provider.getDependency("fileSystem"),r=(t.length?"":"/")+e.slice(0,e.lastIndexOf("/")),i=await n.loadDirectoryChildren(t),o={loaded:"true",children:this.lazyDirs(i),kind:"lazy-directory",data:{fullPath:t,name:t,type:"dir"}};let s=[t];t!==r&&(s.push(r.slice(1)),await this.openPath(r,o)),this.setState({root:o,expandedPaths:s})}lazyDirs(t){return t.map(t=>i.isFile(t)?t:{kind:"lazy-directory",data:t,loaded:"false"})}render(){const{root:t}=this.state;return r.createElement("div",Object.assign({},a.default("root",{},this.props)),t&&this.renderTree(t,t.data.name,1))}renderTree(t,e,n){const i=c(t)?t.data:t,o=(c(t),c(t)&&"true"===t.loaded?t.children:null),l=e.startsWith("/")?e.slice(1,e.length):e,u=!!~this.state.expandedPaths.indexOf(l);return r.createElement("div",Object.assign({key:e},a.default("tree",{expanded:u,dir:!!o})),r.createElement("span",{className:a.default.file,style:{paddingLeft:10*n+"px"},onClick:this.openFileOrDir.bind(this,t)},c(t)?r.createElement("button",{className:a.default.expandArrow,onClick:e=>this.openDir(t,e)},r.createElement("svg",{width:"10",height:"6"},r.createElement("path",{d:"M2 7V2h1v5h5v1H2V7z",fill:"currentColor",transform:"rotate(-45 .172 3)",fillRule:"evenodd"}))):r.createElement("span",{style:{backgroundImage:`url(${s.getIcon(e)})`},className:a.default.icon}),l===this.props.previewPath&&r.createElement("span",{className:a.default.previewIcon,style:{backgroundImage:`url(${s.PREVIEW_ICON})`}}),i.name),u&&o&&o.map(t=>{const r=c(t)?t.data:t;return this.renderTree(t,`${e}/${r.name}`,n+1)}))}async openPath(t,e=this.state.root){const n=t.slice(1).split("/");let r=e;for(let e of n)if(c(r))c(r=r.children.find(t=>c(t)?t.data.name===e:t.name===e))&&"false"===r.loaded&&await this.openDir(r);else{if(!i.isFile(r))throw new Error("could not open path "+t);r=void 0}}async openDir(t,e){e&&e.stopPropagation();let{expandedPaths:n}=this.state;const r=n.indexOf(t.data.fullPath);if(~n.indexOf(t.data.fullPath)?n.splice(r,1):n.push(t.data.fullPath),"false"===t.loaded){t.loaded="pending";const e=await this.props.provider.getDependency("fileSystem"),n=await e.loadDirectoryChildren(t.data.fullPath),r=this.lazyDirs(n);t.loaded="true",t.children=r}this.setState({expandedPaths:n})}async openFileOrDir(t,e){const{provider:n}=this.props;if(c(t))return void this.openDir(t,e);const r=e.nativeEvent.altKey?"preview":"code-editor";(await n.getDependency("openOrFocusPanel"))(r,t.fullPath.startsWith("/")?t.fullPath.slice(1,t.fullPath.length):t.fullPath)}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),t.exports.default=n(126).create("root","filepanel2830433321",{root:"filepanel2830433321--root",tree:"filepanel2830433321--tree",expandArrow:"filepanel2830433321--expandArrow",file:"filepanel2830433321--file",icon:"filepanel2830433321--icon",previewIcon:"filepanel2830433321--previewIcon",backgroundColor:"#191A28",fileColor:"white",arrowColor:"#6679B3",dirColor:"white",fileHoverColor:"white",backgroundHoverColor:"#368FDA"},null,t.i)},function(t,e,n){var r,i,o,s;o=window.$,(s={config:{},container:{},controls:{},errors:{},items:{},utils:{}}).utils.F=function(){},s.utils.extend=function(t,e){t.prototype=s.utils.createObject(e.prototype),t.prototype.contructor=t},s.utils.createObject=function(t){return"function"==typeof Object.create?Object.create(t):(s.utils.F.prototype=t,new s.utils.F)},s.utils.objectKeys=function(t){var e,n;if("function"==typeof Object.keys)return Object.keys(t);for(n in e=[],t)e.push(n);return e},s.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+"=([^&]*)"));return e?e[1]:null},s.utils.getQueryStringParam=function(t){if(window.location.hash)return s.utils.getHashValue(t);if(!window.location.search)return null;var e,n,r=window.location.search.substr(1).split("&"),i={};for(n=0;n<r.length;n++)i[(e=r[n].split("="))[0]]=e[1];return i[t]||null},s.utils.copy=function(t,e){for(var n in e)t[n]=e[n];return t},s.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})(function(){t()})},s.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error("Haystack is not an Array");if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},"function"!=typeof/./&&"object"!=typeof Int8Array?s.utils.isFunction=function(t){return"function"==typeof t||!1}:s.utils.isFunction=function(t){return"[object Function]"===toString.call(t)},s.utils.fnBind=function(t,e,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(n||[]));var r=function(){var i=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof r))return t.apply(e,i);t.apply(this,i)};return r.prototype=t.prototype,r},s.utils.removeFromArray=function(t,e){var n=s.utils.indexOf(t,e);if(-1===n)throw new Error("Can't remove item from array. Item is not in the array");e.splice(n,1)},s.utils.now=function(){return"function"==typeof Date.now?Date.now():(new Date).getTime()},s.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(".","")},s.utils.filterXss=function(t,e){var n=t.replace(/javascript/gi,"j&#97;vascript").replace(/expression/gi,"expr&#101;ssion").replace(/onload/gi,"onlo&#97;d").replace(/script/gi,"&#115;cript").replace(/onerror/gi,"on&#101;rror");return!0===e?n:n.replace(/>/g,"&gt;").replace(/</g,"&lt;")},s.utils.stripTags=function(t){return o.trim(t.replace(/(<([^>]+)>)/gi,""))},s.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[s.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,n){if(!s.utils.isFunction(e))throw new Error("Tried to listen to event "+t+" with non-function callback "+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:n})},this.emit=function(t){var e,n,r;r=Array.prototype.slice.call(arguments,1);var i=this._mSubscriptions[t];if(i)for(i=i.slice(),e=0;e<i.length;e++)n=i[e].ctx||{},i[e].fn.apply(n,r);r.unshift(t);var o=this._mSubscriptions[s.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<o.length;e++)n=o[e].ctx||{},o[e].fn.apply(n,r)},this.unbind=function(t,e,n){if(!this._mSubscriptions[t])throw new Error("No subscribtions to unsubscribe for event "+t);var r,i=!1;for(r=0;r<this._mSubscriptions[t].length;r++)e&&this._mSubscriptions[t][r].fn!==e||n&&n!==this._mSubscriptions[t][r].ctx||(this._mSubscriptions[t].splice(r,1),i=!0);if(!1===i)throw new Error("Nothing to unbind for "+t)},this.off=this.unbind,this.trigger=this.emit},s.utils.EventEmitter.ALL_EVENT="__all",s.utils.DragListener=function(t,e){s.utils.EventEmitter.call(this),this._eElement=o(t),this._oDocument=o(document),this._eBody=o(document.body),this._nButtonCode=e||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=s.utils.fnBind(this.onMouseMove,this),this._fUp=s.utils.fnBind(this.onMouseUp,this),this._fDown=s.utils.fnBind(this.onMouseDown,this),this._eElement.on("mousedown touchstart",this._fDown)},s.utils.DragListener.timeout=null,s.utils.copy(s.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind("mousedown touchstart",this._fDown),this._oDocument.unbind("mouseup touchend",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||"touchstart"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on("mousemove touchmove",this._fMove),this._oDocument.one("mouseup touchend",this._fUp),this._timeout=setTimeout(s.utils.fnBind(this._startDrag,this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag()),this._bDragging&&this.emit("drag",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass("lm_dragging"),this._eElement.removeClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events",""),this._oDocument.unbind("mousemove touchmove",this._fMove),this._oDocument.unbind("mouseup touchend",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit("dragStop",t,this._nOriginalX+this._nX)))},_startDrag:function(){this._bDragging=!0,this._eBody.addClass("lm_dragging"),this._eElement.addClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events","none"),this.emit("dragStart",this._nOriginalX,this._nOriginalY)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),s.LayoutManager=function(t,e){if(!o||"function"!=typeof o.noConflict){var n="jQuery is missing as dependency for GoldenLayout. ";throw n+='Please either expose $ on GoldenLayout\'s scope (e.g. window) or add "jquery" to ',n+="your paths when using RequireJS/AMD",new Error(n)}s.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={"lm-react-component":s.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=s.utils.fnBind(this._onResize,this),this._unloadFunction=s.utils.fnBind(this._onUnload,this),this._maximisedItem=null,this._maximisePlaceholder=o('<div class="lm_maximise_place"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new s.utils.EventHub(this),this.config=this._createConfig(t),this.container=e,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=o('<div class="lm_drop_tab_placeholder"></div>'),!0===this.isSubWindow&&o("body").css("visibility","hidden"),this._typeToItem={column:s.utils.fnBind(s.items.RowOrColumn,this,[!0]),row:s.utils.fnBind(s.items.RowOrColumn,this,[!1]),stack:s.items.Stack,component:s.items.Component}},s.LayoutManager.__lm=s,s.LayoutManager.minifyConfig=function(t){return(new s.utils.ConfigMinifier).minifyConfig(t)},s.LayoutManager.unminifyConfig=function(t){return(new s.utils.ConfigMinifier).unminifyConfig(t)},s.utils.copy(s.LayoutManager.prototype,{registerComponent:function(t,e){if("function"!=typeof e)throw new Error("Please register a constructor function");if(void 0!==this._components[t])throw new Error("Component "+t+" is already registered");this._components[t]=e},toConfig:function(t){var e,n,r;if(!1===this.isInitialised)throw new Error("Can't create config, layout not yet initialised");if(t&&!(t instanceof s.items.AbstractContentItem))throw new Error("Root must be a ContentItem");for((e={settings:s.utils.copy({},this.config.settings),dimensions:s.utils.copy({},this.config.dimensions),labels:s.utils.copy({},this.config.labels)}).content=[],(n=function(t,e){var r,i;for(r in e.config)"content"!==r&&(t[r]=e.config[r]);if(e.contentItems.length)for(t.content=[],i=0;i<e.contentItems.length;i++)t.content[i]={},n(t.content[i],e.contentItems[i])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],r=0;r<this.openPopouts.length;r++)e.openPopouts.push(this.openPopouts[r].toConfig());return e.maximisedItemId=this._maximisedItem?"__glMaximised":null,e},getComponent:function(t){if(void 0===this._components[t])throw new s.errors.ConfigurationError('Unknown component "'+t+'"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),"loading"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(s.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new s.controls.DropTargetIndicator(this.container),this.transitionIndicator=new s.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit("initialised")}else o(document).ready(s.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards("setSize",[this.width,this.height]),this._maximisedItem&&(this._maximisedItem.element.width(this.container.width()),this._maximisedItem.element.height(this.container.height()),this._maximisedItem.callDownwards("setSize")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),o(window).off("resize",this._resizeFunction),o(window).off("unload beforeunload",this._unloadFunction),this.root.callDownwards("_$destroy",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach(function(t){t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null}),this._dragSources=[])},createContentItem:function(t,e){var n;if("string"!=typeof t.type)throw new s.errors.ConfigurationError("Missing parameter 'type'",t);if("react-component"===t.type&&(t.type="component",t.componentName="lm-react-component"),!this._typeToItem[t.type])throw n="Unknown type '"+t.type+"'. Valid types are "+s.utils.objectKeys(this._typeToItem).join(","),new s.errors.ConfigurationError(n);return"component"!==t.type||e instanceof s.items.Stack||!e||!0===this.isSubWindow&&e instanceof s.items.Root||(t={type:"stack",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,n,r){var i,o,a,c,l,u,h=t,f=t instanceof s.items.AbstractContentItem,p=this;if(n=n||null,f){for(h=this.toConfig(t).content,n=s.utils.getUniqueId(),c=t.parent,l=t;1===c.contentItems.length&&!c.isRoot;)c=c.parent,l=l.parent;c.addId(n),isNaN(r)&&(r=s.utils.indexOf(l,c.contentItems))}else h instanceof Array||(h=[h]);return!e&&f&&(i=window.screenX||window.screenLeft,o=window.screenY||window.screenTop,e={left:i+(a=t.element.offset()).left,top:o+a.top,width:t.element.width(),height:t.element.height()}),e||f||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),f&&t.remove(),(u=new s.controls.BrowserPopout(h,e,n,r,this)).on("initialised",function(){p.emit("windowOpened",u)}),u.on("closed",function(){p._$reconcilePopoutWindows()}),this.openPopouts.push(u),u},createDragSource:function(t,e){this.config.settings.constrainDragToContainer=!1;var n=new s.controls.DragSource(o(t),e,this);return this._dragSources.push(n),n},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error("Please set selectionEnabled to true to use this feature");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit("selectionChanged",t))},_$maximiseItem:function(t){null!==this._maximisedItem&&this._$minimiseItem(this._maximisedItem),this._maximisedItem=t,this._maximisedItem.addId("__glMaximised"),t.element.addClass("lm_maximised"),t.element.after(this._maximisePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards("setSize"),this._maximisedItem.emit("maximised"),this.emit("stateChanged")},_$minimiseItem:function(t){t.element.removeClass("lm_maximised"),t.removeId("__glMaximised"),this._maximisePlaceholder.after(t.element),this._maximisePlaceholder.remove(),t.parent.callDownwards("setSize"),this._maximisedItem=null,t.emit("minimised"),this.emit("stateChanged")},_$closeWindow:function(){window.setTimeout(function(){window.close()},1)},_$getArea:function(t,e){var n,r,i=1/0,o=null;for(n=0;n<this._itemAreas.length;n++)t>(r=this._itemAreas[n]).x1&&t<r.x2&&e>r.y1&&e<r.y2&&i>r.surface&&(i=r.surface,o=r);return o},_$createRootItemAreas:function(){var t={y2:0,x2:0,y1:"y2",x1:"x2"};for(var e in t){var n=this.root._$getArea();n.side=e,n[e]=t[e]?n[t[e]]-50:50,n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)}},_$calculateItemAreas:function(){var t,e,n=this._getAllContentItems();if(this._itemAreas=[],1!==n.length){for(this._$createRootItemAreas(),t=0;t<n.length;t++)if(n[t].isStack&&null!==(e=n[t]._$getArea()))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var r={};s.utils.copy(r,e),s.utils.copy(r,e.contentItem._contentAreaDimensions.header.highlightArea),r.surface=(r.x2-r.x1)*(r.y2-r.y1),this._itemAreas.push(r)}}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,e){if(!t)throw new Error("No content item defined");if(s.utils.isFunction(t)&&(t=t()),t instanceof s.items.AbstractContentItem)return t;if(o.isPlainObject(t)&&t.type){var n=this.createContentItem(t,e);return n.callDownwards("_$init"),n}throw new Error("Invalid contentItem")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit("windowClosed",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit("stateChanged"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(n){if(t.push(n),n.contentItems instanceof Array)for(var r=0;r<n.contentItems.length;r++)e(n.contentItems[r])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&o(window).resize(this._resizeFunction),o(window).on("unload beforeunload",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(s.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var e=s.utils.getQueryStringParam("gl-window");e&&(this.isSubWindow=!0,t=localStorage.getItem(e),t=JSON.parse(t),t=(new s.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(e)),t=o.extend(!0,{},s.config.defaultConfig,t);var n=function(t){for(var e in t)"props"!==e&&"object"==typeof t[e]?n(t[e]):"type"===e&&"react-component"===t[e]&&(t.type="component",t.componentName="lm-react-component")};return n(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=o('<div class="lm_popin" title="'+this.config.labels.popin+'"><div class="lm_icon"></div><div class="lm_bg"></div></div>');t.click(s.utils.fnBind(function(){this.emit("popIn")},this)),document.title=s.utils.stripTags(this.config.content[0].title),o("head").append(o("body link, body style, template, .gl_keep")),this.container=o("body").html("").css("visibility","visible").append(t),document.body.offsetHeight,window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=o(this.container||"body");if(0===t.length)throw new Error("GoldenLayout container not found");if(t.length>1)throw new Error("GoldenLayout more than one container element specified");t[0]===document.body&&(this._isFullPage=!0,o("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?"Missing setting 'content' on top level of configuration":"Configuration parameter 'content' must be an array",new s.errors.ConfigurationError(e,t);if(t.content.length>1)throw e="Top level content can't contain more then one element.",new s.errors.ConfigurationError(e,t);this.root=new s.items.Root(this,{content:t.content},this.container),this.root.callDownwards("_$init"),"__glMaximised"===t.maximisedItemId&&this.root.getItemsById(t.maximisedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)){this._updatingColumnsResponsive=!0;for(var n=t-Math.max(Math.floor(this.width/e),1),r=this.root.contentItems[0],i=this._findAllStackContainers()[0],o=0;o<n;o++){var s=r.contentItems[r.contentItems.length-1];this._addChildContentItemsToContainer(i,s)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&("always"==this.config.settings.responsiveMode||"onload"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){"stack"===e.type?e.contentItems.forEach(function(n){t.addChild(n),e.removeChild(n,!0)}):e.contentItems.forEach(s.utils.fnBind(function(e){this._addChildContentItemsToContainer(t,e)},this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(s.utils.fnBind(function(e){"stack"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)},this))}}),r=[n(509)],void 0===(i=function(t){return o=t,s.LayoutManager}.apply(e,r))||(t.exports=i),s.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:""},s.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showPopoutIcon:!0,showMaximiseIcon:!0,showCloseIcon:!0,responsiveMode:"onload",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200},labels:{close:"close",maximise:"maximise",minimise:"minimise",popout:"open in new window",popin:"pop in",tabDropdown:"additional tabs"}},s.container.ItemContainer=function(t,e,n){s.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=e,this.layoutManager=n,this.isHidden=!1,this._config=t,this._element=o(['<div class="lm_item_container">','<div class="lm_content"></div>',"</div>"].join("")),this._contentElement=this._element.find(".lm_content")},s.utils.copy(s.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit("hide"),this.isHidden=!0,this._element.hide()},show:function(){this.emit("show"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit("shown")},setSize:function(t,e){for(var n,r,i,o,s=this.parent,a=this;!s.isColumn&&!s.isRow;)if(a=s,(s=s.parent).isRoot)return!1;for(n=("height"==(r=s.isColumn?"height":"width")?e:t)/(this[r]*(1/(a.config[r]/100)))*100,i=(a.config[r]-n)/(s.contentItems.length-1),o=0;o<s.contentItems.length;o++)s.contentItems[o]===a?s.contentItems[o].config[r]=n:s.contentItems[o].config[r]+=i;return s.callDownwards("setSize"),!0},close:function(){this._config.isClosable&&(this.emit("close"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(o.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent("stateChanged")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var n=this._contentElement[0],r=n.offsetWidth-n.clientWidth,i=n.offsetHeight-n.clientHeight;this._contentElement.width(this.width-r).height(this.height-i),this.emit("resize")}}}),s.controls.BrowserPopout=function(t,e,n,r,i){s.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=n,this._indexInParent=r,this._layoutManager=i,this._popoutWindow=null,this._id=null,this._createWindow()},s.utils.copy(s.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error("Can't create config, layout not yet initialised");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,e;this._indexInParent,this._parentId&&(t=o.extend(!0,{},this.getGlInstance().toConfig()).content[0],(e=this._layoutManager.root.getItemsById(this._parentId)[0])||(e=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),e.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,e=this._createUrl(),n=Math.floor(1e6*Math.random()).toString(36),r=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=window.open(e,n,r),this._popoutWindow)o(this._popoutWindow).on("load",s.utils.fnBind(this._positionWindow,this)).on("unload beforeunload",s.utils.fnBind(this._onClose,this)),t=setInterval(s.utils.fnBind(function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))},this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var i=new Error("Popout blocked");throw i.type="popoutBlocked",i}},_serializeWindowOptions:function(t){var e,n=[];for(e in t)n.push(e+"="+t[e]);return n.join(",")},_createUrl:function(){var t,e={content:this._config},n="gl-window-config-"+s.utils.getUniqueId();e=(new s.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(n,JSON.stringify(e))}catch(t){throw new Error("Error while writing to localStorage "+t.toString())}return 1===(t=document.location.href.split("?")).length?t[0]+"?gl-window="+n:document.location.href+"&gl-window="+n},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on("popIn",this.popIn,this),this.emit("initialised")},_onClose:function(){setTimeout(s.utils.fnBind(this.emit,this,["closed"]),50)}}),s.controls.DragProxy=function(t,e,n,r,i,a){s.utils.EventEmitter.call(this),this._dragListener=n,this._layoutManager=r,this._contentItem=i,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on("drag",this._onDrag,this),this._dragListener.on("dragStop",this._onDrop,this),this.element=o(s.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass("lm_"+a._side),["right","bottom"].indexOf(a._side)>=0&&this.element.find(".lm_content").after(this.element.find(".lm_header"))),this.element.css({left:t,top:e}),this.element.find(".lm_tab").attr("title",s.utils.stripTags(this._contentItem.config.title)),this.element.find(".lm_title").html(this._contentItem.config.title),this.childElementContainer=this.element.find(".lm_content"),this.childElementContainer.append(i.element),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),o(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this.element.width(),this._height=this.element.height(),this._setDropPosition(t,e)},s.controls.DragProxy._template='<div class="lm_dragProxy"><div class="lm_header"><ul class="lm_tabs"><li class="lm_tab lm_active"><i class="lm_left"></i><span class="lm_title"></span><i class="lm_right"></i></li></ul></div><div class="lm_content"></div></div>',s.utils.copy(s.controls.DragProxy.prototype,{_onDrag:function(t,e,n){var r=(n=n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,i=n.pageY;(r>this._minX&&r<this._maxX&&i>this._minY&&i<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(r,i)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area))},_onDrop:function(){this._layoutManager.dropTargetIndicator.hide(),null!==this._area?this._area.contentItem._$onDrop(this._contentItem,this._area):null!==this._lastValidArea?this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):this._originalParent?this._originalParent.addChild(this._contentItem):this._contentItem._$destroy(),this.element.remove(),this._layoutManager.emit("itemDropped",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){var t=this._layoutManager.config.dimensions,e=t.dragProxyWidth,n=t.dragProxyHeight;this.element.width(e),this.element.height(n),e-=this._sided?t.headerHeight:0,n-=this._sided?0:t.headerHeight,this.childElementContainer.width(e),this.childElementContainer.height(n),this._contentItem.element.width(e),this._contentItem.element.height(n),this._contentItem.callDownwards("_$show"),this._contentItem.callDownwards("setSize")}}),s.controls.DragSource=function(t,e,n){this._element=t,this._itemConfig=e,this._layoutManager=n,this._dragListener=null,this._createDragListener()},s.utils.copy(s.controls.DragSource.prototype,{_createDragListener:function(){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=new s.utils.DragListener(this._element),this._dragListener.on("dragStart",this._onDragStart,this),this._dragListener.on("dragStop",this._createDragListener,this)},_onDragStart:function(t,e){var n=this._itemConfig;s.utils.isFunction(n)&&(n=n());var r=this._layoutManager._$normalizeContentItem(o.extend(!0,{},n)),i=new s.controls.DragProxy(t,e,this._dragListener,this._layoutManager,r,null);this._layoutManager.transitionIndicator.transitionElements(this._element,i.element)}}),s.controls.DropTargetIndicator=function(){this.element=o(s.controls.DropTargetIndicator._template),o(document.body).append(this.element)},s.controls.DropTargetIndicator._template='<div class="lm_dropTargetIndicator"><div class="lm_inner"></div></div>',s.utils.copy(s.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,n,r){this.highlightArea({x1:t,y1:e,x2:n,y2:r})},highlightArea:function(t){this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show()},hide:function(){this.element.hide()}}),s.controls.Header=function(t,e){s.utils.EventEmitter.call(this),this.layoutManager=t,this.element=o(s.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass("lm_selectable"),this.element.on("click touchstart",s.utils.fnBind(this._onHeaderClick,this))),this.tabsContainer=this.element.find(".lm_tabs"),this.tabDropdownContainer=this.element.find(".lm_tabdropdown_list"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(".lm_controls"),this.parent=e,this.parent.on("resize",this._updateTabSizes,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=s.utils.fnBind(this._hideAdditionalTabsDropdown,this),o(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,this._createControls()},s.controls.Header._template=['<div class="lm_header">','<ul class="lm_tabs"></ul>','<ul class="lm_controls"></ul>','<ul class="lm_tabdropdown_list"></ul>',"</div>"].join(""),s.utils.copy(s.controls.Header.prototype,{createTab:function(t,e){var n,r;for(r=0;r<this.tabs.length;r++)if(this.tabs[r].contentItem===t)return;if(n=new s.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(n),void this.tabsContainer.append(n.element);void 0===e&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(n.element):this.tabs[0].element.before(n.element),this.tabs.splice(e,0,n),this._updateTabSizes()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error("contentItem is not controlled by this header")},setActiveContentItem:function(t){var e,n,r,i;for(e=0;e<this.tabs.length;e++)r=this.tabs[e].contentItem===t,this.tabs[e].setActive(r),!0===r&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(i=this.tabs[this.parent.config.activeItemIndex],n=this.parent.config.activeItemIndex;n>0;n--)this.tabs[n]=this.tabs[n-1];this.tabs[0]=i,this.parent.config.activeItemIndex=0}this._updateTabSizes(),this.parent.emitBubblingEvent("stateChanged")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e="top"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable()||(this.closeButton.element[t?"show":"hide"](),0))},_$destroy:function(){this.emit("destroy",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();o(document).off("mouseup",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,n,r,i,o,a,c,l;l=s.utils.fnBind(this._showAdditionalTabsDropdown,this),c=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new s.controls.HeaderButton(this,c,"lm_tabdropdown",l),this.tabDropdownButton.element.hide(),this._getHeaderSetting("popout")&&(e=s.utils.fnBind(this._onPopoutClick,this),n=this._getHeaderSetting("popout"),new s.controls.HeaderButton(this,n,"lm_popout",e)),this._getHeaderSetting("maximise")&&(o=s.utils.fnBind(this.parent.toggleMaximise,this.parent),r=this._getHeaderSetting("maximise"),i=this._getHeaderSetting("minimise"),a=new s.controls.HeaderButton(this,r,"lm_maximise",o),this.parent.on("maximised",function(){a.element.attr("title",i)}),this.parent.on("minimised",function(){a.element.attr("title",r)})),this._isClosable()&&(t=s.utils.fnBind(this.parent.remove,this.parent),n=this._getHeaderSetting("close"),this.closeButton=new s.controls.HeaderButton(this,n,"lm_close",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){!0===this.layoutManager.config.settings.popoutWholeStack?this.parent.popout():this.activeContentItem.popout()},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);var e=function(t){return t?"width":"height"};this.element.css(e(!this.parent._sided),""),this.element[e(this.parent._sided)](this.layoutManager.config.dimensions.headerHeight);var n,r,i,o,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,a=0,c=0,l=0,u=this.layoutManager.config.settings.tabOverlapAllowance,h=!1,f=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,p=this.tabs[f];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,r=0;r<this.tabs.length;r++)if(n=this.tabs[r].element,this.tabsContainer.append(n),a+=n.outerWidth()+parseInt(n.css("margin-right"),10),(c=f<=r?a:a+p.element.outerWidth()+parseInt(p.element.css("margin-right"),10))>s){if(h)r===f&&(n.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(n));else if((l=f>0&&f<=r?(c-s)/(r-1):(c-s)/r)<u){for(i=0;i<=r;i++)o=i!==f&&0!==i?"-"+l+"px":"",this.tabs[i].element.css({"z-index":r-i,"margin-left":o});this._lastVisibleTabIndex=r,this.tabsContainer.append(n)}else h=!0;if(h&&r!==f){if(!t)return void this._updateTabSizes(!0);n.css({"z-index":"auto","margin-left":""}),this.tabDropdownContainer.append(n)}}else this._lastVisibleTabIndex=r,n.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(n)}}}),s.controls.HeaderButton=function(t,e,n,r){this._header=t,this.element=o('<li class="'+n+'" title="'+e+'"></li>'),this._header.on("destroy",this._$destroy,this),this._action=r,this.element.on("click touchstart",this._action),this._header.controlsContainer.append(this.element)},s.utils.copy(s.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),s.controls.Splitter=function(t,e,n){this._isVertical=t,this._size=e,this._grabSize=n<e?e:n,this.element=this._createElement(),this._dragListener=new s.utils.DragListener(this.element)},s.utils.copy(s.controls.Splitter.prototype,{on:function(t,e,n){this._dragListener.on(t,e,n)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=o('<div class="lm_drag_handle"></div>'),e=o('<div class="lm_splitter"></div>');e.append(t);var n=this._grabSize-this._size,r=n/2;return this._isVertical?(t.css("top",-r),t.css("height",this._size+n),e.addClass("lm_vertical"),e.height(this._size)):(t.css("left",-r),t.css("width",this._size+n),e.addClass("lm_horizontal"),e.width(this._size)),e}}),s.controls.Tab=function(t,e){this.header=t,this.contentItem=e,this.element=o(s.controls.Tab._template),this.titleElement=this.element.find(".lm_title"),this.closeElement=this.element.find(".lm_close_tab"),this.closeElement[e.config.isClosable?"show":"hide"](),this.isActive=!1,this.setTitle(e.config.title),this.contentItem.on("titleChanged",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===e.config.reorderEnabled&&(this._dragListener=new s.utils.DragListener(this.element),this._dragListener.on("dragStart",this._onDragStart,this),this.contentItem.on("destroy",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=s.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=s.utils.fnBind(this._onCloseClick,this),this.element.on("mousedown touchstart",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on("click touchstart",this._onCloseClickFn),this.closeElement.on("mousedown",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit("tab",this),this.contentItem.layoutManager.emit("tabCreated",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit("tab",this))},s.controls.Tab._template='<li class="lm_tab"><i class="lm_left"></i><span class="lm_title"></span><div class="lm_close_tab"></div><i class="lm_right"></i></li>',s.utils.copy(s.controls.Tab.prototype,{setTitle:function(t){this.element.attr("title",s.utils.stripTags(t)),this.titleElement.html(t)},setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass("lm_active"):this.element.removeClass("lm_active"))},_$destroy:function(){this.element.off("mousedown touchstart",this._onTabClickFn),this.closeElement.off("click touchstart",this._onCloseClickFn),this._dragListener&&(this.contentItem.off("destroy",this._dragListener.destroy,this._dragListener),this._dragListener.off("dragStart",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximised&&this.contentItem.parent.toggleMaximise(),new s.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent)},_onTabClick:function(t){if(0===t.button||"touchstart"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){t.stopPropagation(),this.header.parent.removeChild(this.contentItem)},_onCloseMousedown:function(t){t.stopPropagation()}}),s.controls.TransitionIndicator=function(){this._element=o('<div class="lm_transition_indicator"></div>'),o(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},s.utils.copy(s.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),n=(s.utils.now()-this._animationStartTime)/this._totalAnimationDuration,r={};if(n>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)r[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*n;this._element.css(r),s.utils.animFrame(s.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),s.errors.ConfigurationError=function(t,e){Error.call(this),this.name="Configuration Error",this.message=t,this.node=e},s.errors.ConfigurationError.prototype=new Error,s.items.AbstractContentItem=function(t,e,n){s.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=n,this.isInitialised=!1,this.isMaximised=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=["stateChanged"],this.on(s.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},s.utils.copy(s.items.AbstractContentItem.prototype,{setSize:function(){throw new Error("Abstract Method")},callDownwards:function(t,e,n,r){var i;for(!0!==n&&!0!==r&&this[t].apply(this,e||[]),i=0;i<this.contentItems.length;i++)this.contentItems[i].callDownwards(t,e,n);!0===n&&!0!==r&&this[t].apply(this,e||[])},removeChild:function(t,e){var n=s.utils.indexOf(t,this.contentItems);if(-1===n)throw new Error("Can't remove child item. Unknown content item");!0!==e&&this.contentItems[n]._$destroy(),this.contentItems.splice(n,1),this.config.content.splice(n,1),this.contentItems.length>0?this.callDownwards("setSize"):this instanceof s.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){void 0===e&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,n){e=this.layoutManager._$normalizeContentItem(e);var r=s.utils.indexOf(t,this.contentItems),i=t.element[0].parentNode;if(-1===r)throw new Error("Can't replace child. oldChild is not child of this");i.replaceChild(e.element[0],t.element[0]),!0===n&&(t.parent=null,t._$destroy()),this.contentItems[r]=e,e.parent=this,this.isStack&&(this.header.tabs[r].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),this.callDownwards("setSize")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent("stateChanged"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximised?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximised=!this.isMaximised,this.emitBubblingEvent("stateChanged")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass("lm_selected"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass("lm_selected"))},setTitle:function(t){this.config.title=t,this.emit("titleChanged",t),this.emit("stateChanged")},hasId:function(t){return!!this.config.id&&("string"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==s.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?"string"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error("Id not found");if("string"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=s.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],n=function(r){for(var i=0;i<r.contentItems.length;i++)!0===t(r.contentItems[i])&&e.push(r.contentItems[i]),n(r.contentItems[i])};return n(this),e},getItemsById:function(t){return this.getItemsByFilter(function(e){return e.config.id instanceof Array?-1!==s.utils.indexOf(t,e.config.id):e.config.id===t})},getItemsByType:function(t){return this._$getItemsByProperty("type",t)},getComponentsByName:function(t){var e,n=this._$getItemsByProperty("componentName",t),r=[];for(e=0;e<n.length;e++)r.push(n[e].instance);return r},_$getItemsByProperty:function(t,e){return this.getItemsByFilter(function(n){return n[t]===e})},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,n){this.layoutManager.dropTargetIndicator.highlightArea(n)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents("hide"),this.element.hide(),this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents("show"),this.element.show(),this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,n,r=this.getItemsByType("stack");for(n=0;n<r.length;n++)(e=r[n].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent("beforeItemDestroyed"),this.callDownwards("_$destroy",[],!0,!0),this.element.remove(),this.emitBubblingEvent("itemDestroyed")},_$getArea:function(t){var e=(t=t||this.element).offset(),n=t.width(),r=t.height();return{x1:e.left,y1:e.top,x2:e.left+n,y2:e.top+r,surface:n*r,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent("itemCreated"),this.emitBubblingEvent(this.type+"Created")},emitBubblingEvent:function(t){var e=new s.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,n;if(!(t.content instanceof Array))throw new s.errors.ConfigurationError("content must be an Array",t);for(n=0;n<t.content.length;n++)e=this.layoutManager.createContentItem(t.content[n],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in s.config.itemDefaultConfig)void 0===t[e]&&(t[e]=s.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof s.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===s.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,s.utils.animFrame(s.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),s.items.Component=function(t,e,n){s.items.AbstractContentItem.call(this,t,e,n);var r=t.getComponent(this.config.componentName),i=o.extend(!0,{},this.config.componentState||{});i.componentName=this.config.componentName,this.componentName=this.config.componentName,""===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new s.container.ItemContainer(this.config,this,t),this.instance=new r(this.container,i),this.element=this.container._element},s.utils.extend(s.items.Component,s.items.AbstractContentItem),s.utils.copy(s.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(":visible")&&this.container._$setSize(this.element.width(),this.element.height())},_$init:function(){s.items.AbstractContentItem.prototype._$init.call(this),this.container.emit("open")},_$hide:function(){this.container.hide(),s.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),s.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),s.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit("destroy",this),s.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),s.items.Root=function(t,e,n){s.items.AbstractContentItem.call(this,t,e,null),this.isRoot=!0,this.type="root",this.element=o('<div class="lm_goldenlayout lm_item lm_root"></div>'),this.childElementContainer=this.element,this._containerElement=n,this._containerElement.append(this.element)},s.utils.extend(s.items.Root,s.items.AbstractContentItem),s.utils.copy(s.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error("Root node can only have a single child");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),s.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},_$highlightDropZone:function(t,e,n){this.layoutManager.tabDropPlaceholder.remove(),s.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var n;if(t.isComponent&&((n=this.layoutManager.createContentItem({type:"stack",header:t.config.header||{}},this))._$init(),n.addChild(t),t=n),this.contentItems.length){var r="x"==e.side[0]?"row":"column",i="x"==e.side[0]?"width":"height",o="2"==e.side[1],a=this.contentItems[0];if(!a instanceof s.items.RowOrColumn||a.type!=r){var c=this.layoutManager.createContentItem({type:r},this);this.replaceChild(a,c),c.addChild(t,o?0:void 0,!0),c.addChild(a,o?void 0:0,!0),a.config[i]=50,t.config[i]=50,c.callDownwards("setSize")}else{var l=a.contentItems[o?0:a.contentItems.length-1];a.addChild(t,o?0:void 0,!0),l.config[i]*=.5,t.config[i]=l.config[i],a.callDownwards("setSize")}}else this.addChild(t)}}),s.items.RowOrColumn=function(t,e,n,r){s.items.AbstractContentItem.call(this,e,n,r),this.isRow=!t,this.isColumn=t,this.element=o('<div class="lm_item lm_'+(t?"column":"row")+'"></div>'),this.childElementContainer=this.element,this._splitterSize=e.config.dimensions.borderWidth,this._splitterGrabSize=e.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?"height":"width",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null},s.utils.extend(s.items.RowOrColumn,s.items.AbstractContentItem),s.utils.copy(s.items.RowOrColumn.prototype,{addChild:function(t,e,n){var r,i,o,a;if(t=this.layoutManager._$normalizeContentItem(t,this),void 0===e&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),s.items.AbstractContentItem.prototype.addChild.call(this,t,e),r=1/this.contentItems.length*100,!0!==n){for(o=0;o<this.contentItems.length;o++)this.contentItems[o]===t?t.config[this._dimension]=r:(i=this.contentItems[o].config[this._dimension]*=(100-r)/100,this.contentItems[o].config[this._dimension]=i);this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")}else this.emitBubblingEvent("stateChanged")},removeChild:function(t,e){var n,r,i=t.config[this._dimension],o=s.utils.indexOf(t,this.contentItems),a=Math.max(o-1,0);if(-1===o)throw new Error("Can't remove child. ContentItem is not child of this Row or Column");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),n=0;n<this.contentItems.length;n++)this.contentItems[n]!==t&&(this.contentItems[n].config[this._dimension]+=i/(this.contentItems.length-1));s.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(r=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,r,!0)):(this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged"))},replaceChild:function(t,e){var n=t.config[this._dimension];s.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),e.config[this._dimension]=n,this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent("stateChanged"),this.emit("resize")},_$init:function(){var t;if(!0!==this.isInitialised)for(s.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();for(t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight))},_calculateAbsoluteSizes:function(){var t,e,n=(this.contentItems.length-1)*this._splitterSize,r=this.element.width(),i=this.element.height(),o=0,s=[];for(this._isColumn?i-=n:r-=n,t=0;t<this.contentItems.length;t++)o+=e=this._isColumn?Math.floor(i*(this.contentItems[t].config.height/100)):Math.floor(r*(this.contentItems[t].config.width/100)),s.push(e);return{itemSizes:s,additionalPixel:Math.floor((this._isColumn?i:r)-o),totalWidth:r,totalHeight:i}},_calculateRelativeSizes:function(){var t,e=0,n=[],r=this._isColumn?"height":"width";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[r]?e+=this.contentItems[t].config[r]:n.push(this.contentItems[t]);if(100!==Math.round(e))if(Math.round(e)<100&&n.length>0){for(t=0;t<n.length;t++)n[t].config[r]=(100-e)/n.length;this._respectMinItemWidth()}else{if(Math.round(e)>100)for(t=0;t<n.length;t++)n[t].config[r]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[r]=this.contentItems[t].config[r]/e*100;this._respectMinItemWidth()}else this._respectMinItemWidth()},_respectMinItemWidth:function(){var t,e,n,r,i=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,o=[],s=0,a=0,c=0,l=0,u=[];if(!(this._isColumn||!i||this.contentItems.length<=1)){t=this._calculateAbsoluteSizes();for(var h=0;h<this.contentItems.length;h++)this.contentItems[h],(l=t.itemSizes[h])<i?(a+=i-l,r={width:i}):(s+=l-i,r={width:l},o.push(r)),u.push(r);if(!(0===a||a>s)){for(e=a/s,c=a,h=0;h<o.length;h++)r=o[h],c-=n=Math.round((r.width-i)*e),r.width-=n;for(0!==c&&(u[u.length-1].width-=c),h=0;h<this.contentItems.length;h++)this.contentItems[h].config.width=u[h].width/t.totalWidth*100}}},_createSplitter:function(t){var e;return(e=new s.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on("drag",s.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on("dragStop",s.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on("dragStart",s.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=s.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,n=0,r=0;r<t.length;++r)e=Math.max(t[r].minWidth||0,e),n=Math.max(t[r].minHeight||0,n);return{horizontal:e,vertical:n}},_onSplitterDragStart:function(t){var e=this._getItemsForSplitter(t),n=this.layoutManager.config.dimensions[this._isColumn?"minItemHeight":"minItemWidth"],r=this._getMinimumDimensions(e.before.config.content),i=this._isColumn?r.vertical:r.horizontal,o=this._getMinimumDimensions(e.after.config.content),s=this._isColumn?o.vertical:o.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(e.before.element[this._dimension]()-(i||n)),this._splitterMaxPosition=e.after.element[this._dimension]()-(s||n)},_onSplitterDrag:function(t,e,n){var r=this._isColumn?n:e;r>this._splitterMinPosition&&r<this._splitterMaxPosition&&(this._splitterPosition=r,t.element.css(this._isColumn?"top":"left",r))},_onSplitterDragStop:function(t){var e=this._getItemsForSplitter(t),n=e.before.element[this._dimension](),r=e.after.element[this._dimension](),i=(this._splitterPosition+n)/(n+r),o=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=i*o,e.after.config[this._dimension]=(1-i)*o,t.element.css({top:0,left:0}),s.utils.animFrame(s.utils.fnBind(this.callDownwards,this,["setSize"]))}}),s.items.Stack=function(t,e,n){s.items.AbstractContentItem.call(this,t,e,n),this.element=o('<div class="lm_item lm_stack"></div>'),this._activeContentItem=null;var r=t.config;this._header={show:!0===r.settings.hasHeaders&&!1!==e.hasHeaders,popout:r.settings.showPopoutIcon&&r.labels.popout,maximise:r.settings.showMaximiseIcon&&r.labels.maximise,close:r.settings.showCloseIcon&&r.labels.close,minimise:r.labels.minimise},r.header&&s.utils.copy(this._header,r.header),e.header&&s.utils.copy(this._header,e.header),e.content&&e.content[0]&&e.content[0].header&&s.utils.copy(this._header,e.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=o('<div class="lm_items"></div>'),this.header=new s.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},s.utils.extend(s.items.Stack,s.items.AbstractContentItem),s.utils.copy(s.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.layoutManager.config.dimensions.headerHeight:0,n=this.element.width()-(this._sided?e:0),r=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(n),this.childElementContainer.height(r),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(n).height(r);this.emit("resize"),this.emitBubblingEvent("stateChanged")},_$init:function(){var t,e;if(!0!==this.isInitialised){for(s.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error("Configured activeItemIndex out of bounds");this.setActiveContentItem(e)}}},setActiveContentItem:function(t){if(-1===s.utils.indexOf(t,this.contentItems))throw new Error("contentItem is not a child of this stack");null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit("activeContentItemChanged",t),this.layoutManager.emit("activeContentItemChanged",t),this.emitBubblingEvent("stateChanged")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,e){t=this.layoutManager._$normalizeContentItem(t,this),s.items.AbstractContentItem.prototype.addChild.call(this,t,e),this.childElementContainer.append(t.element),this.header.createTab(t,e),this.setActiveContentItem(t),this.callDownwards("setSize"),this._$validateClosability(),this.emitBubblingEvent("stateChanged")},removeChild:function(t,e){var n=s.utils.indexOf(t,this.contentItems);s.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(n-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent("stateChanged")},_$validateClosability:function(){var t,e,n;for(t=this.header._isClosable(),n=0,e=this.contentItems.length;n<e&&t;n++)t=this.contentItems[n].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){s.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if("header"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if("body"!==this._dropSegment){var e,n,r,i="top"===this._dropSegment||"bottom"===this._dropSegment,o="left"===this._dropSegment||"right"===this._dropSegment,a="top"===this._dropSegment||"left"===this._dropSegment,c=i&&this.parent.isColumn||o&&this.parent.isRow,l=i?"column":"row",u=i?"height":"width";t.isComponent&&((n=this.layoutManager.createContentItem({type:"stack",header:t.config.header||{}},this))._$init(),n.addChild(t),t=n),c?(e=s.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[u]*=.5,t.config[u]=this.config[u],this.parent.callDownwards("setSize")):(l=i?"column":"row",r=this.layoutManager.createContentItem({type:l},this),this.parent.replaceChild(this,r),r.addChild(t,a?0:void 0,!0),r.addChild(this,a?void 0:0,!0),this.config[u]=50,t.config[u]=50,r.callDownwards("setSize"))}else this.addChild(t)},_$highlightDropZone:function(t,e){var n,r;for(n in this._contentAreaDimensions)if((r=this._contentAreaDimensions[n].hoverArea).x1<t&&r.x2>t&&r.y1<e&&r.y2>e)return void("header"===n?(this._dropSegment="header",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(n)))},_$getArea:function(){if(!1===this.element.is(":visible"))return null;var t=s.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),n=t.call(this,this.childElementContainer),r=n.x2-n.x1,i=n.y2-n.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2}},t.call(this,this.element)):(this._contentAreaDimensions.left={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x1+.25*r,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x1+.5*r,y2:n.y2}},this._contentAreaDimensions.top={hoverArea:{x1:n.x1+.25*r,y1:n.y1,x2:n.x1+.75*r,y2:n.y1+.5*i},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y1+.5*i}},this._contentAreaDimensions.right={hoverArea:{x1:n.x1+.75*r,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1+.5*r,y1:n.y1,x2:n.x2,y2:n.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:n.x1+.25*r,y1:n.y1+.5*i,x2:n.x1+.75*r,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1+.5*i,x2:n.x2,y2:n.y2}},t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,n,r,i,o,s,a,c,l=this.header.tabs.length,u=!1;if(0===l)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<l;e++)if(o=(n=this.header.tabs[e].element).offset(),this._sided?(i=o.top,r=o.left,c=n.height()):(i=o.left,r=o.top,c=n.width()),t>i&&t<i+c){u=!0;break}if(!(!1===u&&t<i)){if(t<i+c/2?(this._dropIndex=e,n.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,l),n.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+n.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});s=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:s,x2:s+this.layoutManager.tabDropPlaceholder.width(),y1:r,y2:r+n.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=["right","left","bottom"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=["right","left"].indexOf(this._side)>=0,this.element.removeClass("lm_left lm_right lm_bottom"),this._side&&this.element.addClass("lm_"+this._side),this.element.find(".lm_header").length&&this.childElementContainer){var e=["right","bottom"].indexOf(this._side)>=0?"before":"after";this.header.element[e](this.childElementContainer),this.callDownwards("setSize")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t}}),s.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},s.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},s.utils.ConfigMinifier=function(){if(this._keys=["settings","hasHeaders","constrainDragToContainer","selectionEnabled","dimensions","borderWidth","minItemHeight","minItemWidth","headerHeight","dragProxyWidth","dragProxyHeight","labels","close","maximise","minimise","popout","content","componentName","componentState","id","width","type","height","isClosable","title","popoutWholeStack","openPopouts","parentId","activeItemIndex","reorderEnabled","borderGrabWidth"],this._keys.length>36)throw new Error("Too many keys in config minifier map");this._values=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"]},s.utils.copy(s.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,"_min"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,"_max"),e},_nextLevel:function(t,e,n){var r,i;for(r in t)t instanceof Array&&(r=parseInt(r,10)),t.hasOwnProperty(r)&&(i=this[n](r,this._keys),"object"==typeof t[r]?(e[i]=t[r]instanceof Array?[]:{},this._nextLevel(t[r],e[i],n)):e[i]=this[n](t[r],this._values))},_min:function(t,e){if("string"==typeof t&&1===t.length)return"___"+t;var n=s.utils.indexOf(t,e);return-1===n?t:n.toString(36)},_max:function(t,e){return"string"==typeof t&&1===t.length?e[parseInt(t,36)]:"string"==typeof t&&"___"===t.substr(0,3)?t[3]:t}}),s.utils.EventHub=function(t){s.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(s.utils.EventEmitter.ALL_EVENT,s.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=s.utils.fnBind(this._onEventFromChild,this),o(window).on("gl_child_event",this._boundOnEventFromChild)},s.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},s.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},s.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},s.utils.EventHub.prototype._propagateToParent=function(t){var e;document.createEvent?(e=window.opener.document.createEvent("HTMLEvents")).initEvent("gl_child_event",!0,!0):(e=window.opener.document.createEventObject()).eventType="gl_child_event",e.eventName="gl_child_event",e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent("on"+e.eventType,e)},s.utils.EventHub.prototype._propagateToChildren=function(t){var e,n;for(n=0;n<this._layoutManager.openPopouts.length;n++)(e=this._layoutManager.openPopouts[n].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},s.utils.EventHub.prototype.destroy=function(){o(window).off("gl_child_event",this._boundOnEventFromChild)},s.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on("open",this._render,this),this._container.on("destroy",this._destroy,this)},s.utils.copy(s.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off("open",this._render,this),this._container.off("destroy",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error("No react component name. type: react-component needs a field `component`");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component "'+e+'" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},e=o.extend(t,this._container._config.props);return React.createElement(this._reactClass,e)}})},function(t,e){t.exports=$},function(t,e,n){var r=n(511);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(332)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(331)(!1)).push([t.i,".lm_root{\n    position:relative\n}\n.lm_row>.lm_item{\n    float:left\n}\n.lm_content{\n    overflow:hidden;\n    position:relative\n}\n.lm_dragging,.lm_dragging *{\n    cursor:move !important;\n    user-select:none\n}\n.lm_maximised{\n    position:absolute;\n    top:0;\n    left:0;\n    z-index:40\n}\n.lm_maximise_placeholder{\n    display:none\n}\n.lm_splitter{\n    position:relative;\n    z-index:20\n}\n.lm_splitter:hover,.lm_splitter.lm_dragging{\n    background:orange\n}\n.lm_splitter.lm_vertical .lm_drag_handle{\n    width:100%;\n    height:15px;\n    position:absolute;\n    top:-5px;\n    cursor:ns-resize\n}\n.lm_splitter.lm_horizontal{\n    float:left;\n    height:100%\n}\n.lm_splitter.lm_horizontal .lm_drag_handle{\n    width:15px;\n    height:100%;\n    position:absolute;\n    left:-5px;\n    cursor:ew-resize\n}\n.lm_header{\n    overflow:visible;\n    position:relative;\n    z-index:1\n}\n.lm_header [class^=lm_]{ /* EDITED */\n    box-sizing:border-box !important\n}\n.lm_header .lm_controls{ /* EDITED */\n    position:absolute;\n    top: 8px;\n    right:3px\n}\n.lm_header .lm_controls>li{\n    cursor:pointer;\n    float:left;\n    width:18px;\n    height:18px;\n    text-align:center\n}\n.lm_header .lm_controls .lm_tabdropdown { /* ADDED */\n    line-height: 16px;\n}\n.lm_header ul{\n    margin:0;\n    padding:0;\n    list-style-type:none\n}\n.lm_header .lm_tabs{\n    position:absolute\n}\n.lm_header .lm_tab{ /* EDITED */\n    cursor:pointer;\n    float:left;\n    /* height:14px; */\n    height:36px;\n    line-height: 36px;\n    /* margin-top:1px; */\n    padding:0 10px 5px;\n    padding-right:25px;\n    position:relative\n}\n\n.lm_header .lm_tab div:last-child { /* ADDED */\n    position: relative;\n    top: 11px;\n}\n\n.lm_header .lm_tab i{\n    width:2px;\n    height:19px;\n    position:absolute\n}\n.lm_header .lm_tab i.lm_left{\n    top:0;\n    left:-2px\n}\n.lm_header .lm_tab i.lm_right{\n    top:0;\n    right:-2px\n}\n.lm_header .lm_tab .lm_title{\n    display:inline-block;\n    overflow:hidden;\n    text-overflow:ellipsis\n}\n.lm_header .lm_tab .lm_close_tab{\n    width:14px;\n    height:14px;\n    position:absolute;\n    top:0;\n    right:0;\n    text-align:center\n}\n.lm_stack.lm_left .lm_header,.lm_stack.lm_right .lm_header{\n    height:100%\n}\n.lm_dragProxy.lm_left .lm_header,.lm_dragProxy.lm_right .lm_header,.lm_stack.lm_left .lm_header,.lm_stack.lm_right .lm_header{\n    width:20px;\n    float:left;\n    vertical-align:top\n}\n.lm_dragProxy.lm_left .lm_header .lm_tabs,.lm_dragProxy.lm_right .lm_header .lm_tabs,.lm_stack.lm_left .lm_header .lm_tabs,.lm_stack.lm_right .lm_header .lm_tabs{\n    transform-origin:left top;\n    top:0;\n    width:1000px\n}\n.lm_dragProxy.lm_left .lm_header .lm_controls,.lm_dragProxy.lm_right .lm_header .lm_controls,.lm_stack.lm_left .lm_header .lm_controls,.lm_stack.lm_right .lm_header .lm_controls{\n    bottom:0\n}\n.lm_dragProxy.lm_left .lm_items,.lm_dragProxy.lm_right .lm_items,.lm_stack.lm_left .lm_items,.lm_stack.lm_right .lm_items{\n    float:left\n}\n.lm_dragProxy.lm_left .lm_header .lm_tabs,.lm_stack.lm_left .lm_header .lm_tabs{\n    transform:rotate(-90deg) scaleX(-1);\n    left:0\n}\n.lm_dragProxy.lm_left .lm_header .lm_tabs .lm_tab,.lm_stack.lm_left .lm_header .lm_tabs .lm_tab{\n    transform:scaleX(-1);\n    margin-top:1px\n}\n.lm_dragProxy.lm_left .lm_header .lm_tabdropdown_list,.lm_stack.lm_left .lm_header .lm_tabdropdown_list{\n    top:initial;\n    right:initial;\n    left:20px\n}\n.lm_dragProxy.lm_right .lm_content{\n    float:left\n}\n.lm_dragProxy.lm_right .lm_header .lm_tabs,.lm_stack.lm_right .lm_header .lm_tabs{\n    transform:rotate(90deg) scaleX(1);\n    left:100%;\n    margin-left:0\n}\n.lm_dragProxy.lm_right .lm_header .lm_controls,.lm_stack.lm_right .lm_header .lm_controls{\n    left:3px\n}\n.lm_dragProxy.lm_right .lm_header .lm_tabdropdown_list,.lm_stack.lm_right .lm_header .lm_tabdropdown_list{\n    top:initial;\n    right:20px\n}\n.lm_dragProxy.lm_bottom .lm_header .lm_tab,.lm_stack.lm_bottom .lm_header .lm_tab{\n    margin-top:0;\n    border-top:none\n}\n.lm_dragProxy.lm_bottom .lm_header .lm_controls,.lm_stack.lm_bottom .lm_header .lm_controls{\n    top:3px\n}\n.lm_dragProxy.lm_bottom .lm_header .lm_tabdropdown_list,.lm_stack.lm_bottom .lm_header .lm_tabdropdown_list{\n    top:initial;\n    bottom:20px\n}\n.lm_drop_tab_placeholder{\n    float:left;\n    width:100px;\n    height:10px;\n    visibility:hidden\n}\n.lm_header .lm_controls .lm_tabdropdown:before{\n    content:'';\n    width:0;\n    height:0;\n    vertical-align:middle;\n    display:inline-block;\n    border-top:5px dashed;\n    border-right:5px solid transparent;\n    border-left:5px solid transparent;\n    color:white\n}\n.lm_header .lm_tabdropdown_list{ /* EDITED */\n    position:absolute;\n    /* top:20px; */\n    top:36px;\n    right:0;\n    z-index:5;\n    overflow:hidden\n}\n.lm_header .lm_tabdropdown_list .lm_tab{\n    clear:both;\n    padding-right:10px;\n    margin:0\n}\n.lm_header .lm_tabdropdown_list .lm_tab .lm_title{\n    width:100px\n}\n.lm_header .lm_tabdropdown_list .lm_close_tab{\n    display:none !important\n}\n.lm_dragProxy{\n    position:absolute;\n    top:0;\n    left:0;\n    z-index:30\n}\n.lm_dragProxy .lm_header{\n    background:transparent\n}\n.lm_dragProxy .lm_content{\n    border-top:none;\n    overflow:hidden\n}\n.lm_dropTargetIndicator{\n    display:none;\n    position:absolute;\n    z-index:20\n}\n.lm_dropTargetIndicator .lm_inner{\n    width:100%;\n    height:100%;\n    position:relative;\n    top:0;\n    left:0\n}\n.lm_transition_indicator{\n    display:none;\n    width:20px;\n    height:20px;\n    position:absolute;\n    top:0;\n    left:0;\n    z-index:20\n}\n.lm_popin{\n    width:20px;\n    height:20px;\n    position:absolute;\n    bottom:0;\n    right:0;\n    z-index:9999\n}\n.lm_popin>*{\n    width:100%;\n    height:100%;\n    position:absolute;\n    top:0;\n    left:0\n}\n.lm_popin>.lm_bg{\n    z-index:10\n}\n.lm_popin>.lm_icon{\n    z-index:20\n}",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,n){var r=n(514);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(332)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(331)(!1)).push([t.i,".lm_goldenlayout{\n    background:#000000\n}\n.lm_content{ /* EDITED */\n    background:#2A2B41\n}\n.lm_dragProxy .lm_content{\n    box-shadow:2px 2px 4px rgba(0,0,0,0.9)\n}\n.lm_dropTargetIndicator{\n    box-shadow:inset 0 0 30px #000000;\n    outline:1px dashed #cccccc;\n    transition:all 200ms ease\n}\n.lm_dropTargetIndicator .lm_inner{\n    background:#000000;\n    opacity:.2\n}\n.lm_splitter{\n    background:#000000;\n    opacity:.001;\n    transition:opacity 200ms ease\n}\n.lm_splitter:hover,.lm_splitter.lm_dragging{\n    background:#444444;\n    opacity:1\n}\n.lm_header{ /* EDITED */\n    /* height:20px; */\n    height:36px;\n    user-select:none;\n    background-color:#191A28;\n    box-sizing: border-box;\n    border-bottom: 1px solid #2A2B41;\n}\n.lm_header.lm_selectable{\n    cursor:pointer\n}\n.lm_header .lm_tab{ /* EDITED */\n    font-family:Arial,sans-serif;\n    font-size:12px;\n    /* color:#999999; */\n    color:#6679B3;\n    /* background:#111111; */\n    background:#212134;\n    /* box-shadow:2px -2px 2px rgba(0,0,0,0.3); */\n    margin-right:2px;\n    padding-bottom:2px;\n    /* padding-top:2px */\n    border-bottom: 1px solid #1C1D2C;\n}\n.lm_header .lm_tab .lm_close_tab{ /* EDITED */\n    width:11px;\n    height:11px;\n    background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAATElEQVR4nG3OwQ0DMQwDwZGRBtR/j1YJzMc5+IDoR+yCVO29g+pu981MFgqZmRdAfU7+CYWcbF11LwALjpBL0N0qybNx/RPU+gOeiS/+XCRwDlTgkQAAAABJRU5ErkJggg==);\n    background-position:center center;\n    background-repeat:no-repeat;\n    top:13px;\n    right:6px;\n    opacity:.7\n}\n.lm_header .lm_tab .lm_close_tab:hover{\n    opacity:1\n}\n.lm_header .lm_tab.lm_active{\n    border-bottom:none;\n    /* box-shadow:0 -2px 2px #000000; */\n    /* padding-bottom:3px */\n}\n.lm_header .lm_tab.lm_active .lm_close_tab{\n    opacity:1\n}\n.lm_dragProxy.lm_bottom .lm_header .lm_tab,.lm_stack.lm_bottom .lm_header .lm_tab{\n    box-shadow:2px 2px 2px rgba(0,0,0,0.3)\n}\n.lm_dragProxy.lm_bottom .lm_header .lm_tab.lm_active,.lm_stack.lm_bottom .lm_header .lm_tab.lm_active{\n    box-shadow:0 2px 2px #000000\n}\n.lm_selected .lm_header{ /* EDITED */\n    /* background-color:#452500 */\n    background-color:#368FDA\n}\n.lm_tab:hover,.lm_tab.lm_active{\n    /* background:#222222; */\n    background:#2A2B41;\n    /* color:#dddddd */\n    color:white\n}\n.lm_header .lm_controls .lm_tabdropdown:before{\n    color:#ffffff\n}\n.lm_controls>li{\n    position:relative;\n    background-position:center center;\n    background-repeat:no-repeat;\n    opacity:.7;\n    transition:opacity 300ms ease\n}\n.lm_controls>li:hover{\n    opacity:1\n}\n.lm_controls .lm_popout{\n    background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAPklEQVR4nI2Q0QoAIAwCNfr/X7aXCpGN8snBdgejJOzckpkxs9jR6K6T5JpU0nWl5pSXTk7qwh8SnNT+CAAWCgkKFpuSWsUAAAAASUVORK5CYII=)\n}\n.lm_controls .lm_maximise{\n    background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAKElEQVR4nGP8////fwYCgImQAgYGBgYWKM2IR81/okwajIpgvsMbVgAwgQYRVakEKQAAAABJRU5ErkJggg==)\n}\n.lm_controls .lm_close{\n    background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAQUlEQVR4nHXOQQ4AMAgCQeT/f6aXpsGK3jSTuCVJAAr7iBdoAwCKd0nwfaAdHbYERw5b44+E8JoBjEYGMBq5gAYP3usUDu2IvoUAAAAASUVORK5CYII=)\n}\n.lm_maximised .lm_header{ /* EDITED */\n    /* background-color:#000000 */\n    background-color:#191A28\n}\n.lm_maximised .lm_controls .lm_maximise{\n    background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJ0lEQVR4nGP8//8/AzGAiShVI1YhCwMDA8OsWbPwBmZaWhoj0SYCAN1lBxMAX4n0AAAAAElFTkSuQmCC)\n}\n.lm_transition_indicator{\n    background-color:#000000;\n    border:1px dashed #555555\n}\n.lm_popin{\n    cursor:pointer\n}\n.lm_popin .lm_bg{\n    background:#ffffff;\n    opacity:.3\n}\n.lm_popin .lm_icon{\n    background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAWklEQVR4nJWOyw3AIAxDHcQC7L8jbwT3AlJBfNp3SiI7dtRaLSlKKeoA1oEsKSQZCEluexw8Tm3ohk+E7bnOUHUGcNh+HwbBygw4AZ7FN/Lt84p0l+yTflV8AKQyLdcCRJi/AAAAAElFTkSuQmCC);\n    background-position:center center;\n    background-repeat:no-repeat;\n    border-left:1px solid #eeeeee;\n    border-top:1px solid #eeeeee;\n    opacity:.7\n}\n.lm_popin:hover .lm_icon{\n    opacity:1\n}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addContentAsync=async function t(e,n,r=""){return Promise.all(Object.keys(e).map(async i=>{const o=e[i],s=r?r+"/"+i:i;"string"==typeof o?await n.saveFile(s,o):(await n.ensureDirectory(s),await t(o,n,s))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWorkerEndpoint=function(t,e,n){const r=e?e.startsWith("/")?window.location.protocol+"//"+window.location.host+e:e:"",i=t.startsWith("/")?window.location.protocol+"//"+window.location.host+t:t,o=new Blob([`\n        self.__projectFiles = ${JSON.stringify(n)};\n        self.__recipePath = "${r}";\n        importScripts("${i}");\n    `],{type:"text/html"}),s=new Worker(URL.createObjectURL(o));return{dispose:s.terminate.bind(s),endPoint:s}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getProjectFilesText=async function(t){const e=await fetch(t);return await e.text()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParams=function(){const t={},e=window.location.href.split("?")[1];return e?(e.split("&").forEach(e=>{const n=e.split("=");t[n[0]]=n[1]}),t):t}}]);